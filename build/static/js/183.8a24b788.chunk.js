"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[183],{5183:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var r=a(885),s=a(2791),i=a(2426),n=a.n(i),o=a(4957),c=a(184);function l(t){var e=t.first_year,a=t.event_bars,r=t.bar_height,s=t.bar_start,i=a.map((function(t){return(0,c.jsx)("div",{className:"event__timeline__subbar",style:{height:t[0]+"%",bottom:t[1]+"%"}})}));return(0,c.jsxs)("div",{className:"event__timeline",children:[(0,c.jsx)("p",{className:"event__timeline__now",children:"Now"}),(0,c.jsx)("p",{className:"event__timeline__start",children:e}),i,(0,c.jsx)("div",{className:"event__timeline__bar",style:{height:r+"%",bottom:s+"%"}})]})}var m=(0,o.R0)("events")((function(t){var e=t.db,a=(0,s.useState)(0),i=(0,r.Z)(a,2),o=i[0],m=i[1],u=(0,s.useState)(0),_=(0,r.Z)(u,2),h=_[0],d=_[1],f=(0,s.useState)(null),v=(0,r.Z)(f,2),b=v[0],g=v[1],p=e.events.map((function(t){return{title:t.title,place:t.place,from:t.from,to:t.to,description:t.description,slug:t.slug}})),x=n()();p.forEach((function(t){var e=t.to?n()(t.to,"HH:mm"):n()(),a=n()(t.from,"HH:mm"),r=e.diff(a,"minutes");t.from=a.format("HH:mm"),t.to=t.to?e.format("HH:mm"):"Now",t._from=a,t._to=e,t.time=0===r?t.from:t.from+" - "+t.to,t.duration=0===r?1:r,x.diff(a)>0&&(x=a)}));var j=n()().diff(x,"minutes");p.forEach((function(t){t.bar_start=100*t._from.diff(x,"minutes")/j,t.bar_height=100*t.duration/j}));var N=p.map((function(t){return[t.bar_height,t.bar_start]}));function w(t){d(t.target.getAttribute("data-barstart")||t.target.parentElement.getAttribute("data-barstart")),m(t.target.getAttribute("data-barheight")||t.target.parentElement.getAttribute("data-barheight"))}return(0,c.jsx)("div",{className:"container",id:"events",children:(0,c.jsxs)("div",{className:"container__content",children:[(0,c.jsx)("h1",{children:"Our itinerary"}),(0,c.jsxs)("div",{className:"events",children:[(0,c.jsx)(l,{first_year:x.format("YYYY"),event_bars:N,bar_height:o,bar_start:h}),(0,c.jsx)("div",{className:"events__items",children:p.map((function(t){var e=b===t.slug;return(0,c.jsxs)("div",{className:"events__item ".concat(e?"active":""),"data-key":t.slug,onMouseEnter:w,onTouchStart:w,onClick:function(){return e=t.slug,void g(b===e?null:e);var e},"data-barstart":t.bar_start,"data-barheight":t.bar_height,children:[(0,c.jsxs)("p",{className:"events__item__place ".concat(e?"show-text":""),children:[(0,c.jsx)("i",{className:"fa fa-map-marker-alt","aria-hidden":"true"})," ",t.place]}),(0,c.jsx)("h2",{children:t.title}),(0,c.jsx)("p",{className:"events__item__time ".concat(e?"show-text":""),children:t.time}),(0,c.jsx)("p",{className:e?"show-text":"",children:t.description})]},t.slug)}))})]})]})})}))}}]);
//# sourceMappingURL=183.8a24b788.chunk.js.map