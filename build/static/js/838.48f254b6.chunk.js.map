{"version":3,"file":"static/js/838.48f254b6.chunk.js","mappings":"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","sources":["sass/main.scss","components/Core/constants.js","components/effects/Blur/domUtils.ts","components/effects/Blur/point.ts","components/effects/Blur/scrollSpeed.ts","components/effects/Blur/id.ts","components/effects/Blur/svg.ts","components/effects/Blur/bodyScroll.ts","components/effects/Blur/spring.ts","components/effects/Blur/BlurSection.js","components/effects/Loading/LoadingSequence.js","components/effects/Matrix/Matrix.js","components/effects/Loading/FrameEffect.js","components/effects/Moiree/Moiree.js","components/content/Header/useScrambleEffect.js","components/content/Header/Header.js","components/content/Work/Work.js","components/content/Projects/Projects.js","components/content/About/About.js","components/content/NavBar/NavBar.js","components/effects/InfiniteScrollEffect.jsx","App.js","components/Tools/Bingo/BingoGame.js","components/Tools/ConflictMediation/EmotionSelector.js","components/Tools/ConflictMediation/ReflectionPrompts.js","components/Tools/ConflictMediation/ProgressTracker.js","components/Tools/ConflictMediation/ConflictMediation.js","components/Tools/ConflictMediation/NeedsAssessment.js","components/Tools/ConflictMediation/index.ts","components/Tools/Snake/GameBoard.js","components/Tools/Snake/Controls.js","components/Tools/Snake/SnakeGame.js","components/Tools/ToolsSection/FullscreenWrapper.js","components/Tools/ToolsSection/ToolsSection.js","components/Tools/shared/hooks.js","components/effects/Matrix/AuthContext.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"phoneWidth\":\"31.25em\",\"tabletSmWidth\":\"37.5em\",\"tabletWidth\":\"50em\",\"desktopSmWidth\":\"62.5em\",\"desktopWidth\":\"75em\",\"desktopLgWidth\":\"87.5em\",\"smallWidth\":\"36em\",\"mediumWidth\":\"48em\",\"transitionTiming\":\"cubic-bezier(0.4, 0, 0.2, 1)\",\"transitionDuration\":\".3s\"};","export const GOOGLE_SHEETS_CONFIG = {\n\tapiKey: process.env.REACT_APP_GOOGLE_SHEETS_API_KEY,\n\tdiscoveryDocs: [\"https://sheets.googleapis.com/$discovery/rest?version=v4\"],\n\tspreadsheetId: process.env.REACT_APP_GOOGLE_SHEETS_DOC_ID,\n\tdataLoading: {\n\t\tcomponent: () => null,\n\t},\n};\n\nexport const NAV_ITEMS = {\n\tAbout: \"/#about\",\n\tProjects: \"/#projects\",\n\tWork: \"/#work\",\n};\n","export function createTimeout(callback: () => void, time: number) {\n\tconst timeout = setTimeout(callback, time);\n\n\treturn function clear() {\n\t\tclearTimeout(timeout);\n\t};\n}\n","export interface Point {\n\tx: number;\n\ty: number;\n}\n\nexport function copyPoint(point: Point): Point {\n\treturn {\n\t\t...point,\n\t};\n}\n\nexport function subtractPoints(a: Point, b: Point): Point {\n\treturn {\n\t\tx: a.x - b.x,\n\t\ty: a.y - b.y,\n\t};\n}\n","import { createTimeout } from \"./domUtils\";\nimport { type Point, copyPoint, subtractPoints } from \"./point\";\n\nfunction getElementScrollPosition(element: HTMLElement): Point {\n\treturn {\n\t\tx: element.scrollLeft,\n\t\ty: element.scrollTop,\n\t};\n}\n\n// Throttle function to limit execution frequency\nfunction throttle(func: Function, limit: number): (...args: any[]) => void {\n\tlet inThrottle: boolean;\n\treturn (...args: any[]) => {\n\t\tif (!inThrottle) {\n\t\t\tfunc(...args);\n\t\t\tinThrottle = true;\n\t\t\tsetTimeout(() => inThrottle = false, limit);\n\t\t}\n\t};\n}\n\nexport function initializeScrollSpeedWatcher(\n\telement: HTMLElement,\n\tonChange: (speed: Point) => void,\n) {\n\tlet lastPosition = getElementScrollPosition(element);\n\tlet currentPosition = copyPoint(lastPosition);\n\tlet speed = subtractPoints(currentPosition, lastPosition);\n\tlet rafId: number | null = null;\n\tlet isProgrammaticScroll = false;\n\n\tconst updateSpeed = (newSpeed: Point) => {\n\t\tspeed = newSpeed;\n\t\tonChange(speed);\n\t};\n\n\tconst clearSpeed = () => {\n\t\tupdateSpeed({ x: 0, y: 0 });\n\t};\n\n\tlet clearSpeedTimeout = createTimeout(() => {}, 50);\n\n\t// Handle programmatic scrolls from infinite scroll\n\tconst handleProgrammaticScroll = (event: CustomEvent) => {\n\t\tisProgrammaticScroll = true;\n\t\t// Smoothly transition the blur during the position reset\n\t\tconst { fromY, toY } = event.detail;\n\t\tconst virtualSpeed = { x: 0, y: (toY - fromY) / 4 }; // Reduced intensity\n\t\tupdateSpeed(virtualSpeed);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tisProgrammaticScroll = false;\n\t\t\tclearSpeed();\n\t\t}, 100);\n\t};\n\n\t// Use requestAnimationFrame for smooth updates\n\tconst updateFrame = () => {\n\t\tif (isProgrammaticScroll) return;\n\n\t\tlastPosition = currentPosition;\n\t\tcurrentPosition = getElementScrollPosition(element);\n\t\tconst newSpeed = subtractPoints(currentPosition, lastPosition);\n\t\t\n\t\t// Only update if there's actual movement\n\t\tif (newSpeed.x !== 0 || newSpeed.y !== 0) {\n\t\t\tupdateSpeed(newSpeed);\n\t\t\tclearSpeedTimeout();\n\t\t\tclearSpeedTimeout = createTimeout(clearSpeed, 30);\n\t\t}\n\t\t\n\t\trafId = requestAnimationFrame(updateFrame);\n\t};\n\n\t// Throttle scroll handler to run at most every 8ms for more responsive updates\n\tconst handleScroll = throttle(() => {\n\t\tif (rafId === null && !isProgrammaticScroll) {\n\t\t\trafId = requestAnimationFrame(updateFrame);\n\t\t}\n\t}, 8);\n\n\tdocument.addEventListener(\"scroll\", handleScroll, { passive: true });\n\twindow.addEventListener(\"programmaticScroll\", handleProgrammaticScroll as EventListener);\n\n\treturn () => {\n\t\tdocument.removeEventListener(\"scroll\", handleScroll);\n\t\twindow.removeEventListener(\"programmaticScroll\", handleProgrammaticScroll as EventListener);\n\t\tif (rafId !== null) {\n\t\t\tcancelAnimationFrame(rafId);\n\t\t}\n\t\tclearSpeedTimeout();\n\t};\n}\n","const DEFAULT_ALPHABET =\n\t\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\nfunction getRandomCharFromAlphabet(alphabet: string): string {\n\treturn alphabet.charAt(Math.floor(Math.random() * alphabet.length));\n}\n\nexport function generateId(\n\tidDesiredLength = 5,\n\talphabet = DEFAULT_ALPHABET,\n): string {\n\t/**\n\t * Create n-long array and map it to random chars from given alphabet.\n\t * Then join individual chars as string\n\t */\n\treturn Array.from({ length: idDesiredLength })\n\t\t.map(() => {\n\t\t\treturn getRandomCharFromAlphabet(alphabet);\n\t\t})\n\t\t.join(\"\");\n}\n","// <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"filters\">\n// \t<defs>\n// \t\t<filter id=\"blur\">\n// \t\t\t<feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"0,0\" />\n// \t\t</filter>\n// \t</defs>\n// </svg>\n\nimport { generateId } from \"./id\";\nimport type { Point } from \"./point\";\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\n// Reuse SVG container for all blur instances\nlet globalSvgContainer: SVGSVGElement | null = null;\nlet activeFilters = new Set<string>();\n\nfunction getOrCreateSvgContainer(): SVGSVGElement {\n\tif (!globalSvgContainer) {\n\t\tglobalSvgContainer = document.createElementNS(SVG_NS, \"svg\");\n\t\tglobalSvgContainer.setAttribute(\"version\", \"1.1\");\n\t\tglobalSvgContainer.setAttribute(\"xmlns\", SVG_NS);\n\t\tglobalSvgContainer.classList.add(\"motionblur-svg\");\n\t\tglobalSvgContainer.style.cssText = \"position:absolute;width:0;height:0;pointer-events:none;\";\n\t\t\n\t\tconst defs = document.createElementNS(SVG_NS, \"defs\");\n\t\tglobalSvgContainer.appendChild(defs);\n\t\tdocument.body.appendChild(globalSvgContainer);\n\t}\n\treturn globalSvgContainer;\n}\n\nfunction createSvgElement(type: string) {\n\treturn document.createElementNS(SVG_NS, type);\n}\n\nexport function createBlurSvg() {\n\tconst svg = getOrCreateSvgContainer();\n\tconst defs = svg.querySelector(\"defs\")!;\n\tconst filter = createSvgElement(\"filter\");\n\tconst filterId = generateId();\n\t\n\tfilter.id = filterId;\n\tactiveFilters.add(filterId);\n\n\tconst blurFilter = createSvgElement(\"feGaussianBlur\");\n\tblurFilter.setAttribute(\"stdDeviation\", \"0,0\");\n\tblurFilter.setAttribute(\"edgeMode\", \"duplicate\");\n\tblurFilter.setAttribute(\"in\", \"SourceGraphic\");\n\n\tfilter.appendChild(blurFilter);\n\tdefs.appendChild(filter);\n\n\t// Use a WeakMap to track applied elements for cleanup\n\tconst appliedElements = new WeakMap<HTMLElement, {\n\t\toriginalFilter: string;\n\t\toriginalTransform: string;\n\t}>();\n\n\tconst destroy = () => {\n\t\t// Remove filter and clean up applied elements\n\t\tfilter.remove();\n\t\tactiveFilters.delete(filterId);\n\n\t\t// Clean up global SVG if no more filters\n\t\tif (activeFilters.size === 0 && globalSvgContainer) {\n\t\t\tglobalSvgContainer.remove();\n\t\t\tglobalSvgContainer = null;\n\t\t}\n\t};\n\n\t// Debounced blur updates\n\tlet updateTimeout: number;\n\tconst setBlur = ({ x, y }: Point) => {\n\t\tcancelAnimationFrame(updateTimeout);\n\t\tupdateTimeout = requestAnimationFrame(() => {\n\t\t\tblurFilter.setAttribute(\"stdDeviation\", `${x},${y}`);\n\t\t});\n\t};\n\n\tconst getId = () => filterId;\n\n\tconst applyTo = (element: HTMLElement) => {\n\t\tconst originalFilter = element.style.filter;\n\t\tconst originalTransform = element.style.transform;\n\n\t\tappliedElements.set(element, {\n\t\t\toriginalFilter,\n\t\t\toriginalTransform\n\t\t});\n\n\t\t// Use GPU acceleration and combine with existing filters\n\t\telement.style.filter = originalFilter\n\t\t\t? `${originalFilter} url(#${filterId})`\n\t\t\t: `url(#${filterId})`;\n\t\t\n\t\telement.style.transform = originalTransform\n\t\t\t? `${originalTransform} translate3d(0,0,0)`\n\t\t\t: \"translate3d(0,0,0)\";\n\n\t\treturn () => {\n\t\t\tconst original = appliedElements.get(element);\n\t\t\tif (original) {\n\t\t\t\telement.style.filter = original.originalFilter;\n\t\t\t\telement.style.transform = original.originalTransform;\n\t\t\t\tappliedElements.delete(element);\n\t\t\t}\n\t\t};\n\t};\n\n\treturn {\n\t\tdestroy,\n\t\tsetBlur,\n\t\tgetId,\n\t\tapplyTo,\n\t};\n}\n","import { initializeScrollSpeedWatcher } from \"./scrollSpeed\";\nimport { createSpring } from \"./spring\";\nimport { createBlurSvg } from \"./svg\";\n\nexport function initializeBodyScrollMotionBlur(targetElement = document.body) {\n\tconst bodyBlur = createBlurSvg();\n\tconst blurYSpring = createSpring(0, { damping: 30, stiffness: 1000 });\n\n\tinitializeScrollSpeedWatcher(document.documentElement, (speed) => {\n\t\t// Only apply vertical blur with reduced intensity\n\t\tbodyBlur.setBlur({ x: 0, y: Math.min(Math.abs(speed.y / 4), 10) });\n\t\tblurYSpring.transitionTo(speed.y);\n\t});\n\n\treturn bodyBlur.applyTo(targetElement);\n}\n","export function createSpring(\n\tinitialPosition = 0,\n\t{ stiffness = 200, damping = 10, precision = 100 } = {},\n) {\n\tlet position = initialPosition;\n\tlet endPosition = 0;\n\tconst secPerFrame = 1 / 60;\n\tlet velocity = 0;\n\tlet onUpdate = (v: number) => {};\n\tlet onRest = (v: number) => {};\n\tlet raf: number;\n\n\tconst interpolate = () => {\n\t\tconst distance = endPosition - position;\n\t\tconst acceleration = stiffness * distance - damping * velocity;\n\t\tconst newVelocity = velocity + acceleration * secPerFrame;\n\t\tconst newPosition = position + newVelocity * secPerFrame;\n\n\t\tconst isComplete =\n\t\t\tMath.abs(newVelocity) < 1 / precision &&\n\t\t\tMath.abs(newPosition - endPosition) < 1 / precision;\n\n\t\tposition = isComplete ? endPosition : newPosition;\n\t\tvelocity = newVelocity;\n\t\tonUpdate(position);\n\n\t\tif (!isComplete) {\n\t\t\traf = requestAnimationFrame(interpolate);\n\t\t} else {\n\t\t\tonRest(position);\n\t\t}\n\t};\n\n\treturn {\n\t\tget value() {\n\t\t\treturn position;\n\t\t},\n\t\tget velocity() {\n\t\t\treturn velocity;\n\t\t},\n\t\tsetValue: (v = 0) => {\n\t\t\tcancelAnimationFrame(raf);\n\t\t\tposition = endPosition = v;\n\t\t\tonUpdate(position);\n\t\t},\n\t\ttransitionTo: (v = 0) => {\n\t\t\tcancelAnimationFrame(raf);\n\t\t\tendPosition = v;\n\t\t\traf = requestAnimationFrame(interpolate);\n\t\t},\n\t\tonUpdate: (fn = (v: number) => {}) => {\n\t\t\tonUpdate = fn;\n\t\t\tfn(position);\n\t\t},\n\t\tonRest: (fn = (v: number) => {}) => {\n\t\t\tonRest = fn;\n\t\t},\n\t\tdestroy: () => {\n\t\t\tcancelAnimationFrame(raf);\n\t\t\tonUpdate = () => {};\n\t\t\tonRest = () => {};\n\t\t},\n\t};\n}\n","import React, { useEffect, useRef, useState, useCallback } from \"react\";\nimport { initializeBodyScrollMotionBlur } from \"./bodyScroll\";\n\nconst MOBILE_BREAKPOINT = 768;\nconst isMobileDevice = () => window.innerWidth <= MOBILE_BREAKPOINT;\n\nconst BlurSection = ({\n\tchildren,\n\tclassName,\n\tstyle = {},\n\tas: Component = \"div\",\n\tdisabled = false,\n\t...props\n}) => {\n\tconst containerRef = useRef(null);\n\tconst cleanupRef = useRef(null);\n\tconst [isMobile, setIsMobile] = useState(isMobileDevice());\n\tconst resizeTimeoutRef = useRef(null);\n\n\tconst handleResize = useCallback(() => {\n\t\t// Clear any existing resize timeout\n\t\tif (resizeTimeoutRef.current) {\n\t\t\tclearTimeout(resizeTimeoutRef.current);\n\t\t}\n\n\t\t// Wait for resize to finish before updating mobile state\n\t\tresizeTimeoutRef.current = setTimeout(() => {\n\t\t\tconst wasMobile = isMobile;\n\t\t\tconst nowMobile = isMobileDevice();\n\t\t\t\n\t\t\tif (wasMobile !== nowMobile) {\n\t\t\t\tsetIsMobile(nowMobile);\n\t\t\t}\n\t\t}, 250); // Longer debounce for resize events\n\t}, [isMobile]);\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"resize\", handleResize);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", handleResize);\n\t\t\tif (resizeTimeoutRef.current) {\n\t\t\t\tclearTimeout(resizeTimeoutRef.current);\n\t\t\t}\n\t\t};\n\t}, [handleResize]);\n\n\tuseEffect(() => {\n\t\tif (!disabled && containerRef.current && !isMobile) {\n\t\t\t// Clean up previous effect if it exists\n\t\t\tif (cleanupRef.current) {\n\t\t\t\tcleanupRef.current();\n\t\t\t\tcleanupRef.current = null;\n\t\t\t}\n\n\t\t\tcleanupRef.current = initializeBodyScrollMotionBlur(containerRef.current);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (cleanupRef.current) {\n\t\t\t\tcleanupRef.current();\n\t\t\t\tcleanupRef.current = null;\n\t\t\t}\n\t\t};\n\t}, [isMobile, disabled]);\n\n\treturn (\n\t\t<Component\n\t\t\tref={containerRef}\n\t\t\tclassName={className}\n\t\t\tstyle={{\n\t\t\t\tposition: \"relative\",\n\t\t\t\twillChange: !disabled && !isMobile ? \"filter\" : \"auto\",\n\t\t\t\ttransition: \"filter 0.15s ease-out\", // Smooth transition for blur changes\n\t\t\t\t...style,\n\t\t\t}}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Component>\n\t);\n};\n\nexport default React.memo(BlurSection);\n","// LoadingSequence.js\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nconst MaskCommon = styled.div`\n\tposition: fixed;\n\tleft: 0;\n\twidth: 100%;\n\theight: 50%;\n\tbackground: #999;\n\tz-index: 20000;\n\ttransition: transform 1s ease-in-out;\n\tmix-blend-mode: difference;\n`;\n\nconst MaskTop = styled(MaskCommon)`\n\ttop: 0;\n\ttransform-origin: top;\n`;\n\nconst MaskBottom = styled(MaskCommon)`\n\tbottom: 0;\n\ttransform-origin: bottom;\n`;\n\nconst LoadingSequence = ({ onComplete }) => {\n\tuseEffect(() => {\n\t\tconst maskTop = document.getElementById(\"MaskTop\");\n\t\tconst maskBottom = document.getElementById(\"MaskBottom\");\n\t\tconst magicContainer = document.getElementById(\"magicContainer\");\n\n\t\t// Initial state\n\t\tif (magicContainer) {\n\t\t\tmagicContainer.style.opacity = \"0\";\n\t\t}\n\n\t\t// Start revealing content\n\t\tsetTimeout(() => {\n\t\t\tmaskTop.style.transform = \"scaleY(0)\";\n\t\t\tmaskBottom.style.transform = \"scaleY(0)\";\n\t\t}, 500);\n\n\t\t// Fade in magic container\n\t\tsetTimeout(() => {\n\t\t\tif (magicContainer) {\n\t\t\t\tmagicContainer.style.opacity = \"0.2\";\n\t\t\t}\n\t\t}, 700);\n\n\t\t// Clean up\n\t\tsetTimeout(() => {\n\t\t\tmaskTop.style.display = \"none\";\n\t\t\tmaskBottom.style.display = \"none\";\n\t\t\tdocument.body.style.overflow = \"\";\n\t\t\tif (onComplete) {\n\t\t\t\tonComplete();\n\t\t\t}\n\t\t}, 2000);\n\t}, [onComplete]);\n\n\treturn (\n\t\t<>\n\t\t\t<MaskTop id=\"MaskTop\" />\n\t\t\t<MaskBottom id=\"MaskBottom\" />\n\t\t</>\n\t);\n};\n\nexport default LoadingSequence;\n","// Third-party imports\nimport React, { useEffect, useRef, useState } from \"react\";\n\n// Context imports\nimport { useAuth } from \"./AuthContext\";\n\n// Asset imports\nimport incorrectGif from \"../../../assets/images/nu-uh-uh.webp\";\n\n// Styles\nimport \"./matrix.scss\";\n\nconst Matrix = ({ isVisible, onSuccess }) => {\n\tconst canvasRef = useRef(null);\n\tconst formRef = useRef(null);\n\tconst [password, setPassword] = useState(\"\");\n\tconst {\n\t\tcheckPassword,\n\t\tshowIncorrectFeedback,\n\t\tshowSuccessFeedback,\n\t\tdismissFeedback,\n\t} = useAuth();\n\n\tconst MIN_FONT_SIZE = 12;\n\tconst MAX_FONT_SIZE = 16;\n\tconst ALPHABET =\n\t\t\"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n\n\t// Handle form submission\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst success = checkPassword(password);\n\t\tif (success) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tonSuccess?.();\n\t\t\t}, 2000); // Match the animation duration\n\t\t}\n\t\tsetPassword(\"\");\n\t};\n\n\t// Handle container clicks\n\tconst handleContainerClick = (e) => {\n\t\tif (e.target !== canvasRef.current) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (showIncorrectFeedback || showSuccessFeedback) {\n\t\t\treturn;\n\t\t}\n\n\t\tonSuccess?.();\n\t};\n\n\t// Handle keypress for incorrect feedback\n\tuseEffect(() => {\n\t\tif (!isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleKeyPress = () => {\n\t\t\tif (showIncorrectFeedback) {\n\t\t\t\tdismissFeedback();\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"keydown\", handleKeyPress);\n\t\treturn () => window.removeEventListener(\"keydown\", handleKeyPress);\n\t}, [isVisible, showIncorrectFeedback, dismissFeedback]);\n\n\t// Matrix Rain Effect\n\tuseEffect(() => {\n\t\tif (!isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst canvas = canvasRef.current;\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tconst resizeCanvas = () => {\n\t\t\tcanvas.width = window.innerWidth;\n\t\t\tcanvas.height = window.innerHeight;\n\t\t};\n\n\t\tresizeCanvas();\n\t\twindow.addEventListener(\"resize\", resizeCanvas);\n\n\t\tclass Drop {\n\t\t\tconstructor(x) {\n\t\t\t\tthis.x = x;\n\t\t\t\tthis.y = -100; // Start above the screen\n\t\t\t\tthis.speed = Math.random() * 1.5 + 0.5; // Slower speed\n\t\t\t\tthis.fontSize = Math.floor(\n\t\t\t\t\tMath.random() * (MAX_FONT_SIZE - MIN_FONT_SIZE) + MIN_FONT_SIZE,\n\t\t\t\t);\n\t\t\t\tthis.char = ALPHABET[Math.floor(Math.random() * ALPHABET.length)];\n\t\t\t\tthis.changeInterval = Math.random() * 40 + 10;\n\t\t\t\tthis.frame = 0;\n\t\t\t\tthis.opacity = Math.random() * 0.5 + 0.2; // Random opacity for each drop\n\t\t\t}\n\n\t\t\tupdate() {\n\t\t\t\tthis.y += this.speed;\n\t\t\t\tthis.frame++;\n\n\t\t\t\tif (this.frame >= this.changeInterval) {\n\t\t\t\t\tthis.char = ALPHABET[Math.floor(Math.random() * ALPHABET.length)];\n\t\t\t\t\tthis.frame = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this.y * this.fontSize > canvas.height) {\n\t\t\t\t\tthis.y = -100 / this.fontSize; // Reset to above screen\n\t\t\t\t\tthis.speed = Math.random() * 1.5 + 0.5;\n\t\t\t\t\tthis.fontSize = Math.floor(\n\t\t\t\t\t\tMath.random() * (MAX_FONT_SIZE - MIN_FONT_SIZE) + MIN_FONT_SIZE,\n\t\t\t\t\t);\n\t\t\t\t\tthis.opacity = Math.random() * 0.5 + 0.2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdraw() {\n\t\t\t\tcontext.font = `${this.fontSize}px monospace`;\n\n\t\t\t\t// Create gradient for each character\n\t\t\t\tconst gradient = context.createLinearGradient(\n\t\t\t\t\tthis.x,\n\t\t\t\t\tthis.y,\n\t\t\t\t\tthis.x,\n\t\t\t\t\tthis.y + this.fontSize,\n\t\t\t\t);\n\t\t\t\tgradient.addColorStop(0, `rgba(0, 255, 0, ${this.opacity})`);\n\t\t\t\tgradient.addColorStop(1, `rgba(0, 170, 0, ${this.opacity * 0.7})`);\n\n\t\t\t\t// Determine if this should be a bright character (less frequently now)\n\t\t\t\tconst isBright = Math.random() > 0.97;\n\n\t\t\t\tif (isBright) {\n\t\t\t\t\tcontext.fillStyle = `rgba(255, 255, 255, ${this.opacity * 1.2})`;\n\t\t\t\t\tcontext.shadowColor = \"rgba(255, 255, 255, 0.5)\";\n\t\t\t\t\tcontext.shadowBlur = 5;\n\t\t\t\t} else {\n\t\t\t\t\tcontext.fillStyle = gradient;\n\t\t\t\t\tcontext.shadowColor = \"rgba(0, 255, 0, 0.3)\";\n\t\t\t\t\tcontext.shadowBlur = 2;\n\t\t\t\t}\n\n\t\t\t\tcontext.fillText(this.char, this.x, this.y * this.fontSize);\n\t\t\t\tcontext.shadowBlur = 0;\n\t\t\t}\n\t\t}\n\n\t\tconst columns = Math.floor(canvas.width / MIN_FONT_SIZE);\n\t\tconst drops = Array(columns)\n\t\t\t.fill(null)\n\t\t\t.map((_, i) => {\n\t\t\t\tconst drop = new Drop(i * MIN_FONT_SIZE);\n\t\t\t\tdrop.y = (Math.random() * canvas.height) / MIN_FONT_SIZE; // Random initial positions\n\t\t\t\treturn drop;\n\t\t\t});\n\n\t\tconst draw = () => {\n\t\t\tcontext.fillStyle = \"rgba(0, 0, 0, 0.02)\"; // More transparent trail\n\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t\tdrops.forEach((drop) => {\n\t\t\t\tdrop.update();\n\t\t\t\tdrop.draw();\n\t\t\t});\n\t\t};\n\n\t\tlet animationFrameId;\n\t\tconst animate = () => {\n\t\t\tdraw();\n\t\t\tanimationFrameId = window.requestAnimationFrame(animate);\n\t\t};\n\n\t\tanimate();\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", resizeCanvas);\n\t\t\twindow.cancelAnimationFrame(animationFrameId);\n\t\t};\n\t}, [isVisible]);\n\n\tif (!isVisible) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`matrix-container ${isVisible ? \"visible\" : \"\"}`}\n\t\t\tonClick={handleContainerClick}\n\t\t>\n\t\t\t<button className=\"matrix-close-btn\" onClick={onSuccess}>\n\t\t\t\tEXIT\n\t\t\t</button>\n\t\t\t<canvas ref={canvasRef} className=\"matrix-canvas\" />\n\n\t\t\t{showIncorrectFeedback && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"feedback-container glitch-effect\"\n\t\t\t\t\tonClick={dismissFeedback}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={incorrectGif}\n\t\t\t\t\t\talt=\"Incorrect password\"\n\t\t\t\t\t\tclassName=\"incorrect-gif\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"feedback-hint\">Press any key to continue</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{showSuccessFeedback && (\n\t\t\t\t<div className=\"success-message\">\n\t\t\t\t\t<span className=\"success-text\">Access Granted</span>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{!showSuccessFeedback && !showIncorrectFeedback && (\n\t\t\t\t<form ref={formRef} onSubmit={handleSubmit} className=\"password-form\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\t\t\tclassName=\"password-input\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Matrix;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { styled } from \"styled-components\";\n\nconst FRAME_BORDER_WIDTH = '7px';\nconst FRAME_COLOR = '#999';\nconst FRAME_BORDER_RADIUS = '20px';\n\nconst Frame = styled.div`\n  --frame-border: ${FRAME_BORDER_WIDTH} solid ${FRAME_COLOR};\n  \n  position: fixed;\n  inset: 0;\n  height: 100vh; /* Fallback for browsers that do not support dvh */\n  height: 100dvh; /* Dynamic viewport height - accounts for mobile browser chrome */\n  border: var(--frame-border);\n  box-sizing: border-box;\n  z-index: var(--z-index-frame);\n  user-select: none;\n  pointer-events: none;\n  mix-blend-mode: difference;\n\n  &::after {\n    content: '';\n    position: absolute;\n    inset: 0;\n    border: var(--frame-border);\n    border-radius: ${FRAME_BORDER_RADIUS};\n    margin: -${FRAME_BORDER_WIDTH};\n  }\n`;\n\nconst ContentWrapper = styled.div`\n  position: relative;\n  z-index: 1;\n  pointer-events: auto;\n`;\n\nconst FrameEffect = ({ children }) => (\n  <div className=\"frame\">\n    <ContentWrapper>{children}</ContentWrapper>\n    <Frame />\n  </div>\n);\n\nFrameEffect.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default FrameEffect;\n","import chroma from \"chroma-js\"; // Import the chroma-js library from the specified CDN\nimport * as ogl from \"ogl\"; // Import the ogl library from the specified CDN\nimport React, { useEffect } from \"react\";\nimport \"./Moiree.css\";\n\nfunction Magic() {\n\tconst { Renderer, Camera, Geometry, Program, Mesh, Color, Vec2 } = ogl;\n\n\tlet renderer;\n\tlet gl;\n\tlet camera;\n\t// eslint-disable-next-line\n\tlet width;\n\tlet height;\n\tlet wWidth;\n\t// let wHeight; // Remove this line\n\tlet mouse;\n\tlet mouseOver = false;\n\n\tlet gridWidth;\n\tlet gridHeight;\n\tlet gridRatio;\n\tlet ripple;\n\tlet points;\n\tconst color1 = new Color([0.149, 0.141, 0.912]);\n\tconst color2 = new Color([1.0, 0.833, 0.224]);\n\tlet cameraZ = 50;\n\n\tconst init = () => {\n\t\trenderer = new Renderer({ dpr: 1 });\n\t\tgl = renderer.gl;\n\t\tdocument.querySelector(\"#magicContainer\").appendChild(gl.canvas);\n\n\t\tcamera = new Camera(gl, { fov: 45 });\n\t\tcamera.position.set(0, 0, cameraZ);\n\n\t\tresize();\n\t\twindow.addEventListener(\"resize\", resize, false);\n\n\t\tmouse = new Vec2();\n\n\t\tinitScene();\n\t\tinitEventsListener();\n\t\trequestAnimationFrame(animate);\n\t};\n\n\tconst initScene = () => {\n\t\tgl.clearColor(1, 1, 1, 1);\n\t\tripple = new RippleEffect(renderer);\n\t\tinitPointsMesh();\n\t};\n\n\tconst initPointsMesh = () => {\n\t\tgridWidth = width;\n\t\tgridHeight = height;\n\n\t\tconst ssize = 3; // screen space\n\t\tconst wsize = (ssize * wWidth) / width;\n\t\tconst nx = Math.floor(gridWidth / ssize) + 1;\n\t\tconst ny = Math.floor(gridHeight / ssize) + 1;\n\t\tconst numPoints = nx * ny;\n\t\tconst ox = -wsize * (nx / 2 - 0.5);\n\t\tconst oy = -wsize * (ny / 2 - 0.5);\n\t\tconst positions = new Float32Array(numPoints * 3);\n\t\tconst uvs = new Float32Array(numPoints * 2);\n\t\tconst sizes = new Float32Array(numPoints);\n\n\t\tlet uvx;\n\t\tlet uvy;\n\t\tlet uvdx;\n\t\tlet uvdy;\n\t\tgridRatio = gridWidth / gridHeight;\n\t\tif (gridRatio >= 1) {\n\t\t\tuvx = 0;\n\t\t\tuvdx = 1 / nx;\n\t\t\tuvy = (1 - 1 / gridRatio) / 2;\n\t\t\tuvdy = 1 / ny / gridRatio;\n\t\t} else {\n\t\t\tuvx = (1 - 1 * gridRatio) / 2;\n\t\t\tuvdx = (1 / nx) * gridRatio;\n\t\t\tuvy = 0;\n\t\t\tuvdy = 1 / ny;\n\t\t}\n\n\t\tfor (let i = 0; i < nx; i++) {\n\t\t\tconst x = ox + i * wsize;\n\t\t\tfor (let j = 0; j < ny; j++) {\n\t\t\t\tconst i1 = i * ny + j;\n\t\t\t\tconst i2 = i1 * 2;\n\t\t\t\tconst i3 = i1 * 3;\n\t\t\t\tconst y = oy + j * wsize;\n\t\t\t\tpositions.set([x, y, 0], i3);\n\t\t\t\tuvs.set([uvx + i * uvdx, uvy + j * uvdy], i2);\n\t\t\t\tsizes[i1] = ssize / 2;\n\t\t\t}\n\t\t}\n\n\t\tconst geometry = new Geometry(gl, {\n\t\t\tposition: { size: 3, data: positions },\n\t\t\tuv: { size: 2, data: uvs },\n\t\t\tsize: { size: 1, data: sizes },\n\t\t});\n\n\t\tif (points) {\n\t\t\tpoints.geometry = geometry;\n\t\t} else {\n\t\t\tconst program = new Program(gl, {\n\t\t\t\tuniforms: {\n\t\t\t\t\thmap: { value: ripple.gpgpu.read.texture },\n\t\t\t\t\tcolor1: { value: color1 },\n\t\t\t\t\tcolor2: { value: color2 },\n\t\t\t\t},\n\t\t\t\tvertex: `\n          precision highp float;\n          const float PI = 3.1415926535897932384626433832795;\n          uniform mat4 modelViewMatrix;\n          uniform mat4 projectionMatrix;\n          uniform sampler2D hmap;\n          uniform vec3 color1;\n          uniform vec3 color2;\n          attribute vec2 uv;\n          attribute vec3 position;\n          attribute float size;\n          varying vec4 vColor;\n          void main() {\n              vec3 pos = position.xyz;\n              vec4 htex = texture2D(hmap, uv);\n              pos.z = 10. * htex.r;\n\n              vec3 mixPct = vec3(0.0);\n              mixPct.r = smoothstep(0.0, 0.5, htex.r);\n              mixPct.g = sin(htex.r * PI);\n              mixPct.b = pow(htex.r, 0.5);\n              vColor = vec4(mix(color1, color2, mixPct), 1.0);\n\n              gl_PointSize = size;\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n          }\n        `,\n\t\t\t\tfragment: `\n          precision highp float;\n          varying vec4 vColor;\n          void main() {\n            gl_FragColor = vColor;\n          }\n        `,\n\t\t\t});\n\t\t\tpoints = new Mesh(gl, { geometry, program, mode: gl.POINTS });\n\t\t}\n\t};\n\n\tconst animate = (_t) => {\n\t\trequestAnimationFrame(animate);\n\t\tcamera.position.z += (cameraZ - camera.position.z) * 0.02;\n\n\t\tif (!mouseOver) {\n\t\t\tconst time = Date.now() * 0.001;\n\t\t\tconst x = Math.cos(time) * 0.2;\n\t\t\tconst y = Math.sin(time) * 0.2;\n\t\t\tripple.addDrop(x, y, 0.05, 0.05);\n\t\t}\n\n\t\tripple.update();\n\t\trenderer.render({ scene: points, camera });\n\t};\n\n\tconst randomizeColors = () => {\n\t\tcolor1.set(chroma.random().hex());\n\t\tcolor2.set(chroma.random().hex());\n\t};\n\n\tconst getScrollPercentage = () => {\n\t\tconst scrollTop = window.scrollY || document.documentElement.scrollTop;\n\t\tconst { scrollHeight, clientHeight } = document.documentElement;\n\t\tconst maxScroll = scrollHeight - clientHeight;\n\n\t\t// Return 0 if page isn't scrollable\n\t\tif (maxScroll <= 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Ensure the percentage is between 0 and 1\n\t\treturn Math.min(Math.max(scrollTop / maxScroll, 0), 1);\n\t};\n\n\tconst throttle = (func, limit) => {\n\t\tlet inThrottle;\n\t\treturn function (...args) {\n\t\t\tif (!inThrottle) {\n\t\t\t\tfunc.apply(this, args);\n\t\t\t\tinThrottle = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tinThrottle = false;\n\t\t\t\t}, limit);\n\t\t\t}\n\t\t};\n\t};\n\n\tconst handleScroll = throttle(() => {\n\t\tcameraZ = 50 - getScrollPercentage() * 3;\n\t}, 16); // ~60fps\n\n\tconst initEventsListener = () => {\n\t\tif (\"ontouchstart\" in window) {\n\t\t\tdocument.body.addEventListener(\"touchstart\", onMove, false);\n\t\t\tdocument.body.addEventListener(\"touchmove\", onMove, false);\n\t\t\tdocument.body.addEventListener(\n\t\t\t\t\"touchend\",\n\t\t\t\t() => {\n\t\t\t\t\tmouseOver = false;\n\t\t\t\t},\n\t\t\t\tfalse,\n\t\t\t);\n\t\t} else {\n\t\t\tdocument.body.addEventListener(\"mousemove\", onMove, false);\n\t\t\tdocument.body.addEventListener(\n\t\t\t\t\"mouseleave\",\n\t\t\t\t() => {\n\t\t\t\t\tmouseOver = false;\n\t\t\t\t},\n\t\t\t\tfalse,\n\t\t\t);\n\t\t\tdocument.body.addEventListener(\"mouseup\", randomizeColors, false);\n\t\t\tdocument.addEventListener(\"scroll\", handleScroll, { passive: true });\n\t\t}\n\n\t\t// Cleanup function\n\t\treturn () => {\n\t\t\tif (!(\"ontouchstart\" in window)) {\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", onMove);\n\t\t\t\tdocument.body.removeEventListener(\"mouseleave\", () => {\n\t\t\t\t\tmouseOver = false;\n\t\t\t\t});\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", randomizeColors);\n\t\t\t\tdocument.removeEventListener(\"scroll\", handleScroll);\n\t\t\t}\n\t\t};\n\t};\n\n\tconst onMove = (e) => {\n\t\tmouseOver = true;\n\t\tif (e.changedTouches?.length) {\n\t\t\te.x = e.changedTouches[0].pageX;\n\t\t\te.y = e.changedTouches[0].pageY;\n\t\t}\n\t\tif (e.x === undefined) {\n\t\t\te.x = e.pageX;\n\t\t\te.y = e.pageY;\n\t\t}\n\t\tmouse.set(\n\t\t\t(e.x / gl.renderer.width) * 2 - 1,\n\t\t\t(1.0 - e.y / gl.renderer.height) * 2 - 1,\n\t\t);\n\n\t\tif (gridRatio >= 1) {\n\t\t\tmouse.y /= gridRatio;\n\t\t} else {\n\t\t\tmouse.x /= gridRatio;\n\t\t}\n\n\t\tripple.addDrop(mouse.x, mouse.y, 0.05, 0.05);\n\t};\n\n\tconst resize = () => {\n\t\twidth = window.innerWidth;\n\t\theight = window.innerHeight;\n\t\trenderer.setSize(width, height);\n\t\tcamera.perspective({ aspect: width / height });\n\t\tconst wSize = getWorldSize(camera);\n\t\twWidth = wSize[0];\n\t\t// wHeight = wSize[1]; // Remove this line\n\t\tif (points) {\n\t\t\tinitPointsMesh();\n\t\t}\n\t};\n\n\tconst getWorldSize = (cam) => {\n\t\tconst vFOV = (cam.fov * Math.PI) / 180;\n\t\tconst height = 2 * Math.tan(vFOV / 2) * Math.abs(cam.position.z);\n\t\tconst width = height * cam.aspect;\n\t\treturn [width, height];\n\t};\n\n\tinit();\n}\n\n/**\n * Ripple effect\n */\nconst RippleEffect = (() => {\n\tconst { Vec2, Program } = ogl;\n\tconst defaultVertex =\n\t\t\"attribute vec2 uv, position; varying vec2 vUv; void main() {vUv = uv; gl_Position = vec4(position, 0, 1);}\";\n\n\tclass RippleEffect {\n\t\tconstructor(renderer) {\n\t\t\tconst width = 512;\n\t\t\tconst height = 512;\n\t\t\tObject.assign(this, {\n\t\t\t\trenderer,\n\t\t\t\tgl: renderer.gl,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tdelta: new Vec2(1 / width, 1 / height),\n\t\t\t\tgpgpu: new GPGPU(renderer.gl, { width, height }),\n\t\t\t});\n\t\t\tthis.initShaders();\n\t\t}\n\t\tinitShaders() {\n\t\t\tthis.updateProgram = new Program(this.gl, {\n\t\t\t\tuniforms: { tDiffuse: { value: null }, uDelta: { value: this.delta } },\n\t\t\t\tvertex: defaultVertex,\n\t\t\t\tfragment:\n\t\t\t\t\t\"precision highp float; uniform sampler2D tDiffuse; uniform vec2 uDelta; varying vec2 vUv; void main() {vec4 texel = texture2D(tDiffuse, vUv); vec2 dx = vec2(uDelta.x, 0.0), dy = vec2(0.0, uDelta.y); float average = (texture2D(tDiffuse, vUv - dx).r + texture2D(tDiffuse, vUv - dy).r + texture2D(tDiffuse, vUv + dx).r + texture2D(tDiffuse, vUv + dy).r) * 0.25; texel.g += (average - texel.r) * 2.0; texel.g *= 0.8; texel.r += texel.g; gl_FragColor = texel;}\",\n\t\t\t});\n\n\t\t\tthis.dropProgram = new Program(this.gl, {\n\t\t\t\tuniforms: {\n\t\t\t\t\ttDiffuse: { value: null },\n\t\t\t\t\tuCenter: { value: new Vec2() },\n\t\t\t\t\tuRadius: { value: 0.05 },\n\t\t\t\t\tuStrength: { value: 0.05 },\n\t\t\t\t},\n\t\t\t\tvertex: defaultVertex,\n\t\t\t\tfragment:\n\t\t\t\t\t\"precision highp float; const float PI = 3.1415926535897932384626433832795; uniform sampler2D tDiffuse; uniform vec2 uCenter; uniform float uRadius; uniform float uStrength; varying vec2 vUv; void main() {vec4 texel = texture2D(tDiffuse, vUv); float drop = max(0.0, 1.0 - length(uCenter * 0.5 + 0.5 - vUv) / uRadius); drop = 0.5 - cos(drop * PI) * 0.5; texel.r += drop * uStrength; gl_FragColor = texel;}\",\n\t\t\t});\n\t\t}\n\t\tupdate() {\n\t\t\tthis.updateProgram.uniforms.tDiffuse.value = this.gpgpu.read.texture;\n\t\t\tthis.gpgpu.renderProgram(this.updateProgram);\n\t\t}\n\t\taddDrop(x, y, radius, strength) {\n\t\t\tconst us = this.dropProgram.uniforms;\n\t\t\tus.tDiffuse.value = this.gpgpu.read.texture;\n\t\t\tus.uCenter.value.set(x, y);\n\t\t\tus.uRadius.value = radius;\n\t\t\tus.uStrength.value = strength;\n\t\t\tthis.gpgpu.renderProgram(this.dropProgram);\n\t\t}\n\t}\n\n\treturn RippleEffect;\n})();\n\n/**\n * GPGPU Helper\n */\nconst GPGPU = (() => {\n\tconst { RenderTarget, Triangle, Mesh } = ogl;\n\n\tclass GPGPU {\n\t\tconstructor(gl, { width, height, type }) {\n\t\t\tObject.assign(this, {\n\t\t\t\tgl,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tnumVertexes: width * height,\n\t\t\t\tread: new RenderTarget(gl, rto(gl, width, height, type)),\n\t\t\t\twrite: new RenderTarget(gl, rto(gl, width, height, type)),\n\t\t\t\tmesh: new Mesh(gl, { geometry: new Triangle(gl) }),\n\t\t\t});\n\t\t}\n\t\trenderProgram(program) {\n\t\t\tthis.mesh.program = program;\n\t\t\tthis.gl.renderer.render({\n\t\t\t\tscene: this.mesh,\n\t\t\t\ttarget: this.write,\n\t\t\t\tclear: false,\n\t\t\t});\n\t\t\tthis.swap();\n\t\t}\n\t\tswap() {\n\t\t\t[this.read, this.write] = [this.write, this.read];\n\t\t}\n\t}\n\n\tconst rto = (gl, width, height, type) => ({\n\t\twidth,\n\t\theight,\n\t\ttype:\n\t\t\ttype ||\n\t\t\tgl.HALF_FLOAT ||\n\t\t\tgl.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES,\n\t\tinternalFormat: gl.renderer.isWebgl2\n\t\t\t? type === gl.FLOAT\n\t\t\t\t? gl.RGBA32F\n\t\t\t\t: gl.RGBA16F\n\t\t\t: gl.RGBA,\n\t\tdepth: false,\n\t\tunpackAlignment: 1,\n\t});\n\n\treturn GPGPU;\n})();\n\nfunction MagicComponent() {\n\tuseEffect(() => {\n\t\tconst container = document.querySelector(\"#magicContainer\");\n\n\t\tif (container) {\n\t\t\t// Call the Magic function to initialize the effect\n\t\t\tMagic(container);\n\n\t\t\t// // Handle mouse movement to adjust the mask\n\t\t\t// const handleMouseMove = (e) => {\n\t\t\t//   const x = e.pageX;\n\t\t\t//   const y = e.pageY;\n\t\t\t//   container.style.setProperty(\"--x\", x + \"px\");\n\t\t\t//   container.style.setProperty(\"--y\", y + \"px\");\n\t\t\t// };\n\n\t\t\t// document.addEventListener(\"mousemove\", handleMouseMove);\n\t\t\t// document.addEventListener(\"mouseleave\", handleMouseMove); // use the same handler to reset\n\n\t\t\t// Clean up the effect and event listeners on unmount\n\t\t\treturn () => {\n\t\t\t\tcontainer.innerHTML = \"\";\n\t\t\t\t// document.removeEventListener(\"mousemove\", handleMouseMove);\n\t\t\t\t// document.removeEventListener(\"mouseleave\", handleMouseMove);\n\t\t\t};\n\t\t}\n\t}, []);\n\n\treturn <div id=\"magicContainer\" />;\n}\n\nexport default MagicComponent;\n","import { useEffect } from \"react\";\n\nfunction useScrambleEffect(ref) {\n\tuseEffect(() => {\n\t\tconst enhance = () => {\n\t\t\tif (window.innerWidth > 768) {\n\t\t\t\tref.current.querySelectorAll(\"h1,h2,h3\").forEach((header) => {\n\t\t\t\t\tconst letters = header.innerText.split(\"\");\n\t\t\t\t\theader.innerText = \"\";\n\t\t\t\t\tletters.forEach((letter, i) => {\n\t\t\t\t\t\tconst span = document.createElement(\"span\");\n\t\t\t\t\t\tspan.className = \"letter\";\n\t\t\t\t\t\tif (letter === \" \") {\n\t\t\t\t\t\t\tspan.innerHTML = \"&nbsp;\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tspan.textContent = letter;\n\t\t\t\t\t\t}\n\t\t\t\t\t\theader.appendChild(span);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tref.current.querySelectorAll(\".letter\").forEach((letter) => {\n\t\t\t\t\tconst random = (min, max) =>\n\t\t\t\t\t\tMath.floor(Math.random() * (max - min + 1)) + min;\n\t\t\t\t\tletter.addEventListener(\"mouseover\", (e) => {\n\t\t\t\t\t\te.target.style.setProperty(\"--x\", `${random(-10, 10)}px`);\n\t\t\t\t\t\te.target.style.setProperty(\"--y\", `${random(-10, 10)}px`);\n\t\t\t\t\t\te.target.style.setProperty(\"--r\", `${random(-10, 10)}deg`);\n\t\t\t\t\t});\n\n\t\t\t\t\tletter.addEventListener(\"mouseout\", (e) => {\n\t\t\t\t\t\te.target.style.setProperty(\"--x\", \"0px\");\n\t\t\t\t\t\te.target.style.setProperty(\"--y\", \"0px\");\n\t\t\t\t\t\te.target.style.setProperty(\"--r\", \"0deg\");\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tenhance();\n\t}, [ref]);\n}\n\nexport default useScrambleEffect;\n","import PropTypes from \"prop-types\";\n// Third-party imports\nimport React, { useState, useRef, useEffect } from \"react\";\n\n// Asset imports\nimport profile1 from \"../../../assets/images/profile1-nbg.png\";\nimport profile2 from \"../../../assets/images/profile2-nbg.png\";\n\n// Local imports\nimport useScrambleEffect from \"./useScrambleEffect\";\nimport \"./text.scss\";\n\nfunction SocialMedia({ keyword, icon, link, tooltip }) {\n\tconst handleClick = (e) => {\n\t\te.preventDefault();\n\t\twindow.open(link, \"_blank\");\n\t};\n\n\treturn (\n\t\t<div className=\"social__icon tooltip\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={handleClick}\n\t\t\t\taria-describedby={`tooltip-${keyword}`}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\thandleClick(e);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<i className={icon} title={keyword} aria-label={`Go to ${keyword}`} />\n\t\t\t</button>\n\t\t\t<span\n\t\t\t\tid={`tooltip-${keyword}`}\n\t\t\t\tclassName=\"tooltiptext tooltip-bottom\"\n\t\t\t\trole=\"tooltip\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t{tooltip}\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n\nSocialMedia.propTypes = {\n\tkeyword: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tlink: PropTypes.string.isRequired,\n\ttooltip: PropTypes.string.isRequired,\n};\n\nconst ChatBubblePart = ({ part }) => <div className={`bub-part-${part}`} />;\n\nconst ChatBubbleArrow = () => (\n\t<div className=\"speech-arrow\">\n\t\t{[\"w\", \"x\", \"y\", \"z\"].map((letter) => (\n\t\t\t<div key={letter} className={`arrow-${letter}`} />\n\t\t))}\n\t</div>\n);\n\nconst ChatBubble = ({ isVisible }) => {\n\tconst [hintLevel, setHintLevel] = useState(0);\n\n\tconst handleClick = (e) => {\n\t\te.stopPropagation(); // Prevent click from affecting other elements\n\t\tsetHintLevel((prev) => (prev < 2 ? prev + 1 : prev));\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`chat-bubble ${isVisible ? \"visible\" : \"\"} ${hintLevel > 0 ? `level-${hintLevel}` : \"\"}`}\n\t\t\tonClick={handleClick}\n\t\t\tonKeyUp={(e) => e.key === \"Enter\" && handleClick()}\n\t\t>\n\t\t\t{[\"a\", \"b\", \"c\"].map((part) => (\n\t\t\t\t<ChatBubblePart key={part} part={part} />\n\t\t\t))}\n\t\t\t<div className=\"speech-txt\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`hint-section initial ${hintLevel >= 0 ? \"visible\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"hint-text\">Whispers of a hidden realm echo...</span>\n\t\t\t\t\t<div className=\"hint-divider\" />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`hint-section first ${hintLevel >= 1 ? \"visible\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"hint-text\">\n\t\t\t\t\t\tWhere light meets dark in rhythmic dance,\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tFive times shall break the mystic trance.\n\t\t\t\t\t</span>\n\t\t\t\t\t<div className=\"hint-divider\" />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`hint-section second ${hintLevel >= 2 ? \"visible\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"hint-text\">\n\t\t\t\t\t\tThen speak the word that starts my name,\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tTo enter realms beyond the frame.\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t{hintLevel < 2 && (\n\t\t\t\t\t<div className=\"hint-prompt\">\n\t\t\t\t\t\t{hintLevel === 0 ? \"Tap for more...\" : \"One more secret remains...\"}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{[\"c\", \"b\", \"a\"].map((part) => (\n\t\t\t\t<ChatBubblePart key={`bottom-${part}`} part={part} />\n\t\t\t))}\n\t\t\t<ChatBubbleArrow />\n\t\t</div>\n\t);\n};\n\nChatBubble.propTypes = {\n\tisVisible: PropTypes.bool.isRequired,\n};\n\nconst HeaderText = ({ type, items, separator }) => {\n\tconst Tag = type === \"name\" ? \"h1\" : \"h2\";\n\n\treturn (\n\t\t<>\n\t\t\t{items.map((item, i) => (\n\t\t\t\t<React.Fragment key={item}>\n\t\t\t\t\t<Tag>{item}</Tag>\n\t\t\t\t\t{separator && i < items.length - 1 && <h2>{separator}</h2>}\n\t\t\t\t</React.Fragment>\n\t\t\t))}\n\t\t\t<br />\n\t\t</>\n\t);\n};\n\nHeaderText.propTypes = {\n\ttype: PropTypes.oneOf([\"name\", \"roles\", \"title\"]).isRequired,\n\titems: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tseparator: PropTypes.string,\n};\n\nconst HEADER_SECTIONS = [\n\t{ type: \"name\", items: [\"Aaron\", \"Lorenzo\", \"Woods\"] },\n\t{\n\t\ttype: \"roles\",\n\t\titems: [\"Engineer\", \"Artist\", \"Scientist\"],\n\t\tseparator: \" | \",\n\t},\n\t{\n\t\ttype: \"title\",\n\t\titems: [\"Biomedical\", \"Engineering\", \"Doctoral\", \"Student\"],\n\t},\n];\n\nconst SOCIAL_MEDIA = [\n\t{\n\t\tkeyword: \"Email\",\n\t\ticon: \"fas fa-envelope-square\",\n\t\tlink: \"mailto:alwoods@utexas.edu\",\n\t\ttooltip: \"Email: alwoods@utexas.edu\",\n\t},\n\t{\n\t\tkeyword: \"LinkedIn\",\n\t\ticon: \"fab fa-linkedin\",\n\t\tlink: \"https://www.linkedin.com/in/woods-aaron/\",\n\t\ttooltip: \"LinkedIn: woods-aaron\",\n\t},\n\t{\n\t\tkeyword: \"Github\",\n\t\ticon: \"fab fa-github\",\n\t\tlink: \"https://github.com/guitarbeat\",\n\t\ttooltip: \"Github: guitarbeat\",\n\t},\n\t{\n\t\tkeyword: \"Instagram\",\n\t\ticon: \"fab fa-instagram\",\n\t\tlink: \"https://www.instagram.com/guitarbeat/\",\n\t\ttooltip: \"Instagram @ guitarbeat\",\n\t},\n\t{\n\t\tkeyword: \"Twitter\",\n\t\ticon: \"fab fa-twitter\",\n\t\tlink: \"https://twitter.com/WoodsResearch\",\n\t\ttooltip: \"Twitter @ WoodsResearch\",\n\t},\n\t{\n\t\tkeyword: \"CV\",\n\t\ticon: \"fas fa-file-alt\",\n\t\tlink: \"/cv.pdf\",\n\t\ttooltip: \"Download my CV\",\n\t},\n\t{\n\t\tkeyword: \"Google Scholar\",\n\t\ticon: \"fas fa-graduation-cap\",\n\t\tlink: \"https://scholar.google.com/citations?user=85U8cEoAAAAJ&hl=en&authuser=1\",\n\t\ttooltip: \"View my Google Scholar profile\",\n\t},\n];\n\nfunction Header() {\n\tconst headerRef = useRef(null);\n\tconst [isClicked, setIsClicked] = useState(false);\n\tconst [isBubbleVisible, setIsBubbleVisible] = useState(false);\n\tconst timerRef = useRef(null);\n\n\tuseScrambleEffect(headerRef);\n\n\tconst handleClick = () => setIsClicked(!isClicked);\n\n\tconst handleMouseEnter = () => {\n\t\ttimerRef.current = setTimeout(() => {\n\t\t\tsetIsBubbleVisible(true);\n\t\t}, 3000); // Reduced to 1.5 seconds for testing\n\t};\n\n\tconst handleMouseLeave = () => {\n\t\tif (timerRef.current) {\n\t\t\tclearTimeout(timerRef.current);\n\t\t\ttimerRef.current = null;\n\t\t}\n\t\tsetIsBubbleVisible(false);\n\t};\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (timerRef.current) {\n\t\t\t\tclearTimeout(timerRef.current);\n\t\t\t}\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div className=\"container\" id=\"header\" ref={headerRef}>\n\t\t\t<div className=\"container__content\">\n\t\t\t\t<div className=\"header\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"header__image-container\"\n\t\t\t\t\t\tonMouseEnter={handleMouseEnter}\n\t\t\t\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button type=\"button\" onClick={handleClick}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName={`avatar ${isClicked ? \"\" : \"active\"}`}\n\t\t\t\t\t\t\t\tsrc={profile1}\n\t\t\t\t\t\t\t\talt=\"image1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName={`avatar ${isClicked ? \"active\" : \"\"}`}\n\t\t\t\t\t\t\t\tsrc={profile2}\n\t\t\t\t\t\t\t\talt=\"image2\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<ChatBubble isVisible={isBubbleVisible} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"header__text\">\n\t\t\t\t\t\t{HEADER_SECTIONS.map((section) => (\n\t\t\t\t\t\t\t<HeaderText key={section.type} {...section} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div className=\"social\">\n\t\t\t\t\t\t\t{SOCIAL_MEDIA.map((s) => (\n\t\t\t\t\t\t\t\t<SocialMedia key={s.keyword} {...s} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import moment from \"moment\";\nimport PropTypes from \"prop-types\";\n// Import required libraries and components\nimport React, { Fragment, useState, useRef, useEffect } from \"react\";\nimport { withGoogleSheets } from \"react-db-google-sheets\";\n\n// Function for TimelineBar component\nfunction TimelineBar({ first_year, job_bars, activeCards, hoveredJob, jobs }) {\n\tconst formatDuration = (months) => {\n\t\tconst years = Math.floor(months / 12);\n\t\tconst remainingMonths = months % 12;\n\n\t\t// Convert numbers to words\n\t\tconst numberToWord = (num) => {\n\t\t\tconst words = [\n\t\t\t\t\"One\",\n\t\t\t\t\"Two\",\n\t\t\t\t\"Three\",\n\t\t\t\t\"Four\",\n\t\t\t\t\"Five\",\n\t\t\t\t\"Six\",\n\t\t\t\t\"Seven\",\n\t\t\t\t\"Eight\",\n\t\t\t\t\"Nine\",\n\t\t\t\t\"Ten\",\n\t\t\t\t\"Eleven\",\n\t\t\t\t\"Twelve\",\n\t\t\t];\n\t\t\treturn num <= 12 ? words[num - 1] : num.toString();\n\t\t};\n\n\t\t// Helper for formatting duration parts\n\t\tconst formatPart = (num, singular, plural) => {\n\t\t\tif (num === 0) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\tconst word = numberToWord(num);\n\t\t\treturn `${word} ${num === 1 ? singular : plural}`;\n\t\t};\n\n\t\t// Format months only\n\t\tif (years === 0) {\n\t\t\treturn formatPart(remainingMonths, \"Month\", \"Months\");\n\t\t}\n\n\t\t// Format years only\n\t\tif (remainingMonths === 0) {\n\t\t\treturn formatPart(years, \"Year\", \"Years\");\n\t\t}\n\n\t\t// Format years and months\n\t\tconst yearText = formatPart(years, \"Year\", \"Years\");\n\t\tconst monthText = formatPart(\n\t\t\tremainingMonths,\n\t\t\t\"Month\",\n\t\t\t\"Months\",\n\t\t).toLowerCase();\n\t\treturn `${yearText}, ${monthText}`;\n\t};\n\n\tconst sub_bars = job_bars.map(([height, start], index) => (\n\t\t<div\n\t\t\tkey={index}\n\t\t\tclassName=\"work__timeline__subbar\"\n\t\t\tstyle={{ height: `${height}%`, bottom: `${start}%` }}\n\t\t/>\n\t));\n\n\treturn (\n\t\t<div className=\"work__timeline\">\n\t\t\t<p className=\"work__timeline__now\">Now</p>\n\t\t\t{hoveredJob && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"work__timeline__duration\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbottom: `${hoveredJob.bar_start + hoveredJob.bar_height / 2}%`,\n\t\t\t\t\t\tvisibility: hoveredJob ? \"visible\" : \"hidden\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{formatDuration(hoveredJob.duration)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<p className=\"work__timeline__start\">{first_year}</p>\n\n\t\t\t{sub_bars}\n\t\t\t{Array.from(activeCards).map((slug) => {\n\t\t\t\tconst activeJob = jobs.find((job) => job.slug === slug);\n\t\t\t\treturn (\n\t\t\t\t\tactiveJob && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={slug}\n\t\t\t\t\t\t\tclassName=\"work__timeline__bar\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: `${activeJob.bar_height}%`,\n\t\t\t\t\t\t\t\tbottom: `${activeJob.bar_start}%`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n}\n\nTimelineBar.propTypes = {\n\tfirst_year: PropTypes.string.isRequired,\n\tjob_bars: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n\tactiveCards: PropTypes.instanceOf(Set).isRequired,\n\thoveredJob: PropTypes.shape({\n\t\tbar_start: PropTypes.number,\n\t\tbar_height: PropTypes.number,\n\t\tduration: PropTypes.number,\n\t}),\n\tjobs: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tslug: PropTypes.string.isRequired,\n\t\t\tbar_start: PropTypes.number.isRequired,\n\t\t\tbar_height: PropTypes.number.isRequired,\n\t\t}),\n\t).isRequired,\n};\n\n// Memoize TimelineBar component\nconst MemoizedTimelineBar = React.memo(TimelineBar);\n\n// Function for Work component\nfunction Work({ db }) {\n\t// State management\n\tconst [activeCards, setActiveCards] = useState(new Set());\n\tconst [hoveredCard, setHoveredCard] = useState(null); // Add missing state\n\n\tconst handleCardClick = (slug) => {\n\t\tsetActiveCards((prev) => {\n\t\t\tconst newSet = new Set(prev); // Create a new Set to avoid mutating state directly\n\t\t\tif (newSet.has(slug)) {\n\t\t\t\tnewSet.delete(slug);\n\t\t\t} else {\n\t\t\t\tnewSet.add(slug);\n\t\t\t}\n\t\t\treturn newSet;\n\t\t});\n\t};\n\n\tconst handleCardHover = (slug) => {\n\t\tsetHoveredCard(slug);\n\t};\n\n\t// Data processing\n\tconst jobs = db.work.map((row) => ({\n\t\ttitle: row.title,\n\t\tcompany: row.company,\n\t\tplace: row.place,\n\t\tfrom: row.from,\n\t\tto: row.to,\n\t\tdescription: row.description,\n\t\tslug: row.slug,\n\t}));\n\n\tlet first_date = moment();\n\n\t// Format and enhance jobs data\n\tjobs.forEach((job) => {\n\t\tconst _to_moment = job.to ? moment(job.to, \"MM-YYYY\") : moment(); // Define _to_moment\n\t\tconst _from_moment = moment(job.from, \"MM-YYYY\");\n\t\tconst _duration = _to_moment.diff(_from_moment, \"months\");\n\n\t\tjob.from = _from_moment.format(\"MMM YYYY\");\n\t\tjob.to = job.to ? _to_moment.format(\"MMM YYYY\") : \"Now\";\n\t\tjob._from = _from_moment;\n\t\tjob._to = _to_moment;\n\t\tjob.date = _duration === 0 ? job.from : `${job.from} - ${job.to}`;\n\t\tjob.duration = _duration === 0 ? 1 : _duration;\n\n\t\tif (first_date.diff(_from_moment) > 0) {\n\t\t\tfirst_date = _from_moment;\n\t\t}\n\t});\n\n\tconst time_span = moment().diff(first_date, \"months\");\n\tjobs.forEach((job) => {\n\t\tjob.bar_start = (100 * job._from.diff(first_date, \"months\")) / time_span;\n\t\tjob.bar_height = (100 * job.duration) / time_span;\n\t});\n\n\tconst job_bars = jobs.map((job) => [job.bar_height, job.bar_start]);\n\n\t// Add intersection observer for lazy loading\n\tconst [isVisible, setIsVisible] = useState(false);\n\tconst sectionRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tconst observer = new IntersectionObserver(\n\t\t\t([entry]) => {\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tsetIsVisible(true);\n\t\t\t\t\tobserver.disconnect();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ threshold: 0.1 },\n\t\t);\n\n\t\tif (sectionRef.current) {\n\t\t\tobserver.observe(sectionRef.current);\n\t\t}\n\n\t\treturn () => observer.disconnect();\n\t}, []);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"container\" id=\"work\" ref={sectionRef}>\n\t\t\t\t<div className=\"container__content\">\n\t\t\t\t\t<h1>My career so far</h1>\n\t\t\t\t\t<div className={`work ${isVisible ? \"visible\" : \"\"}`}>\n\t\t\t\t\t\t<MemoizedTimelineBar\n\t\t\t\t\t\t\tfirst_year={first_date.format(\"YYYY\")}\n\t\t\t\t\t\t\tjob_bars={job_bars}\n\t\t\t\t\t\t\tactiveCards={activeCards}\n\t\t\t\t\t\t\thoveredJob={jobs.find((job) => job.slug === hoveredCard)}\n\t\t\t\t\t\t\tjobs={jobs}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"work__items\">\n\t\t\t\t\t\t\t{jobs.map((job) => {\n\t\t\t\t\t\t\t\tconst isActive = activeCards.has(job.slug);\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={job.slug}\n\t\t\t\t\t\t\t\t\t\tclassName={`work__item ${isActive ? \"active\" : \"\"}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleCardClick(job.slug)}\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => handleCardHover(job.slug)}\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => handleCardHover(null)}\n\t\t\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\taria-expanded={isActive}\n\t\t\t\t\t\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\t\t\thandleCardClick(job.slug);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName={`work__item__place ${isActive ? \"show-text\" : \"\"}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-map-marker-alt\" /> {job.place}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<h2>{job.title}</h2>\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"company-name\">{job.company}</h3>\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName={`work__item__date ${isActive ? \"show-text\" : \"\"}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{job.date}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className={isActive ? \"show-text\" : \"\"}>\n\t\t\t\t\t\t\t\t\t\t\t{job.description}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n\nWork.propTypes = {\n\tdb: PropTypes.shape({\n\t\twork: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\ttitle: PropTypes.string.isRequired,\n\t\t\t\tcompany: PropTypes.string.isRequired,\n\t\t\t\tplace: PropTypes.string.isRequired,\n\t\t\t\tfrom: PropTypes.string.isRequired,\n\t\t\t\tto: PropTypes.string,\n\t\t\t\tdescription: PropTypes.string.isRequired,\n\t\t\t\tslug: PropTypes.string.isRequired,\n\t\t\t}),\n\t\t).isRequired,\n\t}).isRequired,\n};\n\nexport default withGoogleSheets(\"work\")(Work);\n","import React, { useState, useEffect } from \"react\";\nimport { withGoogleSheets } from \"react-db-google-sheets\";\n\nfunction ProjectCard({\n\ttitle,\n\tcontent,\n\tslug,\n\tlink,\n\tkeyword,\n\tdate,\n\timage,\n\ttagColor,\n\tclassName,\n}) {\n\tconst [isClicked, setIsClicked] = useState(false);\n\n\tconst handleClick = (e) => {\n\t\tif (!isClicked) {\n\t\t\te.preventDefault();\n\t\t\tsetIsClicked(true);\n\t\t}\n\t};\n\n\tconst _link = link ? (\n\t\t<div className=\"projects__card__label projects__card__link\">Link</div>\n\t) : null;\n\n\treturn (\n\t\t<a\n\t\t\thref={link}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noreferrer\"\n\t\t\tclassName={`projects__card ${className}`}\n\t\t\tkey={slug}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t<div className=\"projects__card__keywords\">\n\t\t\t\t{_link}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"projects__card__label\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: tagColor,\n\t\t\t\t\t\tmixBlendMode: \"multiply\",\n\t\t\t\t\t\tfilter: \"contrast(1.1) brightness(1.1)\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{keyword}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<h3>{title}</h3>\n\t\t\t<p\n\t\t\t\tclassName={`date ${isClicked ? \"show-text\" : \"\"}`}\n\t\t\t\tstyle={{ fontStyle: \"italic\", color: \"var(--color-sage-light)\" }}\n\t\t\t>\n\t\t\t\t{date}\n\t\t\t</p>\n\t\t\t<p className={isClicked ? \"show-text\" : \"\"}>{content}</p>\n\t\t\t{image && <img src={image} className=\"project-image\" alt=\"Project\" />}\n\t\t</a>\n\t);\n}\nfunction Projects(props) {\n\tconst [activeFilters, setActiveFilters] = useState([]);\n\tconst [tagColors, setTagColors] = useState({});\n\n\tuseEffect(() => {\n\t\tconst uniqueKeywords = [\n\t\t\t...new Set(props.db.projects.map((project) => project.keyword)),\n\t\t];\n\n\t\t// Base colors with HSL values - more muted version\n\t\tconst baseColors = {\n\t\t\tprimary: { h: 220, s: 45, l: 65 },    // Muted Blue\n\t\t\tsecondary: { h: 142, s: 35, l: 55 },  // Muted Green\n\t\t\ttertiary: { h: 0, s: 45, l: 65 },     // Muted Red\n\t\t\tquaternary: { h: 262, s: 35, l: 65 }, // Muted Purple\n\t\t\tquinary: { h: 24, s: 45, l: 60 },     // Muted Orange\n\t\t\tsenary: { h: 190, s: 40, l: 60 },     // Muted Cyan\n\t\t\tseptenary: { h: 328, s: 35, l: 65 },  // Muted Pink\n\t\t};\n\n\t\tconst colorValues = Object.values(baseColors);\n\n\t\t// Generate base HSL colors\n\t\tconst adjustedColors = colorValues.map((color) => {\n\t\t\treturn `hsl(${color.h}, ${color.s}%, ${color.l}%)`;\n\t\t});\n\n\t\tconst generatedTagColors = uniqueKeywords.reduce((acc, keyword, index) => {\n\t\t\tacc[keyword] = adjustedColors[index % adjustedColors.length];\n\t\t\treturn acc;\n\t\t}, {});\n\n\t\tsetTagColors(generatedTagColors);\n\t\tsetActiveFilters(uniqueKeywords);\n\t}, [props.db.projects]);\n\n\t// Add theme change listener\n\tuseEffect(() => {\n\t\tconst handleThemeChange = () => {\n\t\t\t// Re-trigger the color generation effect\n\t\t\tsetTagColors({}); // This will cause the first useEffect to run again\n\t\t};\n\n\t\t// Listen for theme changes\n\t\tdocument.body.addEventListener(\"theme-changed\", handleThemeChange);\n\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener(\"theme-changed\", handleThemeChange);\n\t\t};\n\t}, []);\n\n\tconst toggleFilter = (filter) => {\n\t\tif (activeFilters.includes(filter)) {\n\t\t\tif (activeFilters.length === 1) {\n\t\t\t\tsetActiveFilters([...Object.keys(tagColors)]);\n\t\t\t} else {\n\t\t\t\tsetActiveFilters(activeFilters.filter((f) => f !== filter));\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveFilters([...activeFilters, filter]);\n\t\t}\n\t};\n\n\tconst projects = props.db.projects.map((row) => ({\n\t\ttitle: row.title,\n\t\tslug: row.slug,\n\t\tdate: row.date,\n\t\tkeyword: row.keyword,\n\t\tlink: row.link,\n\t\tcontent: row.content,\n\t\timage: row.image,\n\t}));\n\n\tconst project_cards = projects\n\t\t.map((projectProps) => {\n\t\t\tconst isFiltered = !activeFilters.includes(projectProps.keyword);\n\t\t\treturn (\n\t\t\t\t<ProjectCard\n\t\t\t\t\tkey={projectProps.slug}\n\t\t\t\t\t{...projectProps}\n\t\t\t\t\ttagColor={tagColors[projectProps.keyword]}\n\t\t\t\t\tclassName={`projects__card ${isFiltered ? \"filtered-out\" : \"\"}`}\n\t\t\t\t/>\n\t\t\t);\n\t\t})\n\t\t.sort((a, b) => (a.props.date > b.props.date ? -1 : 1));\n\n\treturn (\n\t\t<div className=\"container\" id=\"projects\">\n\t\t\t<div className=\"container__content\">\n\t\t\t\t<h1>Some of my Projects</h1>\n\t\t\t\t<div className=\"filter-buttons\">\n\t\t\t\t\t{Object.keys(tagColors).map((filter) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={filter}\n\t\t\t\t\t\t\tonClick={() => toggleFilter(filter)}\n\t\t\t\t\t\t\tclassName={`tag ${activeFilters.includes(filter) ? \"active\" : \"\"}`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: activeFilters.includes(filter)\n\t\t\t\t\t\t\t\t\t? \"rgba(255, 255, 255, 0.2)\"\n\t\t\t\t\t\t\t\t\t: \"rgba(255, 255, 255, 0.12)\",\n\t\t\t\t\t\t\t\tborderLeft: activeFilters.includes(filter)\n\t\t\t\t\t\t\t\t\t? `4px solid ${tagColors[filter]}`\n\t\t\t\t\t\t\t\t\t: \"4px solid rgba(255, 255, 255, 0.3)\",\n\t\t\t\t\t\t\t\tcolor: activeFilters.includes(filter)\n\t\t\t\t\t\t\t\t\t? \"var(--color-text)\"\n\t\t\t\t\t\t\t\t\t: \"var(--color-text-secondary)\",\n\t\t\t\t\t\t\t\tbackdropFilter: \"blur(12px)\",\n\t\t\t\t\t\t\t\tboxShadow: activeFilters.includes(filter)\n\t\t\t\t\t\t\t\t\t? \"0 2px 8px rgba(0, 0, 0, 0.2)\"\n\t\t\t\t\t\t\t\t\t: \"0 1px 4px rgba(0, 0, 0, 0.1)\",\n\t\t\t\t\t\t\t\tpadding: \"6px 12px\",\n\t\t\t\t\t\t\t\tfontWeight: activeFilters.includes(filter) ? \"600\" : \"400\",\n\t\t\t\t\t\t\t\ttransition: \"all 0.2s ease\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{filter}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"projects\">\n\t\t\t\t\t<div className=\"projects__cards_container\">{project_cards}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withGoogleSheets(\"projects\")(Projects);\n","// path/filename: src/components/About.js\n\nimport React, { useState } from \"react\";\nimport { withGoogleSheets } from \"react-db-google-sheets\";\n\nimport shell from \"../../../assets/images/shell.png\";\n\nfunction ColorChangeOnHover({ text }) {\n\tconst words = text.split(\" \");\n\treturn (\n\t\t<>\n\t\t\t{words.map((word, i) => (\n\t\t\t\t<span key={i} className=\"hover-color-change\">\n\t\t\t\t\t{word}{\" \"}\n\t\t\t\t</span>\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nfunction About({ db }) {\n\tconst [expandedSection, setExpandedSection] = useState(null);\n\n\tconst aboutTexts = db.about\n\t\t? db.about.map((row) => ({\n\t\t\t\tcategory: row.category,\n\t\t\t\tdescription: row.description,\n\t\t\t}))\n\t\t: [];\n\n\tconst handleSectionClick = (category) => {\n\t\tsetExpandedSection(expandedSection === category ? null : category);\n\t};\n\n\tconst renderAboutTexts = (texts) =>\n\t\ttexts.map(({ category, description }) => (\n\t\t\t<div\n\t\t\t\tkey={category}\n\t\t\t\tclassName={`about-me__text ${expandedSection === category ? \"expanded\" : \"\"}`}\n\t\t\t\tonClick={() => handleSectionClick(category)}\n\t\t\t\trole=\"button\"\n\t\t\t\ttabIndex={0}\n\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\thandleSectionClick(category);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"text-background\">\n\t\t\t\t\t<h2>{category}</h2>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<ColorChangeOnHover text={description} />\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"expand-indicator\" aria-hidden=\"true\">\n\t\t\t\t\t\t{expandedSection === category ? \"\" : \"+\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n\n\treturn (\n\t\t<div id=\"about\" className=\"container\">\n\t\t\t<div className=\"container__content\">\n\t\t\t\t<div className=\"about-me\">\n\t\t\t\t\t<h1>About Me</h1>\n\t\t\t\t\t<div className=\"about-me__content\">\n\t\t\t\t\t\t<div className=\"about-me__text-container\">\n\t\t\t\t\t\t\t{renderAboutTexts(aboutTexts)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"about-me__spotify\">\n\t\t\t\t\t\t\t<a href=\"https://spotify-github-profile.kittinanx.com/api/view.svg?uid=31skxfoaghlkljkdiluds3g3decy&redirect=true\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc=\"https://spotify-github-profile.kittinanx.com/api/view.svg?uid=31skxfoaghlkljkdiluds3g3decy&cover_image=true&theme=default&show_offline=true&background_color=121212&interchange=true&bar_color=53b14f&bar_color_cover=true\"\n\t\t\t\t\t\t\t\t\talt=\"Spotify GitHub profile\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"about-me__img\">\n\t\t\t\t\t\t<img src={shell} alt=\"shell background\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withGoogleSheets(\"about\")(About);\n","// Third-party imports\nimport React, { useState, useEffect, useCallback } from \"react\";\n\n// Context imports\nimport { useAuth } from \"../../effects/Matrix/AuthContext\";\n\n// Theme Configuration\nconst THEME = {\n\tLIGHT: \"light\",\n\tDARK: \"dark\",\n\tSTORAGE_KEY: \"theme\",\n\tCLASS_NAME: \"light-theme\",\n};\n\n// Utility functions\nconst scrollToTop = () => {\n\twindow.scrollTo({\n\t\ttop: 0,\n\t\tbehavior: \"smooth\",\n\t});\n};\n\nconst getInitialTheme = () => {\n\tconst savedTheme = localStorage.getItem(THEME.STORAGE_KEY);\n\tif (savedTheme) {\n\t\treturn savedTheme === THEME.LIGHT;\n\t}\n\treturn window.matchMedia(\"(prefers-color-scheme: light)\").matches;\n};\n\nconst updateThemeColor = (isLight) => {\n\tconst themeColorMeta = document.querySelector(\"meta#theme-color\");\n\tif (themeColorMeta) {\n\t\tthemeColorMeta.content = isLight ? \"#ffffff\" : \"#1a1a1a\";\n\t}\n};\n\nfunction NavBar({ items, onMatrixActivate }) {\n\tconst [showScrollTop, setShowScrollTop] = useState(false);\n\tconst [themeClicks, setThemeClicks] = useState([]);\n\tconst [isLightTheme, setIsLightTheme] = useState(getInitialTheme);\n\tconst { isUnlocked } = useAuth();\n\n\tconst navItems = {\n\t\t...items,\n\t\t...(isUnlocked && { Tools: \"/#tools\" }),\n\t};\n\n\tconst handleThemeClick = useCallback(() => {\n\t\tconst now = Date.now();\n\t\tconst newClicks = [...themeClicks, now].filter(\n\t\t\t(click) => now - click < 2000,\n\t\t);\n\t\tsetThemeClicks(newClicks);\n\n\t\tif (newClicks.length >= 5) {\n\t\t\tsetThemeClicks([]);\n\t\t\tif (onMatrixActivate) {\n\t\t\t\tonMatrixActivate();\n\t\t\t}\n\t\t}\n\n\t\tsetIsLightTheme((prev) => {\n\t\t\tconst newTheme = !prev;\n\t\t\tlocalStorage.setItem(\n\t\t\t\tTHEME.STORAGE_KEY,\n\t\t\t\tnewTheme ? THEME.LIGHT : THEME.DARK,\n\t\t\t);\n\t\t\treturn newTheme;\n\t\t});\n\t}, [themeClicks, onMatrixActivate]);\n\n\tuseEffect(() => {\n\t\tconst checkScroll = () => {\n\t\t\tsetShowScrollTop(window.scrollY > 300);\n\t\t};\n\n\t\tcheckScroll();\n\n\t\tlet timeoutId = null;\n\t\tconst throttledCheckScroll = () => {\n\t\t\tif (timeoutId === null) {\n\t\t\t\ttimeoutId = setTimeout(() => {\n\t\t\t\t\tcheckScroll();\n\t\t\t\t\ttimeoutId = null;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"scroll\", throttledCheckScroll);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"scroll\", throttledCheckScroll);\n\t\t\tif (timeoutId) {\n\t\t\t\tclearTimeout(timeoutId);\n\t\t\t}\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst {body} = document;\n\t\tbody.classList.toggle(THEME.CLASS_NAME, isLightTheme);\n\t\tupdateThemeColor(isLightTheme);\n\t}, [isLightTheme]);\n\n\tconst links = Object.keys(navItems)\n\t\t.reverse()\n\t\t.map((key) => (\n\t\t\t<li key={key} className=\"navbar__item\">\n\t\t\t\t<a\n\t\t\t\t\thref={navItems[key]}\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconst { href } = event.target;\n\t\t\t\t\t\tif (href.startsWith(\"#\")) {\n\t\t\t\t\t\t\twindow.location.href = `${window.location.origin}${href}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location.href = href;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{key}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t));\n\n\treturn (\n\t\t<nav className=\"navbar\">\n\t\t\t{links}\n\t\t\t<button\n\t\t\t\tclassName={`theme-switch ${isLightTheme ? \"light-theme\" : \"\"}`}\n\t\t\t\tonClick={handleThemeClick}\n\t\t\t\trole=\"switch\"\n\t\t\t\taria-checked={isLightTheme}\n\t\t\t\taria-label={`Switch to ${isLightTheme ? \"dark\" : \"light\"} theme`}\n\t\t\t\ttype=\"button\"\n\t\t\t>\n\t\t\t\t<div className=\"switch-handle\">\n\t\t\t\t\t<div className=\"moon-phase-container\" />\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={`scroll-to-top ${showScrollTop ? \"visible\" : \"\"}`}\n\t\t\t\tonClick={scrollToTop}\n\t\t\t\taria-label=\"Scroll to top\"\n\t\t\t\taria-hidden={!showScrollTop}\n\t\t\t>\n\t\t\t\t\n\t\t\t</button>\n\t\t</nav>\n\t);\n}\n\nexport default NavBar;\n","import React, { useEffect, useRef } from \"react\";\n\nconst InfiniteScrollEffect = ({ children }) => {\n  const containerRef = useRef(null);\n  const scrolling = useRef(false);\n  const lastScrollY = useRef(0);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    const handleScroll = () => {\n      if (scrolling.current) return;\n\n      const containerHeight = container.firstElementChild?.offsetHeight || 0;\n      const scrollPosition = window.scrollY;\n      const windowHeight = window.innerHeight;\n\n      // Track natural scroll direction\n      const scrollingDown = scrollPosition > lastScrollY.current;\n      lastScrollY.current = scrollPosition;\n\n      // Only reset when scrolling down and near the bottom\n      if (scrollingDown && scrollPosition > containerHeight - windowHeight) {\n        scrolling.current = true;\n\n        // Create a custom scroll event that the blur effect can detect as programmatic\n        const customEvent = new CustomEvent('programmaticScroll', {\n          detail: { \n            fromY: scrollPosition,\n            toY: scrollPosition % containerHeight\n          }\n        });\n        window.dispatchEvent(customEvent);\n\n        // Smooth reset to maintain blur effect\n        requestAnimationFrame(() => {\n          window.scrollTo({\n            top: scrollPosition % containerHeight,\n            behavior: 'auto'\n          });\n          \n          // Allow a brief moment for the scroll to complete\n          setTimeout(() => {\n            scrolling.current = false;\n          }, 50);\n        });\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  // Style to hide any visual seams\n  const containerStyle = {\n    position: 'relative',\n    overflow: 'hidden'\n  };\n\n  return (\n    <div ref={containerRef} style={containerStyle}>\n      {/* Original content */}\n      {children}\n      {/* Duplicate content for seamless loop */}\n      {children}\n    </div>\n  );\n};\n\nexport default InfiniteScrollEffect; ","// Third-party imports\nimport React, { Suspense, memo, useState, useCallback, useEffect } from \"react\";\nimport GoogleSheetsProvider from \"react-db-google-sheets\";\nimport { BrowserRouter, Navigate, Route, Routes } from \"react-router-dom\";\n\n// Styles\nimport \"./sass/main.scss\";\n\nimport {\n\tGOOGLE_SHEETS_CONFIG,\n\tNAV_ITEMS,\n} from \"./components/Core/constants.js\";\nimport { \n\tToolsSection, \n\tBingoGame, \n\tSnake, \n\tConflictMediation \n} from \"./components/Tools\";\nimport { BlurSection } from \"./components/effects/Blur\";\nimport LoadingSequence from \"./components/effects/Loading/LoadingSequence.js\";\n// Local imports\nimport { AuthProvider, useAuth } from \"./components/effects/Matrix/AuthContext.js\";\nimport Matrix from \"./components/effects/Matrix/Matrix.js\";\nimport FrameEffect from \"./components/effects/Loading/FrameEffect.js\";\nimport MagicComponent from \"./components/effects/Moiree/Moiree.js\";\nimport { About, Header, NavBar, Projects, Work } from \"./components/index.js\";\nimport InfiniteScrollEffect from \"./components/effects/InfiniteScrollEffect\";\n\nconst CustomLoadingComponent = () => (\n\t<div className=\"loading-container\">\n\t\tLoading...\n\t</div>\n);\nCustomLoadingComponent.displayName = \"CustomLoadingComponent\";\n\n// Fullscreen wrapper for tools\nconst FullscreenToolLayout = ({ children }) => (\n\t<div className=\"fullscreen-tool-layout\">\n\t\t{children}\n\t</div>\n);\n\nconst Layout = memo(({ children, navItems, onMatrixActivate, hideNav }) => (\n\t<div className=\"app-layout\">\n\t\t<LoadingSequence />\n\t\t<div className=\"vignette-top\" />\n\t\t<div className=\"vignette-bottom\" />\n\t\t<div className=\"vignette-left\" />\n\t\t<div className=\"vignette-right\" />\n\t\t{!hideNav && <NavBar items={navItems} onMatrixActivate={onMatrixActivate} />}\n\t\t<div id=\"magicContainer\">\n\t\t\t<MagicComponent />\n\t\t</div>\n\t\t<FrameEffect>{children}</FrameEffect>\n\t</div>\n));\n\nLayout.displayName = \"Layout\";\n\nconst HomePageContent = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Header />\n\t\t\t<About />\n\t\t\t<Projects />\n\t\t\t<Work />\n\t\t\t<ToolsSection />\n\t\t</div>\n\t);\n};\n\nconst AppContent = () => {\n\tconst [showMatrix, setShowMatrix] = useState(false);\n\tconst { isUnlocked } = useAuth();\n\n\t// Clean up URL parameter if authenticated\n\tuseEffect(() => {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tif (urlParams.has(\"password\")) {\n\t\t\t// Remove the password parameter from URL\n\t\t\turlParams.delete(\"password\");\n\t\t\tconst newUrl =\n\t\t\t\twindow.location.pathname +\n\t\t\t\t(urlParams.toString() ? `?${urlParams.toString()}` : \"\");\n\t\t\twindow.history.replaceState({}, \"\", newUrl);\n\t\t}\n\t}, []);\n\n\tconst handleMatrixActivate = useCallback(() => {\n\t\tsetShowMatrix(true);\n\t}, []);\n\n\tconst handleMatrixSuccess = useCallback(() => {\n\t\tsetShowMatrix(false);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Matrix isVisible={showMatrix} onSuccess={handleMatrixSuccess} />\n\t\t\t<BrowserRouter>\n\t\t\t\t<Suspense fallback={<CustomLoadingComponent />}>\n\t\t\t\t\t<Routes>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<Layout\n\t\t\t\t\t\t\t\t\tnavItems={NAV_ITEMS}\n\t\t\t\t\t\t\t\t\tonMatrixActivate={handleMatrixActivate}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BlurSection as=\"div\" disabled={!isUnlocked}>\n\t\t\t\t\t\t\t\t\t\t<InfiniteScrollEffect>\n\t\t\t\t\t\t\t\t\t\t\t<HomePageContent />\n\t\t\t\t\t\t\t\t\t\t</InfiniteScrollEffect>\n\t\t\t\t\t\t\t\t\t</BlurSection>\n\t\t\t\t\t\t\t\t</Layout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Regular tool routes */}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/tools\"\n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<Layout\n\t\t\t\t\t\t\t\t\tnavItems={NAV_ITEMS}\n\t\t\t\t\t\t\t\t\tonMatrixActivate={handleMatrixActivate}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ToolsSection />\n\t\t\t\t\t\t\t\t</Layout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Fullscreen tool routes */}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/tools/bingo/fullscreen\"\n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<FullscreenToolLayout>\n\t\t\t\t\t\t\t\t\t<BingoGame isFullscreen />\n\t\t\t\t\t\t\t\t</FullscreenToolLayout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/tools/snake/fullscreen\"\n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<FullscreenToolLayout>\n\t\t\t\t\t\t\t\t\t<Snake isFullscreen />\n\t\t\t\t\t\t\t\t</FullscreenToolLayout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/tools/conflict-mediation/fullscreen\"\n\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t<FullscreenToolLayout>\n\t\t\t\t\t\t\t\t\t<ConflictMediation isFullscreen />\n\t\t\t\t\t\t\t\t</FullscreenToolLayout>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* Redirect old path to new path */}\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/conflict-mediation\"\n\t\t\t\t\t\t\telement={<Navigate to=\"/tools/conflict-mediation/fullscreen\" replace />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n\t\t\t\t\t</Routes>\n\t\t\t\t</Suspense>\n\t\t\t</BrowserRouter>\n\t\t</>\n\t);\n};\n\nconst App = () => (\n\t<GoogleSheetsProvider config={GOOGLE_SHEETS_CONFIG}>\n\t\t<AuthProvider>\n\t\t\t<AppContent />\n\t\t</AuthProvider>\n\t</GoogleSheetsProvider>\n);\n\nexport default App;\n","import React, { useState, useEffect, useRef, useCallback, memo, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport confetti from \"canvas-confetti\";\nimport './styles/index.scss';\n\n// Constants\nconst GRID_SIZE = 5;\nconst TOTAL_CELLS = GRID_SIZE * GRID_SIZE;\n\n// Styled Components\nconst BingoContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2rem;\n  padding: 2rem;\n  background: var(--tool-background);\n  border-radius: var(--tool-border-radius);\n  box-shadow: 0 10px 30px -10px rgb(0 0 0 / 20%),\n    0 0 0 1px rgb(255 255 255 / 5%);\n  overflow: auto;\n  will-change: transform;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n\n  &.theme-dark {\n    background: var(--color-grey-dark-1);\n  }\n\n  &.theme-light {\n    background: var(--color-grey-light-1);\n  }\n\n  &.theme-nature {\n    background: var(--color-sage-dark);\n  }\n`;\n\nconst BingoHeader = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n\n  h1 {\n    font-size: 2rem;\n    color: var(--tool-text);\n    text-align: center;\n    margin: 0;\n  }\n\n  .year-selector {\n    display: flex;\n    gap: 1rem;\n\n    button {\n      padding: 0.5rem 1rem;\n      border: none;\n      border-radius: var(--tool-border-radius);\n      background: var(--tool-surface);\n      color: var(--tool-text);\n      cursor: pointer;\n      transition: all 0.2s;\n      will-change: transform;\n\n      &:hover {\n        background: var(--tool-border);\n        transform: translateY(-2px);\n      }\n\n      &.active {\n        background: var(--tool-accent);\n        color: var(--color-text-light);\n      }\n    }\n  }\n\n  .theme-selector {\n    select {\n      padding: 0.5rem;\n      border: none;\n      border-radius: var(--tool-border-radius);\n      background: var(--tool-surface);\n      color: var(--tool-text);\n      cursor: pointer;\n    }\n  }\n\n  .progress-summary {\n    text-align: center;\n    color: var(--tool-text);\n\n    h3 {\n      font-size: 1.2rem;\n      margin-bottom: 0.5rem;\n      margin-top: 0;\n    }\n    \n    p {\n      margin: 0;\n    }\n  }\n`;\n\nconst BingoGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  gap: 0.75rem;\n  background: var(--tool-surface);\n  padding: 1.5rem;\n  border-radius: var(--tool-border-radius);\n  box-shadow: 0 4px 12px rgb(0 0 0 / 20%);\n  will-change: transform;\n  \n  @media (max-width: 768px) {\n    gap: 0.5rem;\n    padding: 1rem;\n  }\n`;\n\nconst StyledBingoItem = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  background: ${props => props.isChecked \n    ? 'linear-gradient(135deg, var(--color-success-light), var(--color-success))' \n    : 'var(--tool-surface)'};\n  border: 2px solid ${props => props.isChecked \n    ? 'var(--color-success)' \n    : props.isHovered \n      ? 'var(--tool-accent)' \n      : 'var(--tool-border)'};\n  transform: ${props => props.isHovered ? 'scale(1.05)' : 'scale(1)'};\n  box-shadow: ${props => props.isHovered \n    ? '0 8px 16px rgba(0, 0, 0, 0.15)' \n    : '0 2px 4px rgba(0, 0, 0, 0.1)'};\n  will-change: transform, box-shadow;\n  \n  .item-content {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    overflow: hidden;\n  }\n  \n  .text {\n    font-weight: 600;\n    font-size: 0.9rem;\n    color: var(--tool-text);\n    margin-bottom: 0.25rem;\n  }\n  \n  .description {\n    font-size: 0.7rem;\n    color: var(--tool-text-secondary);\n    opacity: 0;\n    transition: opacity 0.3s ease;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.7);\n    padding: 0.5rem;\n    border-radius: 0 0 0.5rem 0.5rem;\n    pointer-events: none;\n  }\n  \n  .checkmark {\n    position: absolute;\n    top: 0.25rem;\n    right: 0.25rem;\n    color: var(--color-success);\n    font-size: 1rem;\n  }\n  \n  .edit-input {\n    width: 90%;\n    padding: 0.5rem;\n    border: 1px solid var(--tool-accent);\n    border-radius: 0.25rem;\n    background: var(--tool-background);\n    color: var(--tool-text);\n  }\n  \n  @media (max-width: 768px) {\n    .text {\n      font-size: 0.8rem;\n    }\n  }\n`;\n\nconst BingoNotification = styled.div`\n  margin-top: 1.5rem;\n  padding: 1rem 1.5rem;\n  border-radius: var(--tool-border-radius);\n  background: ${props => props.type === 'full' \n    ? 'linear-gradient(135deg, var(--color-success), var(--color-success-dark))' \n    : 'linear-gradient(135deg, var(--tool-accent), var(--color-accent-dark))'};\n  color: white;\n  text-align: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  animation: ${props => props.type === 'full' ? 'bounce 1s infinite' : 'slideIn 0.5s ease-out'};\n  will-change: transform;\n  \n  h2 {\n    font-size: 1.5rem;\n    margin: 0 0 0.5rem 0;\n  }\n  \n  ul {\n    list-style-position: inside;\n    margin: 0.5rem 0 0 0;\n    padding: 0;\n    text-align: left;\n  }\n`;\n\nconst ResetButton = styled.button`\n  margin-top: 1.5rem;\n  padding: 0.75rem 1.5rem;\n  background: var(--tool-accent);\n  color: white;\n  border: none;\n  border-radius: var(--tool-border-radius);\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  will-change: transform;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n    background: var(--color-accent-dark);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n`;\n\n// BingoItem Component - Optimized with memo\nconst BingoItem = memo(({\n  index,\n  item,\n  isChecked,\n  isHovered,\n  isEditing,\n  onItemClick,\n  onItemDoubleClick,\n  onItemHover,\n  onEditComplete,\n  editRef\n}) => {\n  const handleKeyDown = useCallback((e) => {\n    if (e.key === \"Enter\" || e.key === \"Escape\") {\n      e.preventDefault();\n      onEditComplete(index, e.target.value);\n    }\n  }, [index, onEditComplete]);\n\n  const handleClick = useCallback(() => {\n    onItemClick(index);\n  }, [index, onItemClick]);\n\n  const handleDoubleClick = useCallback(() => {\n    onItemDoubleClick(index);\n  }, [index, onItemDoubleClick]);\n\n  const handleMouseEnter = useCallback(() => {\n    onItemHover(index);\n  }, [index, onItemHover]);\n\n  const handleMouseLeave = useCallback(() => {\n    onItemHover(null);\n  }, [onItemHover]);\n\n  const handleBlur = useCallback((e) => {\n    onEditComplete(index, e.target.value);\n  }, [index, onEditComplete]);\n\n  return (\n    <StyledBingoItem\n      isChecked={isChecked}\n      isHovered={isHovered}\n      onClick={handleClick}\n      onDoubleClick={handleDoubleClick}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      role=\"button\"\n      tabIndex={0}\n      aria-pressed={isChecked}\n    >\n      <div className=\"item-content\">\n        {isEditing ? (\n          <input\n            ref={editRef}\n            type=\"text\"\n            defaultValue={item.goal}\n            onKeyDown={handleKeyDown}\n            onBlur={handleBlur}\n            className=\"edit-input\"\n            autoFocus\n          />\n        ) : (\n          <>\n            <div className=\"text\">{item.goal}</div>\n            {item.description && (\n              <div\n                className=\"description\"\n                style={{ opacity: isHovered ? 1 : 0 }}\n              >\n                {item.description}\n              </div>\n            )}\n            {isChecked && (\n              <div className=\"checkmark\">\n                <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                  <path\n                    fill=\"currentColor\"\n                    d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\"\n                  />\n                </svg>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </StyledBingoItem>\n  );\n});\n\nBingoItem.displayName = \"BingoItem\";\n\n// BingoGrid Component - Optimized with memo\nconst BingoGridComponent = memo(({\n  bingoData,\n  checkedItems,\n  hoveredIndex,\n  editIndex,\n  onItemClick,\n  onItemDoubleClick,\n  onItemHover,\n  onEditComplete,\n  editRef\n}) => {\n  // Only render items that are in the grid\n  const gridItems = useMemo(() => \n    bingoData.slice(0, TOTAL_CELLS).map((item, index) => (\n      <BingoItem\n        key={`${item.id || index}-${item.goal}`}\n        index={index}\n        item={item}\n        isChecked={checkedItems[index] || false}\n        isHovered={hoveredIndex === index}\n        isEditing={editIndex === index}\n        onItemClick={onItemClick}\n        onItemDoubleClick={onItemDoubleClick}\n        onItemHover={onItemHover}\n        onEditComplete={onEditComplete}\n        editRef={editIndex === index ? editRef : null}\n      />\n    )), \n    [bingoData, checkedItems, hoveredIndex, editIndex, onItemClick, onItemDoubleClick, onItemHover, onEditComplete, editRef]\n  );\n\n  return (\n    <BingoGrid>\n      {gridItems}\n    </BingoGrid>\n  );\n});\n\nBingoGridComponent.displayName = \"BingoGridComponent\";\n\n// Optimized state management hook\nconst useBingoState = (key, initialState) => {\n  // Use lazy initialization for performance\n  const [state, setState] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialState;\n    } catch (error) {\n      console.warn(\"Error loading state from localStorage:\", error);\n      return initialState;\n    }\n  });\n\n  // Debounced save to localStorage\n  const saveState = useCallback(() => {\n    try {\n      window.localStorage.setItem(key, JSON.stringify(state));\n    } catch (error) {\n      console.warn(\"Error saving state to localStorage:\", error);\n    }\n  }, [key, state]);\n\n  // Debounce the save operation\n  useEffect(() => {\n    const timeoutId = setTimeout(saveState, 500);\n    return () => clearTimeout(timeoutId);\n  }, [state, saveState]);\n\n  // Save on unload\n  useEffect(() => {\n    const saveOnUnload = () => saveState();\n    window.addEventListener(\"beforeunload\", saveOnUnload);\n    return () => window.removeEventListener(\"beforeunload\", saveOnUnload);\n  }, [saveState]);\n\n  return [state, setState];\n};\n\n// Main component\nconst BingoContent = memo(({ isFullscreen = false }) => {\n  // State hooks\n  const [year, setYear] = useBingoState(\"bingo-year\", \"2023\");\n  const [theme, setTheme] = useBingoState(\"bingo-theme\", \"default\");\n  const [checkedItems, setCheckedItems] = useBingoState(\"bingo-checked-items\", {});\n  const [hoveredIndex, setHoveredIndex] = useState(null);\n  const [editIndex, setEditIndex] = useState(null);\n  const [bingoData, setBingoData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const editRef = useRef(null);\n\n  // Memoized data\n  const years = useMemo(() => [\"2023\", \"2022\", \"2021\"], []);\n  const themes = useMemo(() => [\n    { id: \"default\", name: \"Default\" },\n    { id: \"dark\", name: \"Dark\" },\n    { id: \"light\", name: \"Light\" },\n    { id: \"nature\", name: \"Nature\" },\n  ], []);\n\n  // Load bingo data\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        // Simulate API call with timeout\n        await new Promise(resolve => setTimeout(resolve, 300));\n        \n        // Generate mock data\n        const mockData = Array.from({ length: TOTAL_CELLS }, (_, i) => ({\n          id: `${year}-${i}`,\n          goal: `Goal ${i + 1} for ${year}`,\n          description: `Description for goal ${i + 1}`,\n          category: [\"Work\", \"Personal\", \"Health\", \"Finance\", \"Relationships\"][\n            Math.floor(Math.random() * 5)\n          ],\n        }));\n        \n        setBingoData(mockData);\n        setError(null);\n      } catch (err) {\n        console.error(\"Error loading bingo data:\", err);\n        setError(\"Failed to load bingo data. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, [year]);\n\n  // Event handlers - memoized with useCallback\n  const handleYearChange = useCallback((selectedYear) => {\n    setYear(selectedYear);\n    // Reset checked items when year changes\n    setCheckedItems({});\n  }, [setYear, setCheckedItems]);\n\n  const handleThemeChange = useCallback((e) => {\n    setTheme(e.target.value);\n  }, [setTheme]);\n\n  const handleItemClick = useCallback((index) => {\n    setCheckedItems(prev => ({\n      ...prev,\n      [index]: !prev[index]\n    }));\n  }, [setCheckedItems]);\n\n  const handleItemDoubleClick = useCallback((index) => {\n    setEditIndex(index);\n  }, []);\n\n  const handleEditComplete = useCallback((index, value) => {\n    if (value.trim()) {\n      setBingoData(prev => \n        prev.map((item, i) => \n          i === index ? { ...item, goal: value.trim() } : item\n        )\n      );\n    }\n    setEditIndex(null);\n  }, []);\n\n  const handleReset = useCallback(() => {\n    if (window.confirm(\"Are you sure you want to reset your progress?\")) {\n      setCheckedItems({});\n    }\n  }, [setCheckedItems]);\n\n  // Calculate bingos\n  const { bingos, completedCount, totalCount } = useMemo(() => {\n    const checkBingos = () => {\n      const rows = Array(GRID_SIZE).fill().map((_, i) => \n        Array(GRID_SIZE).fill().map((_, j) => i * GRID_SIZE + j)\n      );\n      \n      const cols = Array(GRID_SIZE).fill().map((_, i) => \n        Array(GRID_SIZE).fill().map((_, j) => j * GRID_SIZE + i)\n      );\n      \n      const diag1 = Array(GRID_SIZE).fill().map((_, i) => i * GRID_SIZE + i);\n      const diag2 = Array(GRID_SIZE).fill().map((_, i) => (i + 1) * GRID_SIZE - (i + 1));\n      \n      const lines = [...rows, ...cols, diag1, diag2];\n      \n      return lines.filter(line => \n        line.every(index => checkedItems[index])\n      );\n    };\n\n    const bingos = checkBingos();\n    const completedCount = Object.values(checkedItems).filter(Boolean).length;\n    const totalCount = TOTAL_CELLS;\n    \n    return { bingos, completedCount, totalCount };\n  }, [checkedItems]);\n\n  // Trigger confetti effect when a new bingo is completed\n  useEffect(() => {\n    if (bingos.length > 0) {\n      confetti({\n        particleCount: 100,\n        spread: 70,\n        origin: { y: 0.6 }\n      });\n    }\n  }, [bingos.length]);\n\n  // Render\n  return (\n    <BingoContainer className={`theme-${theme}`}>\n      <BingoHeader>\n        <h1>Bingo Goals {year}</h1>\n        \n        <div className=\"year-selector\">\n          {years.map(y => (\n            <button\n              key={y}\n              className={year === y ? \"active\" : \"\"}\n              onClick={() => handleYearChange(y)}\n            >\n              {y}\n            </button>\n          ))}\n        </div>\n        \n        <div className=\"theme-selector\">\n          <select value={theme} onChange={handleThemeChange}>\n            {themes.map(t => (\n              <option key={t.id} value={t.id}>\n                {t.name} Theme\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        <div className=\"progress-summary\">\n          <h3>Your Progress</h3>\n          <p>\n            {completedCount} of {totalCount} goals completed ({Math.round((completedCount / totalCount) * 100)}%)\n          </p>\n          {bingos.length > 0 && (\n            <p>Bingos: {bingos.length}</p>\n          )}\n        </div>\n      </BingoHeader>\n\n      {loading ? (\n        <div className=\"loading\">Loading...</div>\n      ) : error ? (\n        <div className=\"error\">{error}</div>\n      ) : (\n        <>\n          <BingoGridComponent\n            bingoData={bingoData}\n            checkedItems={checkedItems}\n            hoveredIndex={hoveredIndex}\n            editIndex={editIndex}\n            onItemClick={handleItemClick}\n            onItemDoubleClick={handleItemDoubleClick}\n            onItemHover={setHoveredIndex}\n            onEditComplete={handleEditComplete}\n            editRef={editRef}\n          />\n          \n          {bingos.length > 0 && (\n            <BingoNotification type={bingos.length >= 3 ? \"full\" : \"partial\"}>\n              <h2>\n                {bingos.length >= 3\n                  ? \" Full Bingo! \"\n                  : ` Bingo! (${bingos.length})`}\n              </h2>\n              <p>You've completed {bingos.length} bingo lines!</p>\n            </BingoNotification>\n          )}\n          \n          {completedCount > 0 && (\n            <ResetButton onClick={handleReset}>\n              Reset Progress\n            </ResetButton>\n          )}\n        </>\n      )}\n    </BingoContainer>\n  );\n});\n\nBingoContent.displayName = \"BingoContent\";\n\n// Export the component with React.memo for performance\nexport default memo(function BingoGame({ isFullscreen }) {\n  return <BingoContent isFullscreen={isFullscreen} />;\n}); ","import React, { useState, useEffect } from 'react';\n\n// Emotion Wheel Data - Enhanced with icons and descriptions\nconst emotionWheel = {\n  \"Angry\": {\n    color: \"#FF4D4D\",\n    icon: \"\",\n    description: \"Feeling upset or annoyed because of something unfair or wrong\",\n    subEmotions: [\"Frustrated\", \"Annoyed\", \"Offended\", \"Irritated\", \"Betrayed\"]\n  },\n  \"Sad\": {\n    color: \"#4D79FF\",\n    icon: \"\",\n    description: \"Feeling unhappy or sorrowful about something\",\n    subEmotions: [\"Hurt\", \"Disappointed\", \"Lonely\", \"Guilty\", \"Depressed\"]\n  },\n  \"Scared\": {\n    color: \"#9B4DFF\",\n    icon: \"\",\n    description: \"Feeling afraid or worried about something\",\n    subEmotions: [\"Anxious\", \"Stressed\", \"Overwhelmed\", \"Worried\", \"Shocked\"]\n  },\n  \"Happy\": {\n    color: \"#FFD700\",\n    icon: \"\",\n    description: \"Feeling joy, pleasure, or contentment\",\n    subEmotions: [\"Excited\", \"Grateful\", \"Optimistic\", \"Content\", \"Proud\"]\n  },\n  \"Disgusted\": {\n    color: \"#4DFF4D\",\n    icon: \"\",\n    description: \"Feeling strong disapproval or aversion\",\n    subEmotions: [\"Disapproving\", \"Disappointed\", \"Awful\", \"Repelled\"]\n  },\n  \"Surprised\": {\n    color: \"#FF4DFF\",\n    icon: \"\",\n    description: \"Feeling astonished or taken aback by something unexpected\",\n    subEmotions: [\"Confused\", \"Amazed\", \"Stunned\", \"Startled\"]\n  }\n};\n\n// Circumplex data\nconst circumplex = {\n  quadrants: [\n    {\n      id: \"high_valence_high_arousal\",\n      name: \"Excited\",\n      position: \"top-right\",\n      color: \"255, 215, 0\", // Gold\n      emotions: [\"Excited\", \"Elated\", \"Happy\", \"Delighted\"]\n    },\n    {\n      id: \"low_valence_high_arousal\",\n      name: \"Distressed\",\n      position: \"top-left\",\n      color: \"255, 77, 77\", // Red\n      emotions: [\"Angry\", \"Afraid\", \"Frustrated\", \"Anxious\"]\n    },\n    {\n      id: \"low_valence_low_arousal\",\n      name: \"Depressed\",\n      position: \"bottom-left\",\n      color: \"77, 121, 255\", // Blue\n      emotions: [\"Sad\", \"Bored\", \"Tired\", \"Depressed\"]\n    },\n    {\n      id: \"high_valence_low_arousal\",\n      name: \"Relaxed\",\n      position: \"bottom-right\",\n      color: \"77, 255, 77\", // Green\n      emotions: [\"Calm\", \"Relaxed\", \"Serene\", \"Content\"]\n    }\n  ]\n};\n\nconst EmotionSelector = ({ \n  selectedEmotions = [], \n  onEmotionChange,\n  valenceArousalValue,\n  onCircumplexChange,\n  disabled = false\n}) => {\n  const [activeEmotion, setActiveEmotion] = useState(null);\n  const [activeQuadrant, setActiveQuadrant] = useState(null);\n  const [pointPosition, setPointPosition] = useState(null);\n\n  // Calculate point position from valenceArousalValue\n  useEffect(() => {\n    if (valenceArousalValue) {\n      const [x, y] = valenceArousalValue;\n      setPointPosition({\n        left: `${((x + 1) / 2) * 100}%`,\n        top: `${((1 - y) / 2) * 100}%`\n      });\n    } else {\n      setPointPosition(null);\n    }\n  }, [valenceArousalValue]);\n\n  // Get quadrant from valence-arousal values\n  const getQuadrantFromValues = (x, y) => {\n    if (x >= 0 && y >= 0) {\n      return \"high_valence_high_arousal\";\n    }\n    if (x < 0 && y >= 0) {\n      return \"low_valence_high_arousal\";\n    }\n    if (x < 0 && y < 0) {\n      return \"low_valence_low_arousal\";\n    }\n    return \"high_valence_low_arousal\";\n  };\n\n  // Handle click on the circumplex chart\n  const handleCircumplexClick = (e) => {\n    if (disabled) {\n      return;\n    }\n\n    // Get relative position\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = ((e.clientX - rect.left) / rect.width) * 2 - 1; // Scale to -1 to 1\n    const y = 1 - ((e.clientY - rect.top) / rect.height) * 2; // Scale to -1 to 1, invert Y\n\n    // Update values\n    onCircumplexChange([x, y]);\n    \n    // Determine which quadrant was clicked and set it as active\n    const quadrantId = getQuadrantFromValues(x, y);\n    setActiveQuadrant(quadrantId);\n  };\n\n  // Handle clicking on a specific emotion in a quadrant\n  const handleEmotionSelect = (emotion) => {\n    if (disabled) {\n      return;\n    }\n    onEmotionChange(emotion);\n  };\n\n  // Update active quadrant when valenceArousalValue changes\n  useEffect(() => {\n    if (valenceArousalValue) {\n      const quadrantId = getQuadrantFromValues(\n        valenceArousalValue[0], \n        valenceArousalValue[1]\n      );\n      setActiveQuadrant(quadrantId);\n    }\n  }, [valenceArousalValue]);\n\n  // Handle primary emotion selection\n  const handlePrimaryEmotionClick = (emotion) => {\n    if (disabled) {\n      return;\n    }\n    \n    setActiveEmotion(activeEmotion === emotion ? null : emotion);\n  };\n\n  // Handle sub-emotion selection\n  const handleSubEmotionClick = (subEmotion) => {\n    if (disabled) {\n      return;\n    }\n    \n    const isSelected = selectedEmotions.includes(subEmotion);\n    \n    if (isSelected) {\n      onEmotionChange(selectedEmotions.filter(e => e !== subEmotion));\n    } else {\n      onEmotionChange([...selectedEmotions, subEmotion]);\n    }\n  };\n\n  return (\n    <div className=\"emotion-selector-container\">\n      <div className=\"emotion-wheel-section\">\n        <h3>Emotion Wheel</h3>\n        <p className=\"emotion-hint\">\n          Select primary emotions to see more specific feelings\n        </p>\n        \n        <div className=\"emotion-wheel\">\n          {Object.entries(emotionWheel).map(([emotion, data]) => (\n            <div \n              key={emotion}\n              className={`emotion-segment ${activeEmotion === emotion ? 'active' : ''}`}\n              style={{ '--emotion-color': data.color }}\n              onClick={() => handlePrimaryEmotionClick(emotion)}\n            >\n              <div className=\"emotion-content\">\n                <span className=\"emotion-icon\">{data.icon}</span>\n                <span className=\"emotion-name\">{emotion}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n        \n        {activeEmotion && (\n          <div className=\"sub-emotions\">\n            <h4>\n              <span className=\"emotion-icon\">{emotionWheel[activeEmotion].icon}</span>\n              {activeEmotion} - {emotionWheel[activeEmotion].description}\n            </h4>\n            <div className=\"sub-emotion-list\">\n              {emotionWheel[activeEmotion].subEmotions.map(subEmotion => (\n                <button\n                  key={subEmotion}\n                  className={`sub-emotion-btn ${selectedEmotions.includes(subEmotion) ? 'selected' : ''}`}\n                  style={{ \n                    '--emotion-color': emotionWheel[activeEmotion].color,\n                    '--emotion-bg': `${emotionWheel[activeEmotion].color}33`\n                  }}\n                  onClick={() => handleSubEmotionClick(subEmotion)}\n                  disabled={disabled}\n                >\n                  {subEmotion}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"emotion-circumplex-container\">\n        <h3>Valence-Arousal Circumplex Chart</h3>\n        <p className=\"emotion-hint\">\n          Click on the chart to indicate how you feel based on pleasure (valence) and energy (arousal) levels\n        </p>\n        \n        <div className=\"circumplex-wrapper\">\n          <div \n            className=\"circumplex-chart\" \n            onClick={handleCircumplexClick}\n            role=\"grid\"\n            aria-label=\"Emotion circumplex chart\"\n          >\n            {/* Axes labels */}\n            <div className=\"axis-label valence-axis\">\n              <span className=\"negative\">Displeasure</span>\n              <span className=\"axis-name\">Valence</span>\n              <span className=\"positive\">Pleasure</span>\n            </div>\n            <div className=\"axis-label arousal-axis\">\n              <span className=\"positive\">High Energy</span>\n              <span className=\"axis-name\">Arousal</span>\n              <span className=\"negative\">Low Energy</span>\n            </div>\n            \n            {/* Quadrant labels */}\n            {circumplex.quadrants.map(quadrant => (\n              <div \n                key={quadrant.id}\n                className={`quadrant-label ${quadrant.position} ${activeQuadrant === quadrant.id ? 'active' : ''}`}\n                style={{ '--quadrant-color': quadrant.color }}\n              >\n                {quadrant.name}\n              </div>\n            ))}\n            \n            {/* Axes lines */}\n            <div className=\"horizontal-axis\"></div>\n            <div className=\"vertical-axis\"></div>\n            \n            {/* Selected point */}\n            {pointPosition && (\n              <div \n                className=\"selected-point\"\n                style={{\n                  left: pointPosition.left,\n                  top: pointPosition.top,\n                  background: `rgba(${circumplex.quadrants.find(q => q.id === activeQuadrant)?.color || '255, 255, 255'}, 0.9)`\n                }}\n              ></div>\n            )}\n          </div>\n          \n          {/* Emotions in active quadrant */}\n          {activeQuadrant && (\n            <div className=\"quadrant-emotions\">\n              <h4>{circumplex.quadrants.find(q => q.id === activeQuadrant)?.name} Emotions</h4>\n              <div className=\"emotion-buttons\">\n                {circumplex.quadrants\n                  .find(q => q.id === activeQuadrant)\n                  ?.emotions.map(emotion => (\n                    <button\n                      key={emotion}\n                      className={`emotion-btn ${selectedEmotions.includes(emotion) ? 'selected' : ''}`}\n                      style={{ \n                        '--quadrant-color': circumplex.quadrants.find(q => q.id === activeQuadrant)?.color\n                      }}\n                      onClick={() => handleEmotionSelect(emotion)}\n                      disabled={disabled}\n                    >\n                      {emotion}\n                    </button>\n                  ))\n                }\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {selectedEmotions.length > 0 && (\n        <div className=\"selected-emotions\">\n          <h3>Selected Emotions</h3>\n          <div className=\"emotion-tags\">\n            {selectedEmotions.map(emotion => (\n              <div \n                key={emotion} \n                className=\"emotion-tag\"\n                onClick={() => !disabled && handleSubEmotionClick(emotion)}\n              >\n                {emotion}\n                {!disabled && (\n                  <span className=\"remove-emotion\"></span>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EmotionSelector; ","import React, { useState } from 'react';\n\nconst InputField = ({ \n  id, \n  label, \n  value, \n  onChange, \n  placeholder, \n  type = \"text\",\n  error,\n  touched,\n  required = false,\n  disabled = false\n}) => (\n  <div className={`input-field ${error && touched ? 'has-error' : ''}`}>\n    <label htmlFor={id}>\n      {label}\n      {required && <span className=\"required\">*</span>}\n    </label>\n    <input\n      id={id}\n      type={type}\n      value={value}\n      onChange={onChange}\n      placeholder={placeholder}\n      required={required}\n      disabled={disabled}\n    />\n    {error && touched && <div className=\"error-message\">{error}</div>}\n  </div>\n);\n\nconst TextareaField = ({ \n  id, \n  label, \n  value, \n  onChange, \n  placeholder,\n  error,\n  touched,\n  required = false,\n  disabled = false,\n  rows = 4\n}) => (\n  <div className={`textarea-field ${error && touched ? 'has-error' : ''}`}>\n    <label htmlFor={id}>\n      {label}\n      {required && <span className=\"required\">*</span>}\n    </label>\n    <textarea\n      id={id}\n      value={value || ''}\n      onChange={onChange}\n      placeholder={placeholder}\n      required={required}\n      disabled={disabled}\n      rows={rows}\n    ></textarea>\n    {error && touched && <div className=\"error-message\">{error}</div>}\n  </div>\n);\n\nconst CollapsibleSection = ({ \n  title, \n  isOpen, \n  onToggle, \n  children,\n  id,\n  disabled = false\n}) => (\n  <div className={`form-section collapsible ${isOpen ? 'open' : 'closed'}`}>\n    <div \n      className=\"section-header\" \n      onClick={disabled ? null : onToggle}\n      style={{ cursor: disabled ? 'default' : 'pointer' }}\n    >\n      <h2>{title}</h2>\n      <button \n        type=\"button\" \n        className=\"toggle-button\"\n        onClick={e => {\n          e.stopPropagation();\n          if (!disabled) onToggle();\n        }}\n        disabled={disabled}\n      >\n        {isOpen ? '' : '+'}\n      </button>\n    </div>\n    <div className=\"section-content\">\n      {isOpen && children}\n    </div>\n  </div>\n);\n\nconst ReflectionPrompts = ({ \n  selectedEmotions,\n  formData,\n  setFormData,\n  onSubmit,\n  isLocked = false,\n  needsData = null\n}) => {\n  const [openSections, setOpenSections] = useState({\n    situation: true,\n    emotions: true,\n    perspective: false,\n    resolution: false\n  });\n\n  const handleChange = (field, value) => {\n    if (isLocked) return;\n    setFormData({\n      ...formData,\n      [field]: value\n    });\n  };\n\n  const handleSectionToggle = (sectionId) => {\n    if (isLocked) return;\n    setOpenSections(prev => ({\n      ...prev,\n      [sectionId]: !prev[sectionId]\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLocked) return;\n    \n    // Add current date if not already set\n    const dataToSubmit = {\n      ...formData,\n      date: formData.date || new Date().toLocaleDateString()\n    };\n    \n    onSubmit(dataToSubmit);\n  };\n\n  return (\n    <div className=\"reflection-prompts\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-header\">\n          <h1>Conflict Reflection</h1>\n          <p className=\"form-description\">\n            Reflect on your conflict situation, considering your emotions and needs.\n            Take your time with each section - there are no right or wrong answers.\n          </p>\n          \n          <div className=\"input-group\">\n            <InputField\n              id=\"reflectionName\"\n              label=\"Give your reflection a name\"\n              value={formData.reflectionName || ''}\n              onChange={(e) => handleChange('reflectionName', e.target.value)}\n              placeholder=\"e.g., Work Conflict with Alex\"\n              disabled={isLocked}\n            />\n            \n            <InputField\n              id=\"date\"\n              label=\"Date\"\n              type=\"date\"\n              value={formData.date || ''}\n              onChange={(e) => handleChange('date', e.target.value)}\n              disabled={isLocked}\n            />\n          </div>\n        </div>\n        \n        <CollapsibleSection\n          title=\"Situation Details\"\n          isOpen={openSections.situation}\n          onToggle={() => handleSectionToggle('situation')}\n          disabled={isLocked}\n        >\n          <TextareaField\n            id=\"situation\"\n            label=\"What happened? Describe the conflict situation.\"\n            value={formData.situation || ''}\n            onChange={(e) => handleChange('situation', e.target.value)}\n            placeholder=\"Describe the events that led to this conflict...\"\n            rows={5}\n            disabled={isLocked}\n          />\n        </CollapsibleSection>\n        \n        <CollapsibleSection\n          title=\"Emotional Response\"\n          isOpen={openSections.emotions}\n          onToggle={() => handleSectionToggle('emotions')}\n          disabled={isLocked}\n        >\n          <div className=\"selected-emotions-summary\">\n            <h3>Selected Emotions:</h3>\n            <div className=\"emotions-grid\">\n              {selectedEmotions.map(emotion => (\n                <div key={emotion.name} className=\"emotion-tag\" style={{ backgroundColor: emotion.color }}>\n                  <span className=\"emotion-icon\">{emotion.icon}</span>\n                  <span className=\"emotion-name\">{emotion.name}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n          \n          <TextareaField\n            id=\"emotionalResponse\"\n            label=\"How did these emotions feel in your body? How intense were they?\"\n            value={formData.emotionalResponse || ''}\n            onChange={(e) => handleChange('emotionalResponse', e.target.value)}\n            placeholder=\"Describe your physical and emotional experience...\"\n            rows={4}\n            disabled={isLocked}\n          />\n          \n          <TextareaField\n            id=\"triggers\"\n            label=\"What triggered these emotions? What needs were not being met?\"\n            value={formData.triggers || ''}\n            onChange={(e) => handleChange('triggers', e.target.value)}\n            placeholder=\"Identify what caused these emotions to arise...\"\n            rows={4}\n            disabled={isLocked}\n          />\n        </CollapsibleSection>\n        \n        {needsData && (\n          <div className=\"needs-summary-section\">\n            <h3>Needs Assessment Summary:</h3>\n            {needsData.selectedLevel && (\n              <div className=\"needs-category-summary\">\n                <h4>Primary Need Category: {needsData.selectedLevel.name}</h4>\n                <p>{needsData.selectedLevel.description}</p>\n              </div>\n            )}\n            \n            {needsData.selectedNeeds && needsData.selectedNeeds.length > 0 && (\n              <div className=\"selected-needs\">\n                <h4>Specific Needs:</h4>\n                <div className=\"needs-tags\">\n                  {needsData.selectedNeeds.map(need => (\n                    <div key={need} className=\"need-tag\">\n                      {need}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n        \n        <CollapsibleSection\n          title=\"Perspective Taking\"\n          isOpen={openSections.perspective}\n          onToggle={() => handleSectionToggle('perspective')}\n          disabled={isLocked}\n        >\n          <TextareaField\n            id=\"otherPerspective\"\n            label=\"How might the other person/people have perceived this situation? What needs might they have had?\"\n            value={formData.otherPerspective || ''}\n            onChange={(e) => handleChange('otherPerspective', e.target.value)}\n            placeholder=\"Try to imagine their perspective, feelings, and needs...\"\n            rows={5}\n            disabled={isLocked}\n          />\n        </CollapsibleSection>\n        \n        <CollapsibleSection\n          title=\"Resolution Ideas\"\n          isOpen={openSections.resolution}\n          onToggle={() => handleSectionToggle('resolution')}\n          disabled={isLocked}\n        >\n          <TextareaField\n            id=\"resolutionIdeas\"\n            label=\"What could help resolve this conflict? What actions could address everyone's needs?\"\n            value={formData.resolutionIdeas || ''}\n            onChange={(e) => handleChange('resolutionIdeas', e.target.value)}\n            placeholder=\"Brainstorm possible solutions that could work for all parties...\"\n            rows={5}\n            disabled={isLocked}\n          />\n          \n          <TextareaField\n            id=\"learnings\"\n            label=\"What have you learned from this situation? How might you approach similar situations differently in the future?\"\n            value={formData.learnings || ''}\n            onChange={(e) => handleChange('learnings', e.target.value)}\n            placeholder=\"Reflect on your insights and growth from this experience...\"\n            rows={5}\n            disabled={isLocked}\n          />\n        </CollapsibleSection>\n        \n        {!isLocked && (\n          <div className=\"form-actions\">\n            <button type=\"submit\" className=\"submit-button\">\n              Complete Reflection\n            </button>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default ReflectionPrompts; ","import React from 'react';\n\nconst ProgressTracker = ({ \n  steps, \n  currentStep, \n  onStepClick,\n  disabled = false\n}) => {\n  // Calculate progress percentage\n  const completedSteps = steps.filter(step => step.completed).length;\n  const progressPercentage = (completedSteps / steps.length) * 100;\n\n  return (\n    <div className=\"progress-tracker\">\n      <div className=\"progress-bar-container\">\n        <div \n          className=\"progress-bar\" \n          style={{ width: `${progressPercentage}%` }}\n        ></div>\n      </div>\n      \n      <div className=\"progress-steps\">\n        {steps.map((step, index) => (\n          <button\n            key={step.id}\n            className={`progress-step ${currentStep === index ? 'active' : ''} ${step.completed ? 'completed' : ''}`}\n            onClick={() => !disabled && onStepClick(index)}\n            disabled={disabled}\n            aria-current={currentStep === index ? 'step' : undefined}\n          >\n            <div className=\"step-number\">{index + 1}</div>\n            <div className=\"step-label\">{step.label}</div>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProgressTracker; ","import React, { useState, useRef, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { FullscreenTool } from '../ToolsSection';\nimport EmotionSelector from './EmotionSelector';\nimport ReflectionPrompts from './ReflectionPrompts';\nimport ProgressTracker from './ProgressTracker';\nimport NeedsAssessment from './NeedsAssessment';\nimport './styles/index.scss';\n\n// Emotion Wheel Data - Enhanced with icons and descriptions\nconst emotionWheel = {\n  \"Angry\": {\n    color: \"#FF4D4D\",\n    icon: \"\",\n    description: \"Feeling upset or annoyed because of something unfair or wrong\",\n    subEmotions: [\"Frustrated\", \"Annoyed\", \"Offended\", \"Irritated\", \"Betrayed\"]\n  },\n  \"Sad\": {\n    color: \"#4D79FF\",\n    icon: \"\",\n    description: \"Feeling unhappy or sorrowful about something\",\n    subEmotions: [\"Hurt\", \"Disappointed\", \"Lonely\", \"Guilty\", \"Depressed\"]\n  },\n  \"Scared\": {\n    color: \"#9B4DFF\",\n    icon: \"\",\n    description: \"Feeling afraid or worried about something\",\n    subEmotions: [\"Anxious\", \"Stressed\", \"Overwhelmed\", \"Worried\", \"Shocked\"]\n  },\n  \"Happy\": {\n    color: \"#FFD700\",\n    icon: \"\",\n    description: \"Feeling joy, pleasure, or contentment\",\n    subEmotions: [\"Excited\", \"Grateful\", \"Optimistic\", \"Content\", \"Proud\"]\n  },\n  \"Disgusted\": {\n    color: \"#4DFF4D\",\n    icon: \"\",\n    description: \"Feeling strong disapproval or aversion\",\n    subEmotions: [\"Disapproving\", \"Disappointed\", \"Awful\", \"Repelled\"]\n  },\n  \"Surprised\": {\n    color: \"#FF4DFF\",\n    icon: \"\",\n    description: \"Feeling astonished or taken aback by something unexpected\",\n    subEmotions: [\"Confused\", \"Amazed\", \"Stunned\", \"Startled\"]\n  }\n};\n\n// MIT Emotion Axes Data\nconst emotionAxes = {\n  valence: {\n    label: \"Valence\",\n    description: \"How positive or negative the emotion feels\",\n    min: \"Negative\",\n    max: \"Positive\"\n  },\n  arousal: {\n    label: \"Arousal\",\n    description: \"How energizing or calming the emotion feels\",\n    min: \"Calm\",\n    max: \"Excited\"\n  }\n};\n\n// eslint-disable-next-line no-unused-vars\nconst emotionMapping = {\n  \"Angry\": { valence: -0.8, arousal: 0.8 },\n  \"Frustrated\": { valence: -0.7, arousal: 0.5 },\n  \"Annoyed\": { valence: -0.5, arousal: 0.3 },\n  \"Offended\": { valence: -0.6, arousal: 0.4 },\n  \"Irritated\": { valence: -0.4, arousal: 0.3 },\n  \"Betrayed\": { valence: -0.9, arousal: 0.6 },\n  \n  \"Sad\": { valence: -0.7, arousal: -0.4 },\n  \"Hurt\": { valence: -0.8, arousal: -0.2 },\n  \"Disappointed\": { valence: -0.6, arousal: -0.3 },\n  \"Lonely\": { valence: -0.7, arousal: -0.5 },\n  \"Guilty\": { valence: -0.6, arousal: -0.1 },\n  \"Depressed\": { valence: -0.9, arousal: -0.8 },\n  \n  \"Scared\": { valence: -0.7, arousal: 0.7 },\n  \"Anxious\": { valence: -0.6, arousal: 0.6 },\n  \"Stressed\": { valence: -0.7, arousal: 0.5 },\n  \"Overwhelmed\": { valence: -0.8, arousal: 0.4 },\n  \"Worried\": { valence: -0.5, arousal: 0.3 },\n  \"Shocked\": { valence: -0.4, arousal: 0.9 },\n  \n  \"Happy\": { valence: 0.8, arousal: 0.5 },\n  \"Excited\": { valence: 0.7, arousal: 0.8 },\n  \"Grateful\": { valence: 0.9, arousal: 0.3 },\n  \"Optimistic\": { valence: 0.8, arousal: 0.4 },\n  \"Content\": { valence: 0.7, arousal: -0.2 },\n  \"Proud\": { valence: 0.8, arousal: 0.6 },\n  \n  \"Disgusted\": { valence: -0.6, arousal: 0.2 },\n  \"Disapproving\": { valence: -0.5, arousal: 0.1 },\n  \"Awful\": { valence: -0.8, arousal: 0.3 },\n  \"Repelled\": { valence: -0.7, arousal: 0.4 },\n  \n  \"Surprised\": { valence: 0.1, arousal: 0.8 },\n  \"Confused\": { valence: -0.2, arousal: 0.3 },\n  \"Amazed\": { valence: 0.6, arousal: 0.7 },\n  \"Stunned\": { valence: 0.0, arousal: 0.9 },\n  \"Startled\": { valence: -0.1, arousal: 0.8 }\n};\n\n// Valence-Arousal Circumplex Data\nconst circumplex = {\n  quadrants: [\n    {\n      id: \"high_valence_high_arousal\",\n      position: \"top-right\",\n      name: \"High Valence, High Arousal\",\n      description: \"Positive feelings with high energy\",\n      emotions: [\"Excited\", \"Astonished\", \"Delighted\", \"Happy\", \"Pleased\"],\n      color: \"255, 215, 0\" // Gold\n    },\n    {\n      id: \"low_valence_high_arousal\",\n      position: \"top-left\",\n      name: \"Low Valence, High Arousal\",\n      description: \"Negative feelings with high energy\",\n      emotions: [\"Alarmed\", \"Afraid\", \"Angry\", \"Annoyed\", \"Frustrated\"],\n      color: \"255, 77, 77\" // Red\n    },\n    {\n      id: \"low_valence_low_arousal\",\n      position: \"bottom-left\",\n      name: \"Low Valence, Low Arousal\",\n      description: \"Negative feelings with low energy\",\n      emotions: [\"Miserable\", \"Depressed\", \"Bored\", \"Tired\", \"Sad\"],\n      color: \"77, 121, 255\" // Blue\n    },\n    {\n      id: \"high_valence_low_arousal\",\n      position: \"bottom-right\",\n      name: \"High Valence, Low Arousal\",\n      description: \"Positive feelings with low energy\",\n      emotions: [\"Content\", \"Serene\", \"Calm\", \"Relaxed\", \"Peaceful\"],\n      color: \"77, 255, 77\" // Green\n    }\n  ]\n};\n\n// Emotion Axes Component\nconst EmotionAxes = React.memo(({ \n  emotionAxesValues, \n  onEmotionAxisChange, \n  disabled = false \n}) => {\n  return (\n    <div className=\"emotion-axes-container\">\n      <h3>Emotional States (MIT Research)</h3>\n      <p className=\"emotion-hint\">\n        Select where you fall on each emotional spectrum. These axes represent the dynamic interplay between opposite emotional states.\n      </p>\n      \n      {emotionAxes.map((axis) => (\n        <div key={axis.id} className=\"emotion-axis\">\n          <div className=\"axis-label\">\n            <span>{axis.name}</span>\n          </div>\n          <div \n            className=\"axis-track\"\n            style={{ '--axis-color': axis.color }}\n          >\n            {axis.values.map((value) => (\n              <button\n                key={`${axis.id}_${value.value}`}\n                type=\"button\"\n                className={`axis-point ${emotionAxesValues[axis.id] === value.value ? 'selected' : ''}`}\n                onClick={() => !disabled && onEmotionAxisChange(axis.id, value.value)}\n                disabled={disabled}\n                aria-label={`${value.label} (${value.value})`}\n                aria-pressed={emotionAxesValues[axis.id] === value.value}\n                title={value.label}\n              >\n                <span className=\"axis-tooltip\">{value.label}</span>\n              </button>\n            ))}\n          </div>\n          <div className=\"axis-labels\">\n            <span className=\"negative-label\">{axis.values[0].label}</span>\n            <span className=\"positive-label\">{axis.values[axis.values.length - 1].label}</span>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n});\n\n// Add display name for debugging\nEmotionAxes.displayName = 'EmotionAxes';\n\n// Improved Emotion Wheel Component\nconst EmotionWheel = React.memo(({ onSelectEmotion, selectedEmotions }) => {\n  const [activeMainEmotion, setActiveMainEmotion] = useState(null);\n  \n  // Handle keyboard navigation\n  const handleKeyDown = (e, emotion) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      setActiveMainEmotion(emotion);\n      e.preventDefault();\n    }\n  };\n\n  const handleMainEmotionClick = (emotion) => {\n    setActiveMainEmotion(emotion);\n  };\n\n  return (\n    <div className=\"emotion-wheel-container\">\n      <div className=\"emotion-categories\">\n        {Object.entries(emotionWheel).map(([emotion, { color, icon, description }]) => (\n          <button\n            key={emotion}\n            type=\"button\"\n            className={`emotion-category ${activeMainEmotion === emotion ? 'active' : ''}`}\n            style={{ '--emotion-color': color }}\n            onClick={() => handleMainEmotionClick(emotion)}\n            onKeyDown={(e) => handleKeyDown(e, emotion)}\n            aria-pressed={activeMainEmotion === emotion}\n            aria-label={`${emotion} emotions: ${description}`}\n          >\n            <span className=\"emotion-icon\">{icon}</span>\n            <span className=\"emotion-name\">{emotion}</span>\n          </button>\n        ))}\n      </div>\n      \n      {activeMainEmotion && (\n        <div className=\"sub-emotions\" role=\"group\" aria-label={`${activeMainEmotion} sub-emotions`}>\n          <div className=\"sub-emotions-header\">\n            <h3>{activeMainEmotion} emotions</h3>\n            <p>{emotionWheel[activeMainEmotion].description}</p>\n          </div>\n          <div className=\"sub-emotions-grid\">\n            {emotionWheel[activeMainEmotion].subEmotions.map(subEmotion => (\n              <button\n                key={subEmotion}\n                type=\"button\"\n                className={`sub-emotion ${selectedEmotions.includes(subEmotion) ? 'selected' : ''}`}\n                onClick={() => onSelectEmotion(subEmotion)}\n                aria-pressed={selectedEmotions.includes(subEmotion)}\n                style={{ '--emotion-color': emotionWheel[activeMainEmotion].color }}\n              >\n                {subEmotion}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\n// Add display name for debugging\nEmotionWheel.displayName = 'EmotionWheel';\n\n// Emotion Circumplex Component\nconst EmotionCircumplex = React.memo(({\n  valenceArousalValue,\n  onCircumplexChange,\n  onEmotionSelect,\n  selectedEmotions,\n  disabled = false\n}) => {\n  const [activeQuadrant, setActiveQuadrant] = useState(null);\n\n  // Calculate position from valenceArousalValue [x, y] where x is valence (-1 to 1) and y is arousal (-1 to 1)\n  const pointPosition = valenceArousalValue ? {\n    left: `${((valenceArousalValue[0] + 1) / 2) * 100}%`,\n    top: `${(1 - ((valenceArousalValue[1] + 1) / 2)) * 100}%`\n  } : null;\n\n  // Get quadrant based on valence-arousal values\n  const getQuadrantFromValues = (x, y) => {\n    if (x >= 0 && y >= 0) {\n      return \"high_valence_high_arousal\";\n    }\n    if (x < 0 && y >= 0) {\n      return \"low_valence_high_arousal\";\n    }\n    if (x < 0 && y < 0) {\n      return \"low_valence_low_arousal\";\n    }\n    return \"high_valence_low_arousal\";\n  };\n\n  // Handle click on the circumplex chart\n  const handleCircumplexClick = (e) => {\n    if (disabled) {\n      return;\n    }\n\n    // Get relative position\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = ((e.clientX - rect.left) / rect.width) * 2 - 1; // Scale to -1 to 1\n    const y = 1 - ((e.clientY - rect.top) / rect.height) * 2; // Scale to -1 to 1, invert Y\n\n    // Update values\n    onCircumplexChange([x, y]);\n    \n    // Determine which quadrant was clicked and set it as active\n    const quadrantId = getQuadrantFromValues(x, y);\n    setActiveQuadrant(quadrantId);\n  };\n\n  // Handle clicking on a specific emotion in a quadrant\n  const handleEmotionSelect = (emotion) => {\n    if (disabled) {\n      return;\n    }\n    onEmotionSelect(emotion);\n  };\n\n  // Update active quadrant when valenceArousalValue changes\n  useEffect(() => {\n    if (valenceArousalValue) {\n      const quadrantId = getQuadrantFromValues(\n        valenceArousalValue[0], \n        valenceArousalValue[1]\n      );\n      setActiveQuadrant(quadrantId);\n    }\n  }, [valenceArousalValue]);\n\n  return (\n    <div className=\"emotion-circumplex-container\">\n      <h3>Valence-Arousal Circumplex Chart</h3>\n      <p className=\"emotion-hint\">\n        Click on the chart to indicate how you feel based on pleasure (valence) and energy (arousal) levels\n      </p>\n      \n      <div className=\"circumplex-wrapper\">\n        <div \n          className=\"circumplex-chart\" \n          onClick={handleCircumplexClick}\n          role=\"grid\"\n          aria-label=\"Emotion circumplex chart\"\n        >\n          {/* Axes labels */}\n          <div className=\"axis-label valence-axis\">\n            <span className=\"negative\">Displeasure</span>\n            <span className=\"axis-name\">Valence</span>\n            <span className=\"positive\">Pleasure</span>\n          </div>\n          <div className=\"axis-label arousal-axis\">\n            <span className=\"positive\">High Energy</span>\n            <span className=\"axis-name\">Arousal</span>\n            <span className=\"negative\">Low Energy</span>\n          </div>\n          \n          {/* Quadrant labels */}\n          {circumplex.quadrants.map(quadrant => (\n            <div \n              key={quadrant.id}\n              className={`quadrant-label ${quadrant.position} ${activeQuadrant === quadrant.id ? 'active' : ''}`}\n              style={{ '--quadrant-color': quadrant.color }}\n            >\n              {quadrant.name}\n            </div>\n          ))}\n          \n          {/* Axes lines */}\n          <div className=\"horizontal-axis\"></div>\n          <div className=\"vertical-axis\"></div>\n          \n          {/* Selected point */}\n          {pointPosition && (\n            <div \n              className=\"selected-point\"\n              style={{\n                left: pointPosition.left,\n                top: pointPosition.top,\n                background: `rgba(${circumplex.quadrants.find(q => q.id === activeQuadrant)?.color || '255, 255, 255'}, 0.9)`\n              }}\n            ></div>\n          )}\n        </div>\n      </div>\n      \n      {/* Show emotions for the active quadrant */}\n      {activeQuadrant && (\n        <div className=\"quadrant-emotions\">\n          <h4>{circumplex.quadrants.find(q => q.id === activeQuadrant).name}</h4>\n          <p>{circumplex.quadrants.find(q => q.id === activeQuadrant).description}</p>\n          \n          <div className=\"emotions-grid\">\n            {circumplex.quadrants\n              .find(q => q.id === activeQuadrant)\n              .emotions.map(emotion => (\n                <button\n                  key={emotion}\n                  type=\"button\"\n                  className={`emotion-button quadrant-emotion ${selectedEmotions.includes(emotion) ? 'selected' : ''}`}\n                  onClick={() => handleEmotionSelect(emotion)}\n                  aria-pressed={selectedEmotions.includes(emotion)}\n                  disabled={disabled}\n                  style={{ '--quadrant-color': circumplex.quadrants.find(q => q.id === activeQuadrant).color }}\n                >\n                  {emotion}\n                </button>\n              ))\n            }\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\n// Add display name for debugging\nEmotionCircumplex.displayName = 'EmotionCircumplex';\n\n// Updated EmotionsSection Component\nconst EmotionsSection = React.memo(({ \n  emotions, \n  onToggleEmotion, \n  onAddCustomEmotion,\n  emotionAxesValues,\n  onEmotionAxisChange,\n  valenceArousalValue,\n  onValenceArousalChange,\n  error,\n  touched,\n  disabled = false\n}) => {\n  const [customEmotion, setCustomEmotion] = useState(\"\");\n  const customInputRef = useRef(null);\n  const [activeTab, setActiveTab] = useState(\"wheel\"); // \"wheel\", \"axes\", or \"circumplex\"\n\n  const handleAddCustom = () => {\n    if (customEmotion.trim()) {\n      // Split by commas and add each emotion individually\n      const emotionsToAdd = customEmotion\n        .split(',')\n        .map(e => e.trim())\n        .filter(e => e.length > 0);\n      \n      emotionsToAdd.forEach(emotion => {\n        if (!emotions.includes(emotion)) {\n          onAddCustomEmotion(emotion);\n        }\n      });\n      \n      setCustomEmotion(\"\");\n      if (customInputRef.current) {\n        customInputRef.current.focus();\n      }\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleAddCustom();\n    }\n  };\n\n  const handleInputChange = (e) => {\n    setCustomEmotion(e.target.value);\n  };\n\n  return (\n    <div className={`emotions-section ${error && touched ? 'has-error' : ''}`}>\n      <label>I Feel...</label>\n      <p className=\"emotion-hint\">Select emotions from the options below or add your own. Remember to use descriptive words.</p>\n      \n      <div className=\"emotion-tabs\">\n        <button \n          type=\"button\" \n          className={`tab-button ${activeTab === \"wheel\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"wheel\")}\n          disabled={disabled}\n        >\n          Emotion Wheel\n        </button>\n        <button \n          type=\"button\" \n          className={`tab-button ${activeTab === \"axes\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"axes\")}\n          disabled={disabled}\n        >\n          Emotion Axes (MIT Research)\n        </button>\n        <button \n          type=\"button\" \n          className={`tab-button ${activeTab === \"circumplex\" ? \"active\" : \"\"}`}\n          onClick={() => setActiveTab(\"circumplex\")}\n          disabled={disabled}\n        >\n          Emotion Circumplex\n        </button>\n      </div>\n      \n      <div className=\"tab-content\">\n        {activeTab === \"wheel\" ? (\n          <>\n            <p className=\"emotion-example\">Example: Instead of \"I feel like Bruce doesn't like me\" (which is a belief), use \"Hurt\" or \"Insecure\"</p>\n            \n            <EmotionWheel\n              onSelectEmotion={onToggleEmotion}\n              selectedEmotions={emotions}\n            />\n          </>\n        ) : activeTab === \"axes\" ? (\n          <EmotionAxes \n            emotionAxesValues={emotionAxesValues}\n            onEmotionAxisChange={onEmotionAxisChange}\n            disabled={disabled}\n          />\n        ) : (\n          <EmotionCircumplex\n            valenceArousalValue={valenceArousalValue}\n            onCircumplexChange={onValenceArousalChange}\n            onEmotionSelect={onToggleEmotion}\n            selectedEmotions={emotions}\n            disabled={disabled}\n          />\n        )}\n      </div>\n\n      {emotions.length > 0 && (\n        <div className=\"selected-emotions\">\n          <h3>Selected Emotions: <span className=\"emotion-count\">{emotions.length}</span></h3>\n          <div className=\"emotions-grid\" role=\"list\" aria-label=\"Selected emotions\">\n            {emotions.map((emotion) => (\n              <button\n                key={emotion}\n                type=\"button\"\n                onClick={() => onToggleEmotion(emotion)}\n                className=\"emotion-button selected\"\n                aria-label={`Remove ${emotion}`}\n                role=\"listitem\"\n                disabled={disabled}\n              >\n                {emotion} \n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"custom-emotion\">\n        <input\n          type=\"text\"\n          value={customEmotion}\n          onChange={handleInputChange}\n          onKeyDown={handleKeyDown}\n          placeholder=\"Add custom emotions (separate multiple with commas)\"\n          ref={customInputRef}\n          aria-label=\"Add custom emotion\"\n          disabled={disabled}\n        />\n        <button \n          type=\"button\"\n          onClick={handleAddCustom}\n          aria-label=\"Add custom emotion\"\n          className=\"custom-emotion-button\"\n          disabled={disabled}\n        >\n          Add\n        </button>\n      </div>\n      \n      {error && touched && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n    </div>\n  );\n});\n\n// Add display name for debugging\nEmotionsSection.displayName = 'EmotionsSection';\n\n// Main component\nconst ConflictMediation = () => {\n  const location = useLocation();\n  const isFullscreen = location.pathname.includes('/fullscreen');\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selectedEmotions, setSelectedEmotions] = useState([]);\n  const [formData, setFormData] = useState({});\n  const [isLocked, setIsLocked] = useState(false);\n  const [needsData, setNeedsData] = useState(null);\n  const printRef = useRef(null);\n\n  // Define the steps for the conflict mediation process\n  const steps = [\n    { id: 1, name: 'Emotions', description: 'Identify your emotions' },\n    { id: 2, name: 'Needs', description: 'Assess your needs' },\n    { id: 3, name: 'Reflection', description: 'Reflect on the situation' },\n    { id: 4, name: 'Review', description: 'Review your insights' }\n  ];\n\n  // Load saved data from localStorage\n  useEffect(() => {\n    const savedData = localStorage.getItem('conflictMediationData');\n    if (savedData) {\n      try {\n        const parsedData = JSON.parse(savedData);\n        setSelectedEmotions(parsedData.selectedEmotions || []);\n        setFormData(parsedData.formData || {});\n        setIsLocked(parsedData.isLocked || false);\n        setNeedsData(parsedData.needsData || null);\n        \n        // Set the appropriate step based on saved data\n        if (parsedData.isLocked) {\n          setCurrentStep(4); // Review step\n        } else if (parsedData.formData && Object.keys(parsedData.formData).length > 0) {\n          setCurrentStep(3); // Reflection step\n        } else if (parsedData.needsData) {\n          setCurrentStep(3); // Reflection step\n        } else if (parsedData.selectedEmotions && parsedData.selectedEmotions.length > 0) {\n          setCurrentStep(2); // Needs step\n        }\n      } catch (error) {\n        console.error('Error loading saved data:', error);\n      }\n    }\n  }, []);\n\n  // Save data to localStorage when it changes\n  useEffect(() => {\n    if (selectedEmotions.length > 0 || Object.keys(formData).length > 0 || needsData) {\n      const dataToSave = {\n        selectedEmotions,\n        formData,\n        isLocked,\n        needsData\n      };\n      localStorage.setItem('conflictMediationData', JSON.stringify(dataToSave));\n    }\n  }, [selectedEmotions, formData, isLocked, needsData]);\n\n  // Handle emotion selection\n  const handleEmotionSelect = (emotions) => {\n    setSelectedEmotions(emotions);\n  };\n\n  // Handle needs assessment submission\n  const handleNeedsSelected = (data) => {\n    setNeedsData(data);\n    setCurrentStep(3); // Move to the next step after needs assessment\n  };\n\n  // Handle form submission\n  const handleSubmit = (data) => {\n    setFormData(data);\n    setIsLocked(true);\n    setCurrentStep(4); // Move to review step\n  };\n\n  // Handle step navigation\n  const handleStepClick = (stepId) => {\n    if (!isLocked || stepId <= 4) {\n      setCurrentStep(stepId);\n    }\n  };\n\n  // Handle reset\n  const handleReset = () => {\n    if (window.confirm('Are you sure you want to start a new reflection? This will clear all current data.')) {\n      setSelectedEmotions([]);\n      setFormData({});\n      setIsLocked(false);\n      setNeedsData(null);\n      setCurrentStep(1);\n      localStorage.removeItem('conflictMediationData');\n    }\n  };\n\n  // Handle print\n  const handlePrint = () => {\n    window.print();\n  };\n\n  // Render the appropriate step content\n  const renderStepContent = () => {\n    switch (currentStep) {\n      case 1:\n        return (\n          <EmotionSelector\n            selectedEmotions={selectedEmotions}\n            onEmotionSelect={handleEmotionSelect}\n            onContinue={() => setCurrentStep(2)}\n            emotionWheel={emotionWheel}\n            isLocked={isLocked}\n          />\n        );\n      case 2:\n        return (\n          <NeedsAssessment \n            onNeedsSelected={handleNeedsSelected}\n          />\n        );\n      case 3:\n        return (\n          <ReflectionPrompts\n            selectedEmotions={selectedEmotions}\n            formData={formData}\n            setFormData={setFormData}\n            onSubmit={handleSubmit}\n            isLocked={isLocked}\n            needsData={needsData}\n          />\n        );\n      case 4:\n        return (\n          <div className=\"view-mode\">\n            <div className=\"submission-container\" ref={printRef}>\n              <div className=\"submission-header\">\n                <h1>Conflict Reflection</h1>\n                <div className=\"reflection-name\">{formData.reflectionName || 'Untitled Reflection'}</div>\n                <div className=\"reflection-date\">{formData.date || new Date().toLocaleDateString()}</div>\n              </div>\n              \n              <div className=\"data-section\">\n                <h2>Emotions Identified</h2>\n                <div className=\"emotions-grid\">\n                  {selectedEmotions.map(emotion => (\n                    <div key={emotion.name} className=\"emotion-tag\" style={{ backgroundColor: emotion.color }}>\n                      <span className=\"emotion-icon\">{emotion.icon}</span>\n                      <span className=\"emotion-name\">{emotion.name}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              \n              {needsData && (\n                <div className=\"data-section\">\n                  <h2>Needs Assessment</h2>\n                  {needsData.selectedLevel && (\n                    <div className=\"needs-summary\">\n                      <h3>Primary Need Category: {needsData.selectedLevel.name}</h3>\n                      <p>{needsData.selectedLevel.description}</p>\n                    </div>\n                  )}\n                  \n                  {needsData.selectedNeeds && needsData.selectedNeeds.length > 0 && (\n                    <div className=\"needs-list-summary\">\n                      <h3>Specific Needs Identified:</h3>\n                      <div className=\"needs-tags\">\n                        {needsData.selectedNeeds.map(need => (\n                          <div key={need} className=\"need-tag\">\n                            {need}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                  \n                  {needsData.needsText && (\n                    <div className=\"custom-needs-summary\">\n                      <h3>Additional Needs:</h3>\n                      <p>{needsData.needsText}</p>\n                    </div>\n                  )}\n                </div>\n              )}\n              \n              <div className=\"data-section\">\n                <h2>Situation Details</h2>\n                <div className=\"reflection-field\">\n                  <h3>What happened?</h3>\n                  <p>{formData.situation || 'No details provided'}</p>\n                </div>\n              </div>\n              \n              <div className=\"data-section\">\n                <h2>Emotional Response</h2>\n                <div className=\"reflection-field\">\n                  <h3>How did you feel?</h3>\n                  <p>{formData.emotionalResponse || 'No details provided'}</p>\n                </div>\n                <div className=\"reflection-field\">\n                  <h3>What triggered these emotions?</h3>\n                  <p>{formData.triggers || 'No details provided'}</p>\n                </div>\n              </div>\n              \n              <div className=\"data-section\">\n                <h2>Perspective Taking</h2>\n                <div className=\"reflection-field\">\n                  <h3>How might others have perceived the situation?</h3>\n                  <p>{formData.otherPerspective || 'No details provided'}</p>\n                </div>\n              </div>\n              \n              <div className=\"data-section\">\n                <h2>Resolution Ideas</h2>\n                <div className=\"reflection-field\">\n                  <h3>What could help resolve this conflict?</h3>\n                  <p>{formData.resolutionIdeas || 'No details provided'}</p>\n                </div>\n              </div>\n              \n              <div className=\"data-section\">\n                <h2>Learning & Growth</h2>\n                <div className=\"reflection-field\">\n                  <h3>What have you learned from this situation?</h3>\n                  <p>{formData.learnings || 'No details provided'}</p>\n                </div>\n              </div>\n              \n              <div className=\"action-buttons\">\n                <button className=\"reset-button\" onClick={handleReset}>\n                  Start New Reflection\n                </button>\n                <button className=\"print-button\" onClick={handlePrint}>\n                  Print Reflection\n                </button>\n              </div>\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <FullscreenTool isFullscreen={isFullscreen} title=\"Conflict Mediation\">\n      <div className=\"conflict-mediation-container\">\n        <ProgressTracker \n          steps={steps} \n          currentStep={currentStep} \n          onStepClick={handleStepClick}\n          isLocked={isLocked}\n        />\n        <div className=\"content-container\">\n          {renderStepContent()}\n        </div>\n      </div>\n    </FullscreenTool>\n  );\n};\n\nexport default ConflictMediation; ","import React, { memo, useState } from \"react\";\nimport styled from \"styled-components\";\n\n// Constants\nconst MASLOW_LEVELS = [\n\t{\n\t\tname: \"Physiological\",\n\t\temoji: \"\",\n\t\tdescription: \"Basic needs like food, water, shelter\",\n\t\tcolor: \"#FF5722\",\n\t\tbgColor: \"var(--color-grey-dark-3)\",\n\t\thoverBgColor: \"var(--color-grey-dark-4)\",\n\t},\n\t{\n\t\tname: \"Safety\",\n\t\temoji: \"\",\n\t\tdescription: \"Security, safety, stability\",\n\t\tcolor: \"#2196F3\",\n\t\tbgColor: \"var(--color-grey-dark-3)\",\n\t\thoverBgColor: \"var(--color-grey-dark-4)\",\n\t},\n\t{\n\t\tname: \"Love/Belonging\",\n\t\temoji: \"\",\n\t\tdescription: \"Relationships, connection\",\n\t\tcolor: \"#E91E63\",\n\t\tbgColor: \"var(--color-grey-dark-3)\",\n\t\thoverBgColor: \"var(--color-grey-dark-4)\",\n\t},\n\t{\n\t\tname: \"Esteem\",\n\t\temoji: \"\",\n\t\tdescription: \"Respect, recognition, status\",\n\t\tcolor: \"#FFC107\",\n\t\tbgColor: \"var(--color-grey-dark-3)\",\n\t\thoverBgColor: \"var(--color-grey-dark-4)\",\n\t},\n\t{\n\t\tname: \"Self-Actualization\",\n\t\temoji: \"\",\n\t\tdescription: \"Growth, fulfillment, creativity\",\n\t\tcolor: \"#4CAF50\",\n\t\tbgColor: \"var(--color-grey-dark-3)\",\n\t\thoverBgColor: \"var(--color-grey-dark-4)\",\n\t},\n];\n\nconst EMOTIONS = [\n\t\"Happy\", \"Sad\", \"Angry\", \"Anxious\", \"Calm\", \"Excited\", \n\t\"Frustrated\", \"Content\", \"Overwhelmed\", \"Grateful\"\n];\n\n// Styled Components\nconst NeedsContainer = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 2rem;\n\tbackground: var(--color-grey-dark-2);\n\tborder-radius: var(--border-radius-lg);\n\tbox-shadow: var(--shadow-md);\n\toverflow: auto;\n`;\n\nconst Title = styled.h1`\n\tfont-size: 2rem;\n\tfont-weight: bold;\n\tcolor: var(--color-text);\n\tmargin-bottom: 2rem;\n\ttext-align: center;\n`;\n\nconst SectionTitle = styled.h2`\n\tfont-size: 1.2rem;\n\tfont-weight: 600;\n\tcolor: var(--color-text);\n\tmargin-bottom: 1rem;\n\twidth: 100%;\n\tmax-width: 600px;\n`;\n\nconst ContentSection = styled.div`\n\twidth: 100%;\n\tmax-width: 600px;\n\tmargin-bottom: 2rem;\n`;\n\nconst LevelsList = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n`;\n\nconst LevelItem = styled.button`\n\twidth: 100%;\n\tpadding: 1rem;\n\tbackground: ${({ $active, $bgColor }) => $active ? $bgColor : $bgColor};\n\tborder-radius: var(--border-radius-sm);\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\tborder: 2px solid ${({ $active, $color }) => $active ? $color : \"transparent\"};\n\ttext-align: left;\n\n\t&:hover {\n\t\tbackground: ${({ $hoverBgColor }) => $hoverBgColor};\n\t\ttransform: translateY(-2px);\n\t}\n`;\n\nconst LevelHeader = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n\tmargin-bottom: 0.25rem;\n`;\n\nconst LevelName = styled.span`\n\tfont-weight: bold;\n\tcolor: ${({ $color }) => $color};\n`;\n\nconst LevelDescription = styled.div`\n\tcolor: var(--color-text);\n\tfont-size: 0.9rem;\n`;\n\nconst EmotionsGrid = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgap: 0.5rem;\n\twidth: 100%;\n`;\n\nconst EmotionButton = styled.button`\n\tpadding: 0.75rem;\n\tbackground: ${({ $active }) => $active ? \"var(--color-primary)\" : \"var(--color-grey-dark-3)\"};\n\tcolor: ${({ $active }) => $active ? \"white\" : \"var(--color-text)\"};\n\tborder-radius: var(--border-radius-sm);\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\tborder: none;\n\n\t&:hover {\n\t\ttransform: translateY(-2px);\n\t\tbackground: ${({ $active }) => $active ? \"var(--color-primary)\" : \"var(--color-grey-dark-4)\"};\n\t}\n`;\n\nconst NotesTextarea = styled.textarea`\n\twidth: 100%;\n\tpadding: 1rem;\n\tbackground: var(--color-grey-dark-3);\n\tborder: 1px solid var(--color-grey-dark-4);\n\tborder-radius: var(--border-radius-sm);\n\tcolor: var(--color-text);\n\tresize: vertical;\n\tmin-height: 100px;\n\tmargin-bottom: 1rem;\n\n\t&:focus {\n\t\toutline: none;\n\t\tborder-color: var(--color-primary);\n\t}\n`;\n\nconst SubmitButton = styled.button`\n\twidth: 100%;\n\tpadding: 1rem;\n\tbackground: var(--color-primary);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: var(--border-radius-sm);\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\n\t&:hover {\n\t\ttransform: translateY(-2px);\n\t\tbackground: var(--color-primary-dark);\n\t}\n\n\t&:disabled {\n\t\tbackground: var(--color-grey-dark-3);\n\t\tcursor: not-allowed;\n\t\ttransform: none;\n\t}\n`;\n\n// Needs Content Component\nconst NeedsContent = memo(({ isFullscreen }) => {\n\tconst [selectedLevel, setSelectedLevel] = useState(null);\n\tconst [selectedEmotion, setSelectedEmotion] = useState(\"\");\n\tconst [notes, setNotes] = useState(\"\");\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (selectedLevel && selectedEmotion) {\n\t\t\talert(`Check-in saved!\\nLevel: ${selectedLevel.name}\\nEmotion: ${selectedEmotion}\\nNotes: ${notes}`);\n\t\t\tsetSelectedLevel(null);\n\t\t\tsetSelectedEmotion(\"\");\n\t\t\tsetNotes(\"\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<NeedsContainer>\n\t\t\t<Title>Daily Maslow Check-In</Title>\n\n\t\t\t<ContentSection>\n\t\t\t\t<SectionTitle>Select Level</SectionTitle>\n\t\t\t\t<LevelsList>\n\t\t\t\t\t{MASLOW_LEVELS.map((level) => (\n\t\t\t\t\t\t<LevelItem\n\t\t\t\t\t\t\tkey={level.name}\n\t\t\t\t\t\t\t$active={selectedLevel === level}\n\t\t\t\t\t\t\t$color={level.color}\n\t\t\t\t\t\t\t$bgColor={level.bgColor}\n\t\t\t\t\t\t\t$hoverBgColor={level.hoverBgColor}\n\t\t\t\t\t\t\tonClick={() => setSelectedLevel(level)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<LevelHeader>\n\t\t\t\t\t\t\t\t<span>{level.emoji}</span>\n\t\t\t\t\t\t\t\t<LevelName $color={level.color}>{level.name}</LevelName>\n\t\t\t\t\t\t\t</LevelHeader>\n\t\t\t\t\t\t\t<LevelDescription>{level.description}</LevelDescription>\n\t\t\t\t\t\t</LevelItem>\n\t\t\t\t\t))}\n\t\t\t\t</LevelsList>\n\t\t\t</ContentSection>\n\n\t\t\t{selectedLevel && (\n\t\t\t\t<ContentSection>\n\t\t\t\t\t<SectionTitle>How do you feel?</SectionTitle>\n\t\t\t\t\t<EmotionsGrid>\n\t\t\t\t\t\t{EMOTIONS.map((emotion) => (\n\t\t\t\t\t\t\t<EmotionButton\n\t\t\t\t\t\t\t\tkey={emotion}\n\t\t\t\t\t\t\t\t$active={selectedEmotion === emotion}\n\t\t\t\t\t\t\t\tonClick={() => setSelectedEmotion(emotion)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{emotion}\n\t\t\t\t\t\t\t</EmotionButton>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</EmotionsGrid>\n\t\t\t\t</ContentSection>\n\t\t\t)}\n\n\t\t\t{selectedLevel && selectedEmotion && (\n\t\t\t\t<ContentSection>\n\t\t\t\t\t<SectionTitle>Additional Notes</SectionTitle>\n\t\t\t\t\t<NotesTextarea\n\t\t\t\t\t\tvalue={notes}\n\t\t\t\t\t\tonChange={(e) => setNotes(e.target.value)}\n\t\t\t\t\t\tplaceholder=\"Any thoughts or reflections...\"\n\t\t\t\t\t/>\n\t\t\t\t</ContentSection>\n\t\t\t)}\n\n\t\t\t<ContentSection>\n\t\t\t\t<SubmitButton\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tdisabled={!selectedLevel || !selectedEmotion}\n\t\t\t\t>\n\t\t\t\t\tSave Check-In\n\t\t\t\t</SubmitButton>\n\t\t\t</ContentSection>\n\t\t</NeedsContainer>\n\t);\n});\n\nNeedsContent.displayName = \"NeedsContent\";\n\n// Main component\nconst NeedsAssessment = ({ onNeedsSelected }) => {\n\tconst [selectedNeeds, setSelectedNeeds] = useState([]);\n\tconst [selectedLevel, setSelectedLevel] = useState(null);\n\tconst [needsText, setNeedsText] = useState(\"\");\n\n\tconst handleLevelClick = (level) => {\n\t\tsetSelectedLevel(level);\n\t};\n\n\tconst handleNeedClick = (need) => {\n\t\tif (selectedNeeds.includes(need)) {\n\t\t\tsetSelectedNeeds(selectedNeeds.filter((n) => n !== need));\n\t\t} else {\n\t\t\tsetSelectedNeeds([...selectedNeeds, need]);\n\t\t}\n\t};\n\n\tconst handleTextChange = (e) => {\n\t\tsetNeedsText(e.target.value);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\t\n\t\t// If onNeedsSelected is provided, call it with the selected needs\n\t\tif (onNeedsSelected) {\n\t\t\tonNeedsSelected({\n\t\t\t\tselectedNeeds,\n\t\t\t\tselectedLevel,\n\t\t\t\tneedsText\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"needs-assessment\">\n\t\t\t<h2>Needs Assessment</h2>\n\t\t\t<p className=\"needs-description\">\n\t\t\t\tUnderstanding your needs is essential for effective conflict resolution. \n\t\t\t\tIdentify which needs are most important to you in this situation.\n\t\t\t</p>\n\n\t\t\t<div className=\"needs-categories\">\n\t\t\t\t{MASLOW_LEVELS.map((level) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={level.name}\n\t\t\t\t\t\tclassName={`needs-category ${\n\t\t\t\t\t\t\tselectedLevel === level ? \"selected\" : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tonClick={() => handleLevelClick(level)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"category-header\">\n\t\t\t\t\t\t\t<span className=\"category-emoji\">{level.emoji}</span>\n\t\t\t\t\t\t\t<h3>{level.name}</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{level.description}</p>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t{selectedLevel && (\n\t\t\t\t<div className=\"needs-list\">\n\t\t\t\t\t<h3>\n\t\t\t\t\t\tSelect specific needs related to {selectedLevel.name}:\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"needs-grid\">\n\t\t\t\t\t\t{getNeedsForLevel(selectedLevel.name).map((need) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={need}\n\t\t\t\t\t\t\t\tclassName={`need-item ${\n\t\t\t\t\t\t\t\t\tselectedNeeds.includes(need) ? \"selected\" : \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tonClick={() => handleNeedClick(need)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{need}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"custom-needs\">\n\t\t\t\t<h3>Other needs not listed:</h3>\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={needsText}\n\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\tplaceholder=\"Describe any other needs you have in this situation...\"\n\t\t\t\t\trows={4}\n\t\t\t\t></textarea>\n\t\t\t</div>\n\n\t\t\t<button className=\"submit-button\" onClick={handleSubmit}>\n\t\t\t\tSave Needs Assessment\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\n// Helper function to get needs for a specific level\nconst getNeedsForLevel = (level) => {\n\tswitch (level) {\n\t\tcase \"Physiological\":\n\t\t\treturn [\n\t\t\t\t\"Food\",\n\t\t\t\t\"Water\",\n\t\t\t\t\"Shelter\",\n\t\t\t\t\"Sleep\",\n\t\t\t\t\"Health\",\n\t\t\t\t\"Rest\",\n\t\t\t\t\"Exercise\",\n\t\t\t\t\"Comfort\",\n\t\t\t];\n\t\tcase \"Safety\":\n\t\t\treturn [\n\t\t\t\t\"Security\",\n\t\t\t\t\"Stability\",\n\t\t\t\t\"Freedom from fear\",\n\t\t\t\t\"Order\",\n\t\t\t\t\"Predictability\",\n\t\t\t\t\"Protection\",\n\t\t\t\t\"Financial security\",\n\t\t\t\t\"Health and wellbeing\",\n\t\t\t];\n\t\tcase \"Love/Belonging\":\n\t\t\treturn [\n\t\t\t\t\"Friendship\",\n\t\t\t\t\"Family\",\n\t\t\t\t\"Intimacy\",\n\t\t\t\t\"Connection\",\n\t\t\t\t\"Acceptance\",\n\t\t\t\t\"Being part of a group\",\n\t\t\t\t\"Giving and receiving love\",\n\t\t\t\t\"Communication\",\n\t\t\t];\n\t\tcase \"Esteem\":\n\t\t\treturn [\n\t\t\t\t\"Respect\",\n\t\t\t\t\"Recognition\",\n\t\t\t\t\"Status\",\n\t\t\t\t\"Strength\",\n\t\t\t\t\"Freedom\",\n\t\t\t\t\"Reputation\",\n\t\t\t\t\"Attention\",\n\t\t\t\t\"Appreciation\",\n\t\t\t\t\"Importance\",\n\t\t\t];\n\t\tcase \"Self-Actualization\":\n\t\t\treturn [\n\t\t\t\t\"Growth\",\n\t\t\t\t\"Creativity\",\n\t\t\t\t\"Fulfillment\",\n\t\t\t\t\"Meaning\",\n\t\t\t\t\"Purpose\",\n\t\t\t\t\"Self-development\",\n\t\t\t\t\"Challenge\",\n\t\t\t\t\"Achievement\",\n\t\t\t\t\"Mastery\",\n\t\t\t];\n\t\tdefault:\n\t\t\treturn [];\n\t}\n};\n\nexport default memo(NeedsAssessment);\n","import ConflictMediation from './ConflictMediation';\nimport NeedsAssessment from './NeedsAssessment';\n\nexport { NeedsAssessment };\nexport default ConflictMediation; ","import React, { useEffect, useRef, memo } from \"react\";\n\nconst GameBoard = memo(({ \n  onCanvasReady, \n  width, \n  height, \n  className \n}) => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    if (canvasRef.current) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      \n      // Set canvas dimensions\n      canvas.width = width;\n      canvas.height = height;\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, width, height);\n      \n      // Notify parent component that canvas is ready\n      onCanvasReady(canvas, ctx);\n    }\n  }, [width, height, onCanvasReady]);\n\n  return (\n    <canvas \n      ref={canvasRef} \n      className={className}\n      style={{ \n        width: `${width}px`, \n        height: `${height}px` \n      }}\n    />\n  );\n});\n\nGameBoard.displayName = 'GameBoard';\n\nexport default GameBoard; ","import React, { memo } from \"react\";\n\nconst Controls = memo(({ onDirectionChange, isMobile }) => {\n  if (!isMobile) {\n    return null; // Only show controls on mobile\n  }\n\n  const handleButtonPress = (direction) => {\n    onDirectionChange(direction);\n  };\n\n  return (\n    <div className=\"controls\">\n      <div className=\"control-row\">\n        <button \n          onClick={() => handleButtonPress('up')}\n          aria-label=\"Move Up\"\n        >\n          \n        </button>\n      </div>\n      <div className=\"control-row\">\n        <button \n          onClick={() => handleButtonPress('left')}\n          aria-label=\"Move Left\"\n        >\n          \n        </button>\n        <button \n          onClick={() => handleButtonPress('down')}\n          aria-label=\"Move Down\"\n        >\n          \n        </button>\n        <button \n          onClick={() => handleButtonPress('right')}\n          aria-label=\"Move Right\"\n        >\n          \n        </button>\n      </div>\n    </div>\n  );\n});\n\nControls.displayName = 'Controls';\n\nexport default Controls; ","import React, { useEffect, useRef, useState, useCallback, memo } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport * as Tone from \"tone\";\nimport profile1 from \"../../../assets/images/profile1-nbg.png\";\nimport GameBoard from \"./GameBoard\";\nimport Controls from \"./Controls\";\nimport \"./styles/index.scss\";\n\n// Import from ToolsSection (will be updated later in the refactoring)\nimport { FullscreenTool } from \"../ToolsSection\";\n\n// Import Press Start 2P font\nconst fontLink = document.createElement(\"link\");\nfontLink.rel = \"stylesheet\";\nfontLink.href = \"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap\";\ndocument.head.appendChild(fontLink);\n\n// Theme configuration\nconst THEME = {\n\tcolors: {\n\t\tbackground: \"rgba(10, 10, 15, 0.8)\",\n\t\tsnake: {\n\t\t\tgradient: [\"#7AA2F7\", \"#7DCFFF\", \"#2AC3DE\"],\n\t\t\tglow: \"#7AA2F7\",\n\t\t},\n\t\tsnakeHead: {\n\t\t\tgradient: [\"#BB9AF7\", \"#9D7CD8\"],\n\t\t\tglow: \"#BB9AF7\",\n\t\t},\n\t\tfood: {\n\t\t\tgradient: [\"#F7768E\", \"#FF9E64\"],\n\t\t\tglow: \"#F7768E\",\n\t\t},\n\t\tborder: \"#24283B\",\n\t\tgridLines: \"rgba(255, 255, 255, 0.05)\",\n\t\ttext: \"#A9B1D6\",\n\t\tgameOver: \"#F7768E\",\n\t\tscoreBackground: \"rgba(26, 27, 38, 0.9)\",\n\t\thighScore: \"#9ECE6A\",\n\t},\n\tdimensions: {\n\t\tminTileSize: 15,\n\t\tmaxTileSize: 30,\n\t\tborderRadius: 4,\n\t\tgridLineWidth: 1,\n\t\tshadowBlur: 20,\n\t\tglowRadius: 30,\n\t},\n\tanimations: {\n\t\tsnakeSpeed: {\n\t\t\tmobile: 120,\n\t\t\tdesktop: 100,\n\t\t},\n\t\tfadeSpeed: 400,\n\t\tgrowthFactor: 1.15,\n\t\tfoodPulseSpeed: 1800,\n\t\tfoodPulseScale: 1.18,\n\t\tsnakeGlowIntensity: 0.8,\n\t\tshadowPulseSpeed: 200,\n\t\tparticleCount: 10,\n\t\tparticleLifetime: 1000,\n\t\tparticleSpeed: 2,\n\t},\n};\n\n// Game configuration\nconst GAME_CONFIG = {\n\tgridSize: 20,\n\tinitialSnakeLength: 3,\n\tgrowthRate: 1,\n\tmaxHighScores: 5,\n\tcontrols: {\n\t\tup: [\"ArrowUp\", \"w\", \"W\"],\n\t\tdown: [\"ArrowDown\", \"s\", \"S\"],\n\t\tleft: [\"ArrowLeft\", \"a\", \"A\"],\n\t\tright: [\"ArrowRight\", \"d\", \"D\"],\n\t\tpause: [\"Space\", \"p\", \"P\"],\n\t\trestart: [\"r\", \"R\"],\n\t},\n\ttouch: {\n\t\tminDistance: 20,\n\t\tmaxTime: 400,\n\t\tmobileBreakpoint: 768,\n\t\tresizeDebounce: 250,\n\t},\n};\n\n// Sound configuration\nconst SOUND_CONFIG = {\n\tvolumes: {\n\t\tfood: -10,\n\t\tgameOver: -15,\n\t\tmove: -20,\n\t\tmuted: Number.NEGATIVE_INFINITY,\n\t},\n\tnotes: {\n\t\tfood: \"C5\",\n\t\tgameOver: [\"C4\", \"G3\", \"E3\", \"C3\"],\n\t\tmove: \"G4\",\n\t},\n};\n\n// Helper functions\nconst getCanvasSize = (containerWidth, containerHeight) => {\n\tconst { minTileSize, maxTileSize } = THEME.dimensions;\n\tconst { gridSize } = GAME_CONFIG;\n\tconst maxPossibleCellSize = Math.min(\n\t\tMath.floor(containerWidth / gridSize),\n\t\tMath.floor(containerHeight / gridSize),\n\t);\n\tconst cellSize = Math.max(\n\t\tminTileSize,\n\t\tMath.min(maxPossibleCellSize, maxTileSize),\n\t);\n\treturn {\n\t\twidth: cellSize * gridSize,\n\t\theight: cellSize * gridSize,\n\t\tcellSize: cellSize,\n\t};\n};\n\n// Styled components\nconst GameContainer = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: relative;\n\toverflow: hidden;\n\tbackground: ${THEME.colors.background};\n\tborder-radius: 8px;\n\tbox-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n`;\n\nconst ScoreDisplay = styled.div`\n\tposition: absolute;\n\ttop: 20px;\n\tright: 20px;\n\tbackground: ${THEME.colors.scoreBackground};\n\tpadding: 10px 15px;\n\tborder-radius: 8px;\n\tfont-family: \"Press Start 2P\", cursive;\n\tfont-size: 12px;\n\tz-index: 5;\n`;\n\nconst CurrentScore = styled.div`\n\tcolor: ${THEME.colors.text};\n\tmargin-bottom: 5px;\n`;\n\nconst HighScore = styled.div`\n\tcolor: ${THEME.colors.highScore};\n`;\n\nconst GameOverlay = styled.div`\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: rgba(0, 0, 0, 0.7);\n\tz-index: 10;\n\topacity: ${(props) => (props.visible ? 1 : 0)};\n\tpointer-events: ${(props) => (props.visible ? \"auto\" : \"none\")};\n\ttransition: opacity ${THEME.animations.fadeSpeed}ms ease;\n`;\n\nconst GameOverText = styled.h2`\n\tfont-family: \"Press Start 2P\", cursive;\n\tcolor: ${THEME.colors.gameOver};\n\tmargin-bottom: 20px;\n\ttext-align: center;\n`;\n\nconst RestartButton = styled.button`\n\tfont-family: \"Press Start 2P\", cursive;\n\tpadding: 12px 24px;\n\tbackground: ${THEME.colors.snake.gradient[0]};\n\tborder: none;\n\tborder-radius: 8px;\n\tcolor: #1A1B26;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\n\t&:hover {\n\t\tbackground: ${THEME.colors.snake.gradient[1]};\n\t}\n\n\t&:active {\n\t\ttransform: scale(0.95);\n\t}\n`;\n\nconst MuteButton = styled.div`\n\tposition: absolute;\n\tbottom: 20px;\n\tright: 20px;\n\twidth: 40px;\n\theight: 40px;\n\tbackground: ${THEME.colors.scoreBackground};\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tz-index: 5;\n`;\n\n// Sound Manager\nclass SoundManager {\n\tconstructor() {\n\t\tthis.foodSynth = new Tone.Synth({\n\t\t\toscillator: { type: \"sine\" },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.1,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t}).toDestination();\n\n\t\tthis.gameOverSynth = new Tone.PolySynth(Tone.Synth, {\n\t\t\toscillator: { type: \"triangle\" },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.3,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.1,\n\t\t\t},\n\t\t}).toDestination();\n\n\t\tthis.moveSynth = new Tone.Synth({\n\t\t\toscillator: { type: \"square\" },\n\t\t\tenvelope: {\n\t\t\t\tattack: 0.01,\n\t\t\t\tdecay: 0.05,\n\t\t\t\tsustain: 0,\n\t\t\t\trelease: 0.05,\n\t\t\t},\n\t\t}).toDestination();\n\n\t\tthis.feedbackDelay = new Tone.FeedbackDelay(\"8n\", 0.5).toDestination();\n\t\tthis.gameOverSynth.connect(this.feedbackDelay);\n\t\tthis.setInitialVolumes();\n\t}\n\n\tsetInitialVolumes() {\n\t\tthis.foodSynth.volume.value = SOUND_CONFIG.volumes.food;\n\t\tthis.gameOverSynth.volume.value = SOUND_CONFIG.volumes.gameOver;\n\t\tthis.moveSynth.volume.value = SOUND_CONFIG.volumes.move;\n\t}\n\n\tasync initialize() {\n\t\tif (Tone.context.state !== \"running\") {\n\t\t\ttry {\n\t\t\t\tawait Tone.start();\n\t\t\t\tthis.setInitialVolumes();\n\t\t\t\tconsole.log(\"Audio context started\");\n\t\t\t} catch (error) {\n\t\t\t\tconsole.warn(\"Could not start audio context:\", error);\n\t\t\t}\n\t\t}\n\t}\n\n\tplayFoodCollect() {\n\t\tthis.foodSynth.triggerAttackRelease(SOUND_CONFIG.notes.food, \"16n\");\n\t}\n\n\tplayGameOver() {\n\t\tconst now = Tone.now();\n\t\tthis.gameOverSynth.triggerAttackRelease(\n\t\t\tSOUND_CONFIG.notes.gameOver,\n\t\t\t\"8n\",\n\t\t\tnow,\n\t\t);\n\t}\n\n\tplayMove() {\n\t\tthis.moveSynth.triggerAttackRelease(SOUND_CONFIG.notes.move, \"32n\");\n\t}\n\n\tsetMuted(muted) {\n\t\tconst volume = muted\n\t\t\t? SOUND_CONFIG.volumes.muted\n\t\t\t: SOUND_CONFIG.volumes.food;\n\t\tthis.foodSynth.volume.value = volume;\n\t\tthis.gameOverSynth.volume.value = volume;\n\t\tthis.moveSynth.volume.value = volume;\n\t}\n\n\tcleanup() {\n\t\t// Dispose of Tone.js resources\n\t\tif (this.foodSynth) {\n\t\t\tthis.foodSynth.dispose();\n\t\t}\n\t\tif (this.gameOverSynth) {\n\t\t\tthis.gameOverSynth.dispose();\n\t\t}\n\t\tif (this.moveSynth) {\n\t\t\tthis.moveSynth.dispose();\n\t\t}\n\t\tif (this.feedbackDelay) {\n\t\t\tthis.feedbackDelay.dispose();\n\t\t}\n\t}\n}\n\nconst soundManager = new SoundManager();\n\n// Direction utility\nconst DirectionUtil = {\n\tUP: { x: 0, y: -1 },\n\tDOWN: { x: 0, y: 1 },\n\tLEFT: { x: -1, y: 0 },\n\tRIGHT: { x: 1, y: 0 },\n\n\tisOpposite(dir1, dir2) {\n\t\treturn dir1.x === -dir2.x && dir1.y === -dir2.y;\n\t},\n\n\tgetDirectionFromKey(key) {\n\t\tconst directions = {\n\t\t\tArrowUp: this.UP,\n\t\t\tArrowDown: this.DOWN,\n\t\t\tArrowLeft: this.LEFT,\n\t\t\tArrowRight: this.RIGHT,\n\t\t\tw: this.UP,\n\t\t\ts: this.DOWN,\n\t\t\ta: this.LEFT,\n\t\t\td: this.RIGHT,\n\t\t};\n\t\treturn directions[key];\n\t},\n\n\tgetDirectionFromAngle(angle) {\n\t\tconst directions = [this.RIGHT, this.DOWN, this.LEFT, this.UP];\n\t\tconst index = Math.round(angle / (Math.PI / 2));\n\t\treturn directions[(index + 4) % 4];\n\t},\n};\n\n// Drawing utility\nclass DrawingUtil {\n\tconstructor(ctx) {\n\t\tthis.ctx = ctx;\n\t}\n\n\twithShadow(color, blur, callback) {\n\t\tthis.ctx.save();\n\t\tthis.ctx.shadowColor = color;\n\t\tthis.ctx.shadowBlur = blur;\n\t\tcallback();\n\t\tthis.ctx.restore();\n\t}\n\n\tdrawRect(x, y, width, height, options = {}) {\n\t\tconst { fillStyle, shadowColor, shadowBlur, glow } = options;\n\n\t\tthis.ctx.save();\n\t\tif (fillStyle) {\n    this.ctx.fillStyle = fillStyle;\n  }\n\t\tif (shadowColor) {\n    this.ctx.shadowColor = shadowColor;\n  }\n\t\tif (shadowBlur) {\n    this.ctx.shadowBlur = shadowBlur;\n  }\n\t\tif (glow) {\n\t\t\tthis.ctx.shadowColor = glow;\n\t\t\tthis.ctx.shadowBlur = THEME.dimensions.glowRadius;\n\t\t}\n\n\t\tthis.ctx.fillRect(x, y, width, height);\n\t\tthis.ctx.restore();\n\t}\n}\n\n// Game Scene Class\nclass SnakeScene {\n\tconstructor(isMobile = false) {\n\t\tthis.state = {\n\t\t\tsnake: [],\n\t\t\tfood: null,\n\t\t\tdirection: { x: 0, y: 0 },\n\t\t\tnextDirection: { x: 0, y: 0 },\n\t\t\tscore: 0,\n\t\t\tgameOver: false,\n\t\t\tlastUpdate: 0,\n\t\t};\n\t\tthis.particles = [];\n\t\tthis.drawingUtil = null;\n\t\tthis.scoreMultiplier = 1;\n\t\tthis.isGhostMode = false;\n\t\tthis.currentHue = 0;\n\t\tthis.snakeHue = 180;\n\t\tthis.foodHue = 0;\n\t\tthis.isMobile = isMobile;\n\t\tthis.gameSpeed = isMobile\n\t\t\t? THEME.animations.snakeSpeed.mobile\n\t\t\t: THEME.animations.snakeSpeed.desktop;\n\t\tthis.highScore =\n\t\t\tNumber.parseInt(localStorage.getItem(\"snakeHighScore\")) || 0;\n\t\tthis.avatar = new Image();\n\t\tthis.avatar.src = profile1;\n\t\tthis.boundKeyHandler = null;\n\t}\n\n\tasync create(canvasSize) {\n\t\tthis.canvasSize = canvasSize;\n\t\tthis.cellSize = canvasSize.cellSize;\n\t\tawait soundManager.initialize();\n\t\tthis.initializeGame();\n\t\tthis.setupInput();\n\t\tthis.drawingUtil = new DrawingUtil(this.game.context);\n\t}\n\n\tinitializeGame() {\n\t\tconst centerX = Math.floor(GAME_CONFIG.gridSize / 2) * this.cellSize;\n\t\tconst centerY = Math.floor(GAME_CONFIG.gridSize / 2) * this.cellSize;\n\n\t\tthis.state.snake = [{ x: centerX, y: centerY }];\n\t\tthis.state.direction = { x: this.cellSize, y: 0 };\n\t\tthis.state.nextDirection = { x: this.cellSize, y: 0 };\n\t\tthis.spawnFood();\n\t\tthis.state.score = 0;\n\t\tthis.state.gameOver = false;\n\t}\n\n\tsetupInput() {\n\t\tthis.boundKeyHandler = (event) => {\n\t\t\tthis.handleKeyPress(event.code);\n\t\t\tif (\n\t\t\t\t[\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"].includes(event.code)\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener(\"keydown\", this.boundKeyHandler);\n\t}\n\n\thandleKeyPress(key) {\n\t\tif (this.state.gameOver && (key === \"Space\" || key === \"Enter\")) {\n\t\t\tthis.initializeGame();\n\t\t\treturn;\n\t\t}\n\n\t\tconst direction = DirectionUtil.getDirectionFromKey(key);\n\t\tif (\n\t\t\tdirection &&\n\t\t\t!DirectionUtil.isOpposite(direction, this.state.direction)\n\t\t) {\n\t\t\tthis.state.nextDirection = {\n\t\t\t\tx: direction.x * this.cellSize,\n\t\t\t\ty: direction.y * this.cellSize,\n\t\t\t};\n\t\t}\n\t}\n\n\tgenerateFoodPosition() {\n\t\tconst x =\n\t\t\tMath.floor(Math.random() * (this.canvasSize.width / this.cellSize)) *\n\t\t\tthis.cellSize;\n\t\tconst y =\n\t\t\tMath.floor(Math.random() * (this.canvasSize.height / this.cellSize)) *\n\t\t\tthis.cellSize;\n\t\treturn { x, y };\n\t}\n\n\tisValidFoodPosition(food) {\n\t\treturn !this.state.snake.some((segment) => this.isCollision(segment, food));\n\t}\n\n\tspawnFood() {\n\t\tlet newFood;\n\t\tdo {\n\t\t\tnewFood = this.generateFoodPosition();\n\t\t} while (!this.isValidFoodPosition(newFood));\n\n\t\tthis.state.food = newFood;\n\t}\n\n\tisCollision(pos1, pos2) {\n\t\tif (!pos1 || !pos2) {\n    return false;\n  }\n\t\treturn pos1.x === pos2.x && pos1.y === pos2.y;\n\t}\n\n\tmoveSnake() {\n\t\tconst { snake, nextDirection, food } = this.state;\n\t\tif (!snake || !snake.length || !nextDirection) {\n    return;\n  }\n\n\t\tconst head = { ...snake[0] };\n\t\tif (!head) return;\n\n\t\tthis.state.direction = nextDirection;\n\t\thead.x += nextDirection.x;\n\t\thead.y += nextDirection.y;\n\n\t\tconst { width, height } = this.canvasSize;\n\t\tif (!width || !height) return;\n\n\t\t// Handle wrapping with ghost mode\n\t\tif (this.isGhostMode) {\n\t\t\tif (head.x >= width) head.x = 0;\n\t\t\tif (head.x < 0) {\n     head.x = width - this.cellSize;\n   }\n\t\t\tif (head.y >= height) {\n     head.y = 0;\n   }\n\t\t\tif (head.y < 0) {\n     head.y = height - this.cellSize;\n   }\n\t\t} else if (\n\t\t\thead.x >= width ||\n\t\t\thead.x < 0 ||\n\t\t\thead.y >= height ||\n\t\t\thead.y < 0\n\t\t) {\n\t\t\tthis.state.gameOver = true;\n\t\t\tsoundManager.playGameOver();\n\t\t\treturn;\n\t\t}\n\n\t\tsnake.unshift(head);\n\n\t\tif (food && this.isCollision(head, food)) {\n\t\t\tsoundManager.playFoodCollect();\n\t\t\tthis.state.score += 1 * this.scoreMultiplier;\n\t\t\tthis.spawnFood();\n\n\t\t\tif (this.state.score > this.highScore) {\n\t\t\t\tthis.highScore = this.state.score;\n\t\t\t\tlocalStorage.setItem(\"snakeHighScore\", this.state.score);\n\t\t\t}\n\t\t} else {\n\t\t\tsnake.pop();\n\t\t}\n\t}\n\n\tupdate(time) {\n\t\tif (this.state.gameOver) {\n    return;\n  }\n\n\t\tthis.snakeHue = (this.snakeHue + 0.5) % 360;\n\t\tthis.foodHue = (this.foodHue + 1) % 360;\n\n\t\tif (time - this.state.lastUpdate < this.gameSpeed) {\n    return;\n  }\n\n\t\tthis.state.lastUpdate = time;\n\t\tthis.moveSnake();\n\t\tif (this.checkCollisions()) {\n    return;\n  }\n\t\tthis.draw();\n\t}\n\n\tcheckCollisions() {\n\t\tconst { snake } = this.state;\n\t\tif (!snake || snake.length < 2) {\n    return false;\n  }\n\n\t\tconst head = snake[0];\n\t\tif (!head) {\n    return false;\n  }\n\n\t\tfor (let i = 1; i < snake.length; i++) {\n\t\t\tif (snake[i] && this.isCollision(head, snake[i])) {\n\t\t\t\tthis.state.gameOver = true;\n\t\t\t\tsoundManager.playGameOver();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tdraw() {\n\t\tconst { snake, food } = this.state;\n\t\tconst ctx = this.game.context;\n\n\t\tctx.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height);\n\t\tthis.drawGrid();\n\n\t\t// Draw snake with improved glow effect\n\t\tsnake.forEach((segment, index) => {\n\t\t\tconst isHead = index === 0;\n\t\t\tconst segmentHue = (this.snakeHue + index * 5) % 360;\n\t\t\tconst glowIntensity = isHead ? 1 : 0.7;\n\n\t\t\tthis.drawingUtil.drawRect(\n\t\t\t\tsegment.x,\n\t\t\t\tsegment.y,\n\t\t\t\tthis.cellSize - 1,\n\t\t\t\tthis.cellSize - 1,\n\t\t\t\t{\n\t\t\t\t\tfillStyle: `hsl(${segmentHue}, 70%, ${isHead ? 60 : 50}%)`,\n\t\t\t\t\tglow: `hsl(${segmentHue}, 80%, 60%)`,\n\t\t\t\t\tshadowBlur: isHead ? 20 : 15,\n\t\t\t\t\topacity: glowIntensity,\n\t\t\t\t},\n\t\t\t);\n\n\t\t\t// Add extra glow for head\n\t\t\tif (isHead) {\n\t\t\t\tthis.drawingUtil.drawRect(\n\t\t\t\t\tsegment.x,\n\t\t\t\t\tsegment.y,\n\t\t\t\t\tthis.cellSize - 1,\n\t\t\t\t\tthis.cellSize - 1,\n\t\t\t\t\t{\n\t\t\t\t\t\tfillStyle: \"transparent\",\n\t\t\t\t\t\tglow: `hsl(${segmentHue}, 90%, 70%)`,\n\t\t\t\t\t\tshadowBlur: 30,\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\t// Draw food with enhanced effects\n\t\tif (food) {\n\t\t\tconst pulseScale = 1 + Math.sin(Date.now() / 500) * 0.1;\n\t\t\tconst size = (this.cellSize - 1) * pulseScale;\n\t\t\tconst offset = (size - (this.cellSize - 1)) / 2;\n\n\t\t\tthis.drawingUtil.withShadow(`hsl(${this.foodHue}, 80%, 60%)`, 20, () => {\n\t\t\t\t// Draw base glow\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(\n\t\t\t\t\tfood.x + this.cellSize / 2,\n\t\t\t\t\tfood.y + this.cellSize / 2,\n\t\t\t\t\tthis.cellSize / 2,\n\t\t\t\t\t0,\n\t\t\t\t\tMath.PI * 2,\n\t\t\t\t);\n\t\t\t\tctx.fillStyle = `hsla(${this.foodHue}, 70%, 50%, 0.3)`;\n\t\t\t\tctx.fill();\n\n\t\t\t\t// Draw avatar with color overlay\n\t\t\t\tctx.drawImage(\n\t\t\t\t\tthis.avatar,\n\t\t\t\t\tfood.x - offset,\n\t\t\t\t\tfood.y - offset,\n\t\t\t\t\tsize,\n\t\t\t\t\tsize,\n\t\t\t\t);\n\n\t\t\t\tctx.globalCompositeOperation = \"overlay\";\n\t\t\t\tctx.fillStyle = `hsla(${this.foodHue}, 70%, 50%, 0.5)`;\n\t\t\t\tctx.fillRect(food.x - offset, food.y - offset, size, size);\n\t\t\t});\n\t\t}\n\t}\n\n\tdrawGrid() {\n\t\tconst ctx = this.game.context;\n\t\tctx.strokeStyle = THEME.colors.gridLines;\n\t\tctx.lineWidth = this.isMobile ? 0.5 : 1;\n\n\t\tfor (let i = 0; i < GAME_CONFIG.gridSize; i++) {\n\t\t\tconst pos = i * this.cellSize;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(pos, 0);\n\t\t\tctx.lineTo(pos, this.canvasSize.height);\n\t\t\tctx.stroke();\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(0, pos);\n\t\t\tctx.lineTo(this.canvasSize.width, pos);\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\n\tstart() {\n\t\t// Start the game loop\n\t\tconst gameLoop = (timestamp) => {\n\t\t\tif (this.game?.animationFrameId) {\n\t\t\t\tcancelAnimationFrame(this.game.animationFrameId);\n\t\t\t}\n\t\t\t\n\t\t\tthis.update(timestamp);\n\t\t\t\n\t\t\tif (!this.state.gameOver) {\n\t\t\t\tthis.game.animationFrameId = requestAnimationFrame(gameLoop);\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.game.animationFrameId = requestAnimationFrame(gameLoop);\n\t}\n\n\tcleanup() {\n\t\tif (this.boundKeyHandler) {\n\t\t\tdocument.removeEventListener(\"keydown\", this.boundKeyHandler);\n\t\t\tthis.boundKeyHandler = null;\n\t\t}\n\n\t\tthis.state = {\n\t\t\tsnake: [],\n\t\t\tfood: null,\n\t\t\tdirection: { x: 0, y: 0 },\n\t\t\tnextDirection: { x: 0, y: 0 },\n\t\t\tscore: 0,\n\t\t\tgameOver: false,\n\t\t\tlastUpdate: 0,\n\t\t};\n\n\t\tthis.particles = [];\n\n\t\tif (this.game?.context && this.canvasSize) {\n\t\t\tthis.game.context.clearRect(\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tthis.canvasSize.width,\n\t\t\t\tthis.canvasSize.height,\n\t\t\t);\n\t\t}\n\n\t\tif (this.game?.animationFrameId) {\n\t\t\tcancelAnimationFrame(this.game.animationFrameId);\n\t\t\tthis.game.animationFrameId = null;\n\t\t}\n\t}\n}\n\n// Main component\nconst SnakeGame = memo(() => {\n\tconst location = useLocation();\n\tconst isFullscreen = location.pathname.includes(\"/fullscreen\");\n\tconst containerRef = useRef(null);\n\tconst canvasRef = useRef(null);\n\tconst sceneRef = useRef(null);\n\tconst soundManagerRef = useRef(null);\n\tconst [score, setScore] = useState(0);\n\tconst [highScore, setHighScore] = useState(0);\n\tconst [gameOver, setGameOver] = useState(false);\n\tconst [isMuted, setIsMuted] = useState(false);\n\tconst [isMobile, setIsMobile] = useState(false);\n\n\t// Check if device is mobile\n\tuseEffect(() => {\n\t\tconst checkMobile = () => {\n\t\t\tsetIsMobile(window.innerWidth <= 768);\n\t\t};\n\t\tcheckMobile();\n\t\twindow.addEventListener(\"resize\", checkMobile);\n\t\treturn () => window.removeEventListener(\"resize\", checkMobile);\n\t}, []);\n\n\t// Initialize sound manager\n\tuseEffect(() => {\n\t\tsoundManagerRef.current = new SoundManager();\n\t\tsoundManagerRef.current.initialize();\n\t\treturn () => {\n\t\t\tif (soundManagerRef.current) {\n\t\t\t\tsoundManagerRef.current.cleanup();\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Handle mute toggle\n\tconst toggleMute = useCallback(() => {\n\t\tif (soundManagerRef.current) {\n\t\t\tconst newMuted = !isMuted;\n\t\t\tsetIsMuted(newMuted);\n\t\t\tsoundManagerRef.current.setMuted(newMuted);\n\t\t}\n\t}, [isMuted]);\n\n\t// Handle canvas ready\n\tconst handleCanvasReady = useCallback((canvas, ctx) => {\n\t\tcanvasRef.current = { canvas, ctx };\n\t\t\n\t\t// Initialize game scene\n\t\tif (containerRef.current && canvasRef.current) {\n\t\t\tconst { width, height } = containerRef.current.getBoundingClientRect();\n\t\t\tconst canvasSize = getCanvasSize(width, height);\n\t\t\t\n\t\t\t// Create scene\n\t\t\tsceneRef.current = new SnakeScene(isMobile);\n\t\t\tsceneRef.current.game = { context: ctx };\n\t\t\tsceneRef.current.create(canvasSize).then(() => {\n\t\t\t\t// Set up event handlers\n\t\t\t\tsceneRef.current.onScoreChange = (newScore) => {\n\t\t\t\t\tsetScore(newScore);\n\t\t\t\t\tif (newScore > highScore) {\n\t\t\t\t\t\tsetHighScore(newScore);\n\t\t\t\t\t}\n\t\t\t\t\tif (soundManagerRef.current) {\n\t\t\t\t\t\tsoundManagerRef.current.playFoodCollect();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tsceneRef.current.onGameOver = () => {\n\t\t\t\t\tsetGameOver(true);\n\t\t\t\t\tif (soundManagerRef.current) {\n\t\t\t\t\t\tsoundManagerRef.current.playGameOver();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// Start game\n\t\t\t\tsceneRef.current.start();\n\t\t\t});\n\t\t}\n\t}, [isMobile, highScore]);\n\n\t// Handle direction change from mobile controls\n\tconst handleDirectionChange = useCallback((direction) => {\n\t\tif (sceneRef.current) {\n\t\t\tsceneRef.current.handleKeyPress(direction);\n\t\t}\n\t}, []);\n\n\t// Handle restart\n\tconst handleRestart = useCallback(() => {\n\t\tif (sceneRef.current) {\n\t\t\tsceneRef.current.initializeGame();\n\t\t\tsetGameOver(false);\n\t\t\tsetScore(0);\n\t\t}\n\t}, []);\n\n\t// Clean up on unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (sceneRef.current) {\n\t\t\t\tsceneRef.current.cleanup();\n\t\t\t}\n\t\t};\n\t}, []);\n\n\t// Resize handler\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tif (containerRef.current && canvasRef.current && sceneRef.current) {\n\t\t\t\tconst { width, height } = containerRef.current.getBoundingClientRect();\n\t\t\t\tconst canvasSize = getCanvasSize(width, height);\n\t\t\t\t\n\t\t\t\tcanvasRef.current.canvas.width = canvasSize.width;\n\t\t\t\tcanvasRef.current.canvas.height = canvasSize.height;\n\t\t\t\t\n\t\t\t\tsceneRef.current.resize(canvasSize);\n\t\t\t}\n\t\t};\n\t\t\n\t\twindow.addEventListener(\"resize\", handleResize);\n\t\treturn () => window.removeEventListener(\"resize\", handleResize);\n\t}, []);\n\n\treturn (\n\t\t<FullscreenTool isFullscreen={isFullscreen} title=\"Snake Game\">\n\t\t\t<GameContainer ref={containerRef} className=\"snake-game-container\">\n\t\t\t\t<GameBoard\n\t\t\t\t\tonCanvasReady={handleCanvasReady}\n\t\t\t\t\twidth={800}\n\t\t\t\t\theight={600}\n\t\t\t\t\tclassName=\"snake-canvas\"\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<Controls\n\t\t\t\t\tonDirectionChange={handleDirectionChange}\n\t\t\t\t\tisMobile={isMobile}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<ScoreDisplay>\n\t\t\t\t\t<CurrentScore>Score: {score}</CurrentScore>\n\t\t\t\t\t<HighScore>High Score: {highScore}</HighScore>\n\t\t\t\t</ScoreDisplay>\n\t\t\t\t\n\t\t\t\t<MuteButton onClick={toggleMute}>\n\t\t\t\t\t{isMuted ? (\n\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<svg viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t)}\n\t\t\t\t</MuteButton>\n\t\t\t\t\n\t\t\t\t<GameOverlay visible={gameOver}>\n\t\t\t\t\t<GameOverText>Game Over!</GameOverText>\n\t\t\t\t\t<RestartButton onClick={handleRestart}>Restart</RestartButton>\n\t\t\t\t</GameOverlay>\n\t\t\t</GameContainer>\n\t\t</FullscreenTool>\n\t);\n});\n\nSnakeGame.displayName = \"SnakeGame\";\n\nexport default SnakeGame;\n","import React, { useCallback, useRef, memo } from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport { useVisibilityObserver, useScreenOrientation } from \"../shared/hooks\";\n\n// Common animation configurations\nconst ANIMATION_CONFIG = {\n  duration: {\n    default: 0.3,\n    enter: 0.5,\n    exit: 0.3,\n  },\n  ease: [0.4, 0, 0.2, 1],\n};\n\n// Animation variants\nconst variants = {\n  initial: { opacity: 0, y: 20 },\n  enter: {\n    opacity: 1,\n    y: 0,\n    transition: { duration: ANIMATION_CONFIG.duration.enter, ease: ANIMATION_CONFIG.ease },\n  },\n  exit: {\n    opacity: 0,\n    y: -20,\n    transition: { duration: ANIMATION_CONFIG.duration.exit, ease: ANIMATION_CONFIG.ease },\n  },\n};\n\n// Common style variables\nconst STYLE_VARS = {\n  fullscreen: {\n    transitionDuration: '0.4s',\n    transitionTiming: 'cubic-bezier(0.4, 0, 0.2, 1)',\n    backdropBlur: '4px',\n    borderRadius: '16px',\n    shadowColor: 'rgba(0, 0, 0, 0.2)',\n    borderColor: 'rgba(255, 255, 255, 0.05)',\n    toggleSize: 'clamp(32px, 5vw, 40px)',\n    headerOffset: 'max(60px, 10vh)',\n  },\n};\n\n// CSS Custom Properties\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    ${Object.entries(STYLE_VARS.fullscreen).map(\n      ([key, value]) => `--fullscreen-${key.replace(/([A-Z])/g, '-$1').toLowerCase()}: ${value};`\n    ).join('\\n\\t\\t')}\n  }\n\n  body.is-fullscreen {\n    overflow: hidden !important;\n    touch-action: none;\n\n    #magicContainer,\n    .vignette-top,\n    .vignette-bottom,\n    .vignette-left,\n    .vignette-right {\n      display: none !important;\n    }\n  }\n`;\n\n// Icons\nconst FullscreenIcon = () => (\n  <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" aria-hidden=\"true\">\n    <path\n      fill=\"currentColor\"\n      d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n    />\n  </svg>\n);\n\nconst ExitFullscreenIcon = () => (\n  <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" aria-hidden=\"true\">\n    <path\n      fill=\"currentColor\"\n      d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n    />\n  </svg>\n);\n\n// Styled components\nconst FullscreenContent = styled(motion.div)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n  background: var(--color-grey-dark-2);\n  border-radius: var(--fullscreen-border-radius);\n  box-shadow: 0 8px 32px var(--fullscreen-shadow-color);\n  border: 1px solid var(--fullscreen-border-color);\n  overflow: hidden;\n  backdrop-filter: blur(var(--fullscreen-backdrop-blur));\n  -webkit-backdrop-filter: blur(var(--fullscreen-backdrop-blur));\n  transition: all var(--fullscreen-transition-duration) var(--fullscreen-transition-timing);\n`;\n\nconst ToolContent = styled(motion.div)`\n  width: 100%;\n  height: 100%;\n  padding: ${props => props.$isGame ? '0' : '1rem'};\n  overflow: auto;\n  position: relative;\n`;\n\nconst ToggleButton = styled(motion.button)`\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  width: var(--fullscreen-toggle-size);\n  height: var(--fullscreen-toggle-size);\n  border-radius: 50%;\n  background: var(--color-grey-dark-3);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  color: var(--color-text);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  z-index: 2;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: var(--color-grey-dark-4);\n  }\n`;\n\n// Fullscreen wrapper component\nexport const FullscreenWrapper = memo(\n  ({\n    children,\n    className = \"\",\n    contentClassName = \"\",\n    isGame = false,\n    toolId = \"\",\n  }) => {\n    const navigate = useNavigate();\n    const wrapperRef = useRef(null);\n    const contentRef = useRef(null);\n    const isVisible = useVisibilityObserver(wrapperRef);\n    const orientation = useScreenOrientation();\n\n    const handleFullscreen = useCallback(() => {\n      navigate(`/tools/${toolId}/fullscreen`);\n    }, [navigate, toolId]);\n\n    return (\n      <AnimatePresence mode=\"wait\">\n        <>\n          <GlobalStyle />\n          <FullscreenContent\n            ref={wrapperRef}\n            className={className}\n            $isVisible={isVisible}\n            $orientation={orientation}\n            variants={variants}\n            initial=\"initial\"\n            animate=\"enter\"\n            exit=\"exit\"\n            layout\n          >\n            <ToolContent\n              ref={contentRef}\n              className={contentClassName}\n              $isGame={isGame}\n              layout\n            >\n              {children}\n            </ToolContent>\n            <ToggleButton\n              onClick={handleFullscreen}\n              aria-label=\"Enter fullscreen\"\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              <FullscreenIcon />\n            </ToggleButton>\n          </FullscreenContent>\n        </>\n      </AnimatePresence>\n    );\n  }\n);\n\nFullscreenWrapper.displayName = \"FullscreenWrapper\";\n\n// Add styles for the fullscreen tool\nexport const FullscreenToolStyles = createGlobalStyle`\n  .fullscreen-tool {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    height: 100dvh;\n    background: var(--color-grey-dark-1);\n    z-index: 99999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .fullscreen-tool-content {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: clamp(10px, 3vw, 20px);\n    padding-top: calc(var(--fullscreen-header-offset) + clamp(10px, 3vw, 20px));\n  }\n\n  .exit-fullscreen-btn {\n    position: fixed;\n    top: 1rem;\n    right: 1rem;\n    width: var(--fullscreen-toggle-size);\n    height: var(--fullscreen-toggle-size);\n    border-radius: 50%;\n    background: var(--color-grey-dark-3);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    color: var(--color-text);\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0;\n    z-index: 2;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: var(--color-grey-dark-4);\n      transform: scale(1.05);\n    }\n\n    &:active {\n      transform: scale(0.95);\n    }\n  }\n`;\n\n// Add a new component for fullscreen mode\nexport const FullscreenTool = memo(\n  ({\n    children,\n    className = \"\",\n    contentClassName = \"\",\n    isGame = false,\n    onExit,\n    title = \"\",\n  }) => {\n    const navigate = useNavigate();\n\n    const handleExit = useCallback(() => {\n      navigate(\"/tools\");\n      onExit?.();\n    }, [navigate, onExit]);\n\n    // Handle escape key\n    React.useEffect(() => {\n      const handleEscKey = (e) => {\n        if (e.key === \"Escape\") {\n          handleExit();\n        }\n      };\n\n      window.addEventListener(\"keydown\", handleEscKey);\n      return () => window.removeEventListener(\"keydown\", handleEscKey);\n    }, [handleExit]);\n\n    return (\n      <div className=\"fullscreen-tool\">\n        <div className=\"fullscreen-tool-content\">\n          {children}\n        </div>\n        <button\n          className=\"exit-fullscreen-btn\"\n          onClick={handleExit}\n          aria-label=\"Exit fullscreen\"\n        >\n          <ExitFullscreenIcon />\n        </button>\n      </div>\n    );\n  },\n);\n\nFullscreenTool.displayName = \"FullscreenTool\";\n\nexport default FullscreenWrapper; ","import { AnimatePresence, motion } from \"framer-motion\";\nimport React, {\n\tuseState,\n\tlazy,\n\tSuspense,\n\tuseCallback,\n\tmemo,\n\tuseEffect,\n\tuseMemo,\n} from \"react\";\nimport { useInView } from \"react-intersection-observer\";\nimport styled, { keyframes, css, createGlobalStyle } from \"styled-components\";\nimport { useAuth } from \"../../effects/Matrix/AuthContext\";\nimport { FullscreenWrapper } from \"./FullscreenWrapper\";\nimport { useKeyboardNavigation } from \"../shared/hooks\";\nimport \"./styles/index.scss\";\n\n// Common animation configurations\nconst ANIMATION_CONFIG = {\n\tduration: {\n\t\tdefault: 0.3,\n\t\tenter: 0.5,\n\t\texit: 0.3,\n\t},\n\tease: [0.4, 0, 0.2, 1],\n};\n\n// Common style variables\nconst STYLE_VARS = {\n\tfullscreen: {\n\t\ttransitionDuration: '0.4s',\n\t\ttransitionTiming: 'cubic-bezier(0.4, 0, 0.2, 1)',\n\t\tbackdropBlur: '4px',\n\t\tborderRadius: '16px',\n\t\tshadowColor: 'rgba(0, 0, 0, 0.2)',\n\t\tborderColor: 'rgba(255, 255, 255, 0.05)',\n\t\ttoggleSize: 'clamp(32px, 5vw, 40px)',\n\t\theaderOffset: 'max(60px, 10vh)',\n\t},\n};\n\n// Animation keyframes\nconst animations = {\n\tfadeIn: keyframes`\n\t\tfrom { opacity: 0; }\n\t\tto { opacity: 1; }\n\t`,\n\tscale: (from, to) => keyframes`\n\t\tfrom { transform: scale(${from}); }\n\t\tto { transform: scale(${to}); }\n\t`,\n\tfullscreen: (type) => keyframes`\n\t\tfrom {\n\t\t\topacity: ${type === 'enter' ? 0 : 1};\n\t\t\ttransform: scale(${type === 'enter' ? 0.98 : 1});\n\t\t}\n\t\tto {\n\t\t\topacity: ${type === 'enter' ? 1 : 0};\n\t\t\ttransform: scale(${type === 'enter' ? 1 : 0.98});\n\t\t}\n\t`,\n\trotate: keyframes`\n\t\tfrom { transform: rotate(0deg); }\n\t\tto { transform: rotate(360deg); }\n\t`,\n};\n\n// eslint-disable-next-line no-unused-vars\nconst variants = {\n\tinitial: { opacity: 0, y: 20 },\n\tenter: {\n\t\topacity: 1,\n\t\ty: 0,\n\t\ttransition: { duration: ANIMATION_CONFIG.duration.enter, ease: ANIMATION_CONFIG.ease },\n\t},\n\texit: {\n\t\topacity: 0,\n\t\ty: -20,\n\t\ttransition: { duration: ANIMATION_CONFIG.duration.exit, ease: ANIMATION_CONFIG.ease },\n\t},\n};\n\n// eslint-disable-next-line no-unused-vars\nconst commonFullscreenStyles = css`\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\theight: 100dvh;\n\tz-index: 99999;\n`;\n\n// eslint-disable-next-line no-unused-vars\nconst GlobalStyle = createGlobalStyle`\n\t:root {\n\t\t${Object.entries(STYLE_VARS.fullscreen).map(\n\t\t\t([key, value]) => `--fullscreen-${key.replace(/([A-Z])/g, '-$1').toLowerCase()}: ${value};`\n\t\t).join('\\n\\t\\t')}\n\t}\n\n\tbody.is-fullscreen {\n\t\toverflow: hidden !important;\n\t\ttouch-action: none;\n\n\t\t#magicContainer,\n\t\t.vignette-top,\n\t\t.vignette-bottom,\n\t\t.vignette-left,\n\t\t.vignette-right {\n\t\t\tdisplay: none !important;\n\t\t}\n\t}\n`;\n\n// Common styled components base\nconst commonButtonStyles = css`\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n\t-webkit-tap-highlight-color: transparent;\n\ttouch-action: manipulation;\n\n\t&:focus-visible {\n\t\toutline: 2px solid var(--color-sage);\n\t\toutline-offset: 2px;\n\t}\n\n\t&:active {\n\t\ttransform: scale(0.95);\n\t}\n`;\n\n// eslint-disable-next-line no-unused-vars\nconst IconButton = styled.button`\n\t${commonButtonStyles}\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: var(--color-grey-dark-3);\n\tborder: 1px solid rgba(255, 255, 255, 0.1);\n\tcolor: var(--color-text);\n\tborder-radius: 50%;\n\twidth: var(--fullscreen-toggle-size);\n\theight: var(--fullscreen-toggle-size);\n\n\t&:hover {\n\t\tbackground: var(--color-grey-dark-4);\n\t\ttransform: scale(1.05);\n\t}\n`;\n\nconst FlexCenter = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`;\n\nconst ErrorContainer = styled(FlexCenter)`\n\tflex-direction: column;\n\tgap: 1rem;\n\tpadding: 2rem;\n\ttext-align: center;\n`;\n\nconst LoadingWrapper = styled(ErrorContainer)`\n\ti {\n\t\tfont-size: 2rem;\n\t\tanimation: ${animations.rotate} 1s linear infinite;\n\t}\n`;\n\n// eslint-disable-next-line no-unused-vars\nconst FullscreenIcon = () => (\n\t<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" aria-hidden=\"true\">\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n\t\t/>\n\t</svg>\n);\n\n// eslint-disable-next-line no-unused-vars\nconst ExitFullscreenIcon = () => (\n\t<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" aria-hidden=\"true\">\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n\t\t/>\n\t</svg>\n);\n\n// Enhanced loading fallback\nconst LoadingFallback = memo(() => (\n\t<LoadingWrapper\n\t\tinitial={{ opacity: 0 }}\n\t\tanimate={{ opacity: 1 }}\n\t\texit={{ opacity: 0 }}\n\t>\n\t\t<motion.i \n\t\t\tclassName=\"fas fa-spinner\"\n\t\t\tanimate={{ rotate: 360 }}\n\t\t\ttransition={{ duration: 1.5, repeat: Infinity, ease: \"linear\" }}\n\t\t/>\n\t\t<motion.span\n\t\t\tanimate={{ opacity: [0.5, 1, 0.5] }}\n\t\t\ttransition={{ duration: 1.5, repeat: Infinity }}\n\t\t>\n\t\t\tLoading...\n\t\t</motion.span>\n\t</LoadingWrapper>\n));\n\nLoadingFallback.displayName = \"LoadingFallback\";\n\n// Tool transition hook\nconst useToolTransition = (initialTool, tools) => {\n\tconst [selectedTool, setSelectedTool] = useState(initialTool);\n\n\tconst handleToolSelect = useCallback((toolId) => {\n\t\tsetSelectedTool(toolId);\n\t}, []);\n\n\tuseKeyboardNavigation((key) => {\n\t\tconst currentIndex = tools.findIndex((tool) => tool.id === selectedTool);\n\n\t\tif (key === \"ArrowRight\") {\n\t\t\tconst nextTool = tools[(currentIndex + 1) % tools.length];\n\t\t\thandleToolSelect(nextTool.id);\n\t\t} else if (key === \"ArrowLeft\") {\n\t\t\tconst prevTool = tools[(currentIndex - 1 + tools.length) % tools.length];\n\t\t\thandleToolSelect(prevTool.id);\n\t\t}\n\t}, [\"ArrowRight\", \"ArrowLeft\"]);\n\n\treturn {\n\t\tselectedTool,\n\t\thandleToolSelect,\n\t};\n};\n\n// Preload hints for tools\nconst preloadTools = () => {\n\tconst hints = [\n\t\t{ rel: \"preload\", href: \"./Bingo/BingoGame.js\", as: \"script\" },\n\t\t{ rel: \"preload\", href: \"./Snake/SnakeGame.js\", as: \"script\" },\n\t\t{ rel: \"preload\", href: \"./ConflictMediation/ConflictMediation.js\", as: \"script\" },\n\t];\n\n\tfor (const { rel, href, as } of hints) {\n\t\tconst link = document.createElement(\"link\");\n\t\tlink.rel = rel;\n\t\tlink.href = href;\n\t\tlink.as = as;\n\t\tdocument.head.appendChild(link);\n\t}\n};\n\n// eslint-disable-next-line no-unused-vars\nconst createToolLoader = (importFn) => {\n\treturn () =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst attempt = (attemptsLeft = 3) => {\n\t\t\t\timportFn()\n\t\t\t\t\t.then(resolve)\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tif (attemptsLeft === 0) {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(() => attempt(attemptsLeft - 1), 1500);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t};\n\t\t\tattempt();\n\t\t});\n};\n\n// Error Boundary with retry capability\nclass ErrorBoundary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { hasError: false, error: null, errorInfo: null };\n\t}\n\n\tstatic getDerivedStateFromError(error) {\n\t\treturn { hasError: true, error };\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tconsole.error(\"Tool error:\", error, errorInfo);\n\t\tthis.setState({ errorInfo });\n\t}\n\n\thandleRetry = () => {\n\t\tthis.setState({ hasError: false, error: null, errorInfo: null });\n\t};\n\n\trender() {\n\t\tif (this.state.hasError) {\n\t\t\treturn (\n\t\t\t\t<ErrorContainer>\n\t\t\t\t\t<h3>Something went wrong</h3>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{this.state.error?.message || \"An unexpected error occurred\"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<button onClick={this.handleRetry}>Retry</button>\n\t\t\t\t</ErrorContainer>\n\t\t\t);\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n\n// Tool card component\nconst ToolCard = memo(({ tool, isSelected, onSelect }) => {\n\tconst { ref, inView } = useInView({\n\t\tthreshold: 0.1,\n\t\ttriggerOnce: true,\n\t});\n\n\treturn (\n\t\t<Card\n\t\t\tref={ref}\n\t\t\t$isSelected={isSelected}\n\t\t\tonClick={() => onSelect(tool.id)}\n\t\t\twhileHover={{ scale: 1.05 }}\n\t\t\twhileTap={{ scale: 0.95 }}\n\t\t\tinitial={{ opacity: 0, y: 20 }}\n\t\t\tanimate={inView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}\n\t\t\ttransition={{ duration: 0.3 }}\n\t\t>\n\t\t\t<CardIcon>\n\t\t\t\t<i className={tool.icon}></i>\n\t\t\t</CardIcon>\n\t\t\t<CardContent>\n\t\t\t\t<CardTitle>{tool.title}</CardTitle>\n\t\t\t\t<CardDescription>{tool.description}</CardDescription>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n});\n\nToolCard.displayName = \"ToolCard\";\n\n// Styled components for tool cards\nconst Card = styled(motion.div)`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 1.5rem;\n\tbackground: ${(props) =>\n\t\tprops.$isSelected\n\t\t\t? \"var(--color-grey-dark-3)\"\n\t\t\t: \"var(--color-grey-dark-2)\"};\n\tborder: 1px solid\n\t\t${(props) =>\n\t\t\tprops.$isSelected\n\t\t\t\t? \"var(--color-sage)\"\n\t\t\t\t: \"rgba(255, 255, 255, 0.05)\"};\n\tborder-radius: 12px;\n\tcursor: pointer;\n\ttransition: all 0.3s ease;\n\theight: 100%;\n\tbox-shadow: ${(props) =>\n\t\tprops.$isSelected\n\t\t\t? \"0 8px 32px rgba(0, 0, 0, 0.3)\"\n\t\t\t: \"0 4px 16px rgba(0, 0, 0, 0.2)\"};\n\n\t&:hover {\n\t\tbackground: var(--color-grey-dark-3);\n\t\tborder-color: ${(props) =>\n\t\t\tprops.$isSelected\n\t\t\t\t? \"var(--color-sage)\"\n\t\t\t\t: \"rgba(255, 255, 255, 0.1)\"};\n\t}\n`;\n\nconst CardIcon = styled.div`\n\tfont-size: 2rem;\n\tmargin-bottom: 1rem;\n\tcolor: var(--color-sage);\n`;\n\nconst CardContent = styled.div`\n\ttext-align: center;\n`;\n\nconst CardTitle = styled.h3`\n\tmargin-bottom: 0.5rem;\n\tfont-size: 1.2rem;\n`;\n\nconst CardDescription = styled.p`\n\tfont-size: 0.9rem;\n\tcolor: var(--color-text-light);\n`;\n\n// Tool container\nconst ToolContainer = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n\tgap: 1.5rem;\n\twidth: 100%;\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n\tpadding: 2rem;\n\n\t@media (max-width: 768px) {\n\t\tgrid-template-columns: 1fr;\n\t\tpadding: 1rem;\n\t}\n`;\n\n// Tool content container\nconst ToolContentContainer = styled.div`\n\twidth: 100%;\n\tmax-width: 1200px;\n\tmargin: 2rem auto;\n\tmin-height: 400px;\n`;\n\n// Main component\nconst ToolsSection = () => {\n\t// eslint-disable-next-line no-unused-vars\n\tconst { isUnlocked } = useAuth();\n\tconst [ref, inView] = useInView({\n\t\tthreshold: 0.1,\n\t\ttriggerOnce: true,\n\t});\n\n\t// Define available tools\n\tconst tools = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tid: \"bingo\",\n\t\t\t\ttitle: \"Bingo Game\",\n\t\t\t\ticon: \"fas fa-th\",\n\t\t\t\tcomponent: lazy(() => import(\"../Bingo\")),\n\t\t\t\tdescription: \"Create and play custom bingo games\",\n\t\t\t\tkeywords: [\"game\", \"bingo\", \"cards\", \"multiplayer\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"snake\",\n\t\t\t\ttitle: \"Snake Game\",\n\t\t\t\ticon: \"fas fa-gamepad\",\n\t\t\t\tcomponent: lazy(() => import(\"../Snake\")),\n\t\t\t\tdescription: \"Classic snake game with modern visuals\",\n\t\t\t\tkeywords: [\"game\", \"snake\", \"arcade\", \"retro\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"conflict-mediation\",\n\t\t\t\ttitle: \"Conflict Resolution\",\n\t\t\t\ticon: \"fas fa-balance-scale\",\n\t\t\t\tcomponent: lazy(() => import(\"../ConflictMediation\")),\n\t\t\t\tdescription: \"Tool for resolving interpersonal conflicts\",\n\t\t\t\tkeywords: [\"conflict\", \"resolution\", \"mediation\", \"relationships\"],\n\t\t\t},\n\t\t],\n\t\t[],\n\t);\n\n\t// Preload tools when section is in view\n\tuseEffect(() => {\n\t\tif (inView) {\n\t\t\tpreloadTools();\n\t\t}\n\t}, [inView]);\n\n\t// Tool selection state\n\tconst { selectedTool, handleToolSelect } = useToolTransition(\n\t\ttools[0]?.id,\n\t\ttools,\n\t);\n\n\t// Get the selected tool component\n\tconst SelectedToolComponent = useMemo(() => {\n\t\tconst tool = tools.find((t) => t.id === selectedTool);\n\t\treturn tool?.component;\n\t}, [selectedTool, tools]);\n\n\treturn (\n\t\t<section id=\"tools\" className=\"section\" ref={ref}>\n\t\t\t<div className=\"section-title-container\">\n\t\t\t\t<h2 className=\"section-title\">Interactive Tools</h2>\n\t\t\t\t<div className=\"section-subtitle\">\n\t\t\t\t\tExplore these interactive tools and utilities\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ToolContainer>\n\t\t\t\t{tools.map((tool) => (\n\t\t\t\t\t<ToolCard\n\t\t\t\t\t\tkey={tool.id}\n\t\t\t\t\t\ttool={tool}\n\t\t\t\t\t\tisSelected={selectedTool === tool.id}\n\t\t\t\t\t\tonSelect={handleToolSelect}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ToolContainer>\n\n\t\t\t<ToolContentContainer>\n\t\t\t\t<AnimatePresence mode=\"wait\">\n\t\t\t\t\t{SelectedToolComponent && (\n\t\t\t\t\t\t<ErrorBoundary key={selectedTool}>\n\t\t\t\t\t\t\t<Suspense fallback={<LoadingFallback />}>\n\t\t\t\t\t\t\t\t<FullscreenWrapper toolId={selectedTool}>\n\t\t\t\t\t\t\t\t\t<SelectedToolComponent />\n\t\t\t\t\t\t\t\t</FullscreenWrapper>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t)}\n\t\t\t\t</AnimatePresence>\n\t\t\t</ToolContentContainer>\n\t\t</section>\n\t);\n};\n\nexport default ToolsSection;\n","import { useState, useEffect, useCallback } from 'react';\n\n/**\n * Hook to detect if an element is visible in the viewport\n * @param {React.RefObject} ref - Reference to the element to observe\n * @param {Object} options - IntersectionObserver options\n * @returns {boolean} - Whether the element is visible\n */\nexport const useVisibilityObserver = (ref, options = {}) => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (!ref.current) return;\n\n    const element = ref.current;\n    const observer = new IntersectionObserver(([entry]) => {\n      setIsVisible(entry.isIntersecting);\n    }, {\n      threshold: 0.1,\n      ...options\n    });\n\n    observer.observe(element);\n\n    return () => {\n      if (element) {\n        observer.unobserve(element);\n      }\n    };\n  }, [ref, options]);\n\n  return isVisible;\n};\n\n/**\n * Hook to detect screen orientation\n * @returns {string} - Current orientation ('portrait' or 'landscape')\n */\nexport const useScreenOrientation = () => {\n  const [orientation, setOrientation] = useState(\n    window.innerWidth > window.innerHeight ? 'landscape' : 'portrait'\n  );\n\n  const updateOrientation = useCallback(() => {\n    setOrientation(window.innerWidth > window.innerHeight ? 'landscape' : 'portrait');\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('resize', updateOrientation);\n    \n    // Some devices have an orientation API\n    if (window.screen && window.screen.orientation) {\n      window.screen.orientation.addEventListener('change', updateOrientation);\n    }\n    \n    return () => {\n      window.removeEventListener('resize', updateOrientation);\n      if (window.screen && window.screen.orientation) {\n        window.screen.orientation.removeEventListener('change', updateOrientation);\n      }\n    };\n  }, [updateOrientation]);\n\n  return orientation;\n};\n\n/**\n * Hook to detect if the user is on a mobile device\n * @returns {boolean} - Whether the user is on a mobile device\n */\nexport const useMobileDetection = () => {\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => {\n      window.removeEventListener('resize', checkMobile);\n    };\n  }, []);\n\n  return isMobile;\n};\n\n/**\n * Hook to handle keyboard navigation\n * @param {Function} callback - Function to call when a key is pressed\n * @param {Array} keys - Array of keys to listen for\n */\nexport const useKeyboardNavigation = (callback, keys) => {\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (keys.includes(event.key)) {\n        callback(event.key);\n      }\n    };\n    \n    window.addEventListener('keydown', handleKeyDown);\n    \n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [callback, keys]);\n}; ","// Third-party imports\nimport React, { createContext, useContext, useState } from \"react\";\n\n// Asset imports\nimport incorrectAudio from \"../../../assets/audio/didn't-say-the-magic-word.mp3\";\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n\tconst [isUnlocked, setIsUnlocked] = useState(() => {\n\t\t// Check URL parameters on initial load\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tconst passwordParam = urlParams.get(\"password\");\n\t\treturn passwordParam?.toLowerCase() === \"aaron\";\n\t});\n\tconst [showIncorrectFeedback, setShowIncorrectFeedback] = useState(false);\n\tconst [showSuccessFeedback, setShowSuccessFeedback] = useState(false);\n\tconst audioRef = React.useRef(null);\n\n\tconst dismissFeedback = () => {\n\t\tsetShowIncorrectFeedback(false);\n\t\tif (audioRef.current) {\n\t\t\taudioRef.current.pause();\n\t\t\taudioRef.current.currentTime = 0;\n\t\t}\n\t};\n\n\tconst checkPassword = (password) => {\n\t\tif (password.toLowerCase() === \"aaron\") {\n\t\t\tsetIsUnlocked(true);\n\t\t\tsetShowSuccessFeedback(true);\n\t\t\tsetTimeout(() => setShowSuccessFeedback(false), 2000);\n\t\t\treturn true;\n\t\t}\n\n\t\tsetShowIncorrectFeedback(true);\n\t\tif (audioRef.current) {\n\t\t\taudioRef.current.currentTime = 0;\n\t\t\taudioRef.current.loop = true;\n\t\t\taudioRef.current.play();\n\t\t}\n\t\treturn false;\n\t};\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{\n\t\t\t\tisUnlocked,\n\t\t\t\tcheckPassword,\n\t\t\t\tshowIncorrectFeedback,\n\t\t\t\tshowSuccessFeedback,\n\t\t\t\tdismissFeedback,\n\t\t\t}}\n\t\t>\n\t\t\t<audio ref={audioRef} src={incorrectAudio} style={{ display: \"none\" }}>\n\t\t\t\t<track kind=\"captions\" srcLang=\"en\" label=\"English\" />\n\t\t\t</audio>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport const useAuth = () => {\n\tconst context = useContext(AuthContext);\n\tif (!context) {\n\t\tthrow new Error(\"useAuth must be used within an AuthProvider\");\n\t}\n\treturn context;\n};\n"],"names":["GOOGLE_SHEETS_CONFIG","apiKey","process","discoveryDocs","spreadsheetId","dataLoading","component","NAV_ITEMS","About","Projects","Work","createTimeout","callback","time","timeout","setTimeout","clearTimeout","subtractPoints","a","b","x","y","getElementScrollPosition","element","scrollLeft","scrollTop","initializeScrollSpeedWatcher","onChange","lastPosition","currentPosition","point","_objectSpread","speed","rafId","isProgrammaticScroll","updateSpeed","newSpeed","clearSpeed","clearSpeedTimeout","handleProgrammaticScroll","event","fromY","toY","detail","updateFrame","requestAnimationFrame","handleScroll","func","limit","inThrottle","arguments","throttle","document","addEventListener","passive","window","removeEventListener","cancelAnimationFrame","generateId","idDesiredLength","length","undefined","alphabet","Array","from","map","charAt","Math","floor","random","getRandomCharFromAlphabet","join","SVG_NS","globalSvgContainer","activeFilters","Set","createSvgElement","type","createElementNS","createBlurSvg","svg","setAttribute","classList","add","style","cssText","defs","appendChild","body","getOrCreateSvgContainer","querySelector","filter","filterId","id","blurFilter","appliedElements","WeakMap","updateTimeout","destroy","remove","delete","size","setBlur","_ref","concat","getId","applyTo","originalFilter","originalTransform","transform","set","original","get","initializeBodyScrollMotionBlur","targetElement","bodyBlur","blurYSpring","initialPosition","stiffness","damping","precision","position","endPosition","secPerFrame","raf","velocity","onUpdate","v","onRest","interpolate","newVelocity","newPosition","isComplete","abs","value","setValue","transitionTo","fn","createSpring","documentElement","min","isMobileDevice","innerWidth","BlurSection","children","className","as","Component","disabled","props","_objectWithoutProperties","_excluded","containerRef","useRef","cleanupRef","isMobile","setIsMobile","useState","resizeTimeoutRef","handleResize","useCallback","current","wasMobile","nowMobile","useEffect","_jsx","ref","willChange","transition","React","MaskCommon","styled","div","_templateObject","_taggedTemplateLiteral","MaskTop","_templateObject2","MaskBottom","_templateObject3","onComplete","maskTop","getElementById","maskBottom","magicContainer","opacity","display","overflow","_jsxs","_Fragment","isVisible","onSuccess","canvasRef","formRef","password","setPassword","checkPassword","showIncorrectFeedback","showSuccessFeedback","dismissFeedback","useAuth","MIN_FONT_SIZE","ALPHABET","handleKeyPress","canvas","context","getContext","resizeCanvas","width","height","innerHeight","Drop","constructor","this","fontSize","char","changeInterval","frame","update","draw","font","gradient","createLinearGradient","addColorStop","fillStyle","shadowColor","shadowBlur","fillText","columns","drops","fill","_","i","drop","animationFrameId","animate","fillRect","forEach","onClick","e","target","src","incorrectGif","alt","onSubmit","preventDefault","placeholder","Frame","ContentWrapper","Magic","Renderer","Camera","Geometry","Program","Mesh","Color","Vec2","ogl","renderer","gl","camera","wWidth","mouse","gridWidth","gridHeight","gridRatio","ripple","points","mouseOver","color1","color2","cameraZ","initScene","clearColor","RippleEffect","initPointsMesh","wsize","nx","ny","numPoints","ox","oy","positions","Float32Array","uvs","sizes","uvx","uvy","uvdx","uvdy","j","i1","i2","i3","ssize","geometry","data","uv","program","uniforms","hmap","gpgpu","read","texture","vertex","fragment","mode","POINTS","_t","z","Date","now","cos","sin","addDrop","render","scene","randomizeColors","chroma","hex","_len","args","_key","apply","getScrollPercentage","scrollY","scrollHeight","clientHeight","maxScroll","max","initEventsListener","onMove","_e$changedTouches","changedTouches","pageX","pageY","resize","setSize","perspective","aspect","wSize","getWorldSize","cam","vFOV","fov","PI","tan","dpr","defaultVertex","Object","assign","delta","GPGPU","initShaders","updateProgram","tDiffuse","uDelta","dropProgram","uCenter","uRadius","uStrength","renderProgram","radius","strength","us","RenderTarget","Triangle","rto","HALF_FLOAT","extensions","OES_texture_half_float","HALF_FLOAT_OES","internalFormat","isWebgl2","FLOAT","RGBA32F","RGBA16F","RGBA","depth","unpackAlignment","numVertexes","write","mesh","clear","swap","container","innerHTML","querySelectorAll","header","letters","innerText","split","letter","span","createElement","textContent","setProperty","SocialMedia","keyword","icon","link","tooltip","handleClick","open","onKeyDown","key","title","role","ChatBubblePart","_ref2","part","ChatBubbleArrow","ChatBubble","_ref3","hintLevel","setHintLevel","stopPropagation","prev","onKeyUp","HeaderText","_ref4","items","separator","Tag","item","HEADER_SECTIONS","SOCIAL_MEDIA","headerRef","isClicked","setIsClicked","isBubbleVisible","setIsBubbleVisible","timerRef","useScrambleEffect","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","profile1","profile2","section","s","TimelineBar","first_year","job_bars","activeCards","hoveredJob","jobs","sub_bars","index","start","bottom","bar_start","bar_height","visibility","months","years","remainingMonths","formatPart","num","singular","plural","word","toString","numberToWord","yearText","monthText","toLowerCase","formatDuration","duration","slug","activeJob","find","job","MemoizedTimelineBar","withGoogleSheets","db","setActiveCards","hoveredCard","setHoveredCard","handleCardClick","newSet","has","handleCardHover","work","row","company","place","to","description","first_date","moment","_to_moment","_from_moment","_duration","diff","format","_from","_to","date","time_span","setIsVisible","sectionRef","observer","IntersectionObserver","entry","isIntersecting","disconnect","threshold","observe","Fragment","isActive","tabIndex","onKeyPress","ProjectCard","content","image","tagColor","_link","href","rel","backgroundColor","mixBlendMode","fontStyle","color","setActiveFilters","tagColors","setTagColors","uniqueKeywords","projects","project","adjustedColors","values","primary","h","l","secondary","tertiary","quaternary","quinary","senary","septenary","generatedTagColors","reduce","acc","handleThemeChange","project_cards","projectProps","isFiltered","includes","sort","keys","f","toggleFilter","borderLeft","backdropFilter","boxShadow","padding","fontWeight","ColorChangeOnHover","text","words","expandedSection","setExpandedSection","aboutTexts","about","category","handleSectionClick","texts","shell","THEME","scrollToTop","scrollTo","top","behavior","getInitialTheme","savedTheme","localStorage","getItem","matchMedia","matches","onMatrixActivate","showScrollTop","setShowScrollTop","themeClicks","setThemeClicks","isLightTheme","setIsLightTheme","isUnlocked","navItems","Tools","handleThemeClick","newClicks","click","newTheme","setItem","checkScroll","timeoutId","throttledCheckScroll","toggle","isLight","themeColorMeta","updateThemeColor","links","reverse","startsWith","location","origin","scrolling","lastScrollY","_container$firstEleme","containerHeight","firstElementChild","offsetHeight","scrollPosition","windowHeight","scrollingDown","customEvent","CustomEvent","dispatchEvent","CustomLoadingComponent","displayName","FullscreenToolLayout","Layout","memo","hideNav","LoadingSequence","NavBar","MagicComponent","FrameEffect","HomePageContent","Header","ToolsSection","AppContent","showMatrix","setShowMatrix","urlParams","URLSearchParams","search","newUrl","pathname","history","replaceState","handleMatrixActivate","handleMatrixSuccess","Matrix","BrowserRouter","Suspense","fallback","Routes","Route","exact","path","InfiniteScrollEffect","BingoGame","isFullscreen","Snake","ConflictMediation","Navigate","replace","App","GoogleSheetsProvider","config","AuthProvider","BingoContainer","BingoHeader","BingoGrid","StyledBingoItem","_templateObject4","isChecked","isHovered","BingoNotification","_templateObject5","ResetButton","button","_templateObject6","BingoItem","isEditing","onItemClick","onItemDoubleClick","onItemHover","onEditComplete","editRef","handleKeyDown","handleDoubleClick","handleBlur","onDoubleClick","defaultValue","goal","onBlur","autoFocus","viewBox","d","BingoGridComponent","bingoData","checkedItems","hoveredIndex","editIndex","gridItems","useMemo","slice","GRID_SIZE","useBingoState","initialState","state","setState","JSON","parse","error","console","warn","saveState","stringify","saveOnUnload","BingoContent","year","setYear","theme","setTheme","setCheckedItems","setHoveredIndex","setEditIndex","setBingoData","loading","setLoading","setError","themes","name","async","Promise","resolve","mockData","err","loadData","handleYearChange","selectedYear","handleItemClick","handleItemDoubleClick","handleEditComplete","trim","handleReset","confirm","bingos","completedCount","totalCount","line","every","Boolean","confetti","particleCount","spread","t","round","emotionWheel","subEmotions","circumplex","quadrants","emotions","_circumplex$quadrants","_circumplex$quadrants2","_circumplex$quadrants3","selectedEmotions","onEmotionChange","valenceArousalValue","onCircumplexChange","activeEmotion","setActiveEmotion","activeQuadrant","setActiveQuadrant","pointPosition","setPointPosition","left","getQuadrantFromValues","quadrantId","handleSubEmotionClick","subEmotion","isSelected","entries","emotion","handlePrimaryEmotionClick","rect","currentTarget","getBoundingClientRect","clientX","clientY","quadrant","background","q","_circumplex$quadrants4","handleEmotionSelect","InputField","label","touched","required","htmlFor","TextareaField","rows","CollapsibleSection","isOpen","onToggle","cursor","formData","setFormData","isLocked","needsData","openSections","setOpenSections","situation","resolution","handleChange","field","handleSectionToggle","sectionId","dataToSubmit","toLocaleDateString","reflectionName","emotionalResponse","triggers","selectedLevel","selectedNeeds","need","otherPerspective","resolutionIdeas","learnings","steps","currentStep","onStepClick","progressPercentage","step","completed","emotionAxes","valence","arousal","EmotionAxes","emotionAxesValues","onEmotionAxisChange","axis","EmotionWheel","onSelectEmotion","activeMainEmotion","setActiveMainEmotion","handleMainEmotionClick","EmotionCircumplex","onEmotionSelect","_ref5","onToggleEmotion","onAddCustomEmotion","onValenceArousalChange","customEmotion","setCustomEmotion","customInputRef","activeTab","setActiveTab","handleAddCustom","focus","useLocation","setCurrentStep","setSelectedEmotions","setIsLocked","setNeedsData","printRef","savedData","parsedData","dataToSave","handleNeedsSelected","handleSubmit","removeItem","handlePrint","print","FullscreenTool","ProgressTracker","stepId","renderStepContent","EmotionSelector","onContinue","NeedsAssessment","onNeedsSelected","ReflectionPrompts","needsText","MASLOW_LEVELS","emoji","bgColor","hoverBgColor","EMOTIONS","NeedsContainer","Title","h1","SectionTitle","h2","ContentSection","LevelsList","LevelItem","$active","$bgColor","$color","$hoverBgColor","LevelHeader","_templateObject7","LevelName","_templateObject8","LevelDescription","_templateObject9","EmotionsGrid","_templateObject10","EmotionButton","_templateObject11","_ref6","_ref7","NotesTextarea","textarea","_templateObject12","SubmitButton","_templateObject13","_ref8","setSelectedLevel","selectedEmotion","setSelectedEmotion","notes","setNotes","level","alert","_ref9","setSelectedNeeds","setNeedsText","handleLevelClick","getNeedsForLevel","n","handleNeedClick","GameBoard","onCanvasReady","ctx","clearRect","Controls","onDirectionChange","handleButtonPress","direction","fontLink","head","snake","glow","snakeHead","food","border","gridLines","gameOver","scoreBackground","highScore","minTileSize","maxTileSize","borderRadius","gridLineWidth","glowRadius","snakeSpeed","mobile","desktop","fadeSpeed","growthFactor","foodPulseSpeed","foodPulseScale","snakeGlowIntensity","shadowPulseSpeed","particleLifetime","particleSpeed","GAME_CONFIG","gridSize","initialSnakeLength","growthRate","maxHighScores","controls","up","down","right","pause","restart","touch","minDistance","maxTime","mobileBreakpoint","resizeDebounce","SOUND_CONFIG","volumes","move","muted","Number","NEGATIVE_INFINITY","getCanvasSize","containerWidth","maxPossibleCellSize","cellSize","GameContainer","ScoreDisplay","CurrentScore","HighScore","GameOverlay","visible","GameOverText","RestartButton","MuteButton","SoundManager","foodSynth","Tone","oscillator","envelope","attack","decay","sustain","release","toDestination","gameOverSynth","moveSynth","feedbackDelay","connect","setInitialVolumes","volume","initialize","log","playFoodCollect","triggerAttackRelease","playGameOver","playMove","setMuted","cleanup","dispose","soundManager","DirectionUtil","UP","DOWN","LEFT","RIGHT","isOpposite","dir1","dir2","getDirectionFromKey","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","getDirectionFromAngle","angle","DrawingUtil","withShadow","blur","save","restore","drawRect","options","SnakeScene","nextDirection","score","lastUpdate","particles","drawingUtil","scoreMultiplier","isGhostMode","currentHue","snakeHue","foodHue","gameSpeed","parseInt","avatar","Image","boundKeyHandler","create","canvasSize","initializeGame","setupInput","game","centerX","centerY","spawnFood","code","generateFoodPosition","isValidFoodPosition","some","segment","isCollision","newFood","pos1","pos2","moveSnake","unshift","pop","checkCollisions","drawGrid","isHead","segmentHue","glowIntensity","pulseScale","offset","beginPath","arc","drawImage","globalCompositeOperation","strokeStyle","lineWidth","pos","moveTo","lineTo","stroke","gameLoop","timestamp","_this$game","_this$game2","_this$game3","SnakeGame","sceneRef","soundManagerRef","setScore","setHighScore","setGameOver","isMuted","setIsMuted","checkMobile","toggleMute","newMuted","handleCanvasReady","then","onScoreChange","newScore","onGameOver","handleDirectionChange","handleRestart","ANIMATION_CONFIG","default","enter","exit","ease","variants","initial","GlobalStyle","createGlobalStyle","transitionDuration","transitionTiming","backdropBlur","borderColor","toggleSize","headerOffset","FullscreenIcon","ExitFullscreenIcon","FullscreenContent","motion","ToolContent","$isGame","ToggleButton","FullscreenWrapper","contentClassName","isGame","toolId","navigate","useNavigate","wrapperRef","contentRef","useVisibilityObserver","orientation","useScreenOrientation","handleFullscreen","AnimatePresence","$isVisible","$orientation","layout","whileHover","scale","whileTap","onExit","handleExit","handleEscKey","animations","fadeIn","keyframes","fullscreen","rotate","commonButtonStyles","css","FlexCenter","ErrorContainer","LoadingWrapper","LoadingFallback","repeat","Infinity","ErrorBoundary","super","handleRetry","hasError","errorInfo","getDerivedStateFromError","componentDidCatch","_this$state$error","message","ToolCard","tool","onSelect","inView","useInView","triggerOnce","Card","$isSelected","CardIcon","CardContent","CardTitle","CardDescription","_templateObject14","h3","_templateObject15","p","_templateObject16","ToolContainer","_templateObject17","ToolContentContainer","_templateObject18","_tools$","tools","lazy","keywords","preloadTools","hints","selectedTool","handleToolSelect","useToolTransition","initialTool","setSelectedTool","useKeyboardNavigation","currentIndex","findIndex","nextTool","prevTool","SelectedToolComponent","unobserve","setOrientation","updateOrientation","screen","AuthContext","createContext","setIsUnlocked","passwordParam","setShowIncorrectFeedback","setShowSuccessFeedback","audioRef","Provider","currentTime","loop","play","incorrectAudio","kind","srcLang","useContext","Error"],"sourceRoot":""}