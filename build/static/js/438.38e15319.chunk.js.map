{"version":3,"file":"static/js/438.38e15319.chunk.js","mappings":"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","sources":["pages/fun/TimelineBar.js","pages/fun/EventCard.js","pages/fun/friends.js"],"sourcesContent":["import React from \"react\";\r\n\r\nfunction TimelineBar({ first_year, event_bars, bar_height, bar_start }) {\r\n  let sub_bars = event_bars.map((bar, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"events__timeline__subbar\"\r\n      style={{ height: (bar[0] || 0) + \"%\", top: (bar[1] || 0) + \"%\" }}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"events__timeline\">\r\n      <p className=\"events__timeline__start\">{first_year}</p>\r\n      {sub_bars}\r\n      <div\r\n        className=\"events__timeline__bar\"\r\n        style={{ height: (bar_height || 0) + \"%\", top: (bar_start || 0) + \"%\" }}\r\n      />\r\n      <p className=\"events__timeline__now\">Now</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TimelineBar;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst EventCard = ({ event, activeCard, changeBarHeight, handleCardClick }) => {\r\n  const isActive = activeCard === event.slug;\r\n  const cardRef = useRef(null);\r\n  const [countdown, setCountdown] = useState(\"\");\r\n\r\n  const updateCountdown = useCallback(() => {\r\n    const currentTime = moment();\r\n    const timeToEvent = event._from.diff(currentTime);\r\n    if (timeToEvent > 0) {\r\n      setCountdown(\r\n        `Event starts in ${moment.duration(timeToEvent).humanize()}`\r\n      );\r\n    } else {\r\n      setCountdown(\"Event has started!\");\r\n    }\r\n  }, [event]);\r\n\r\n  useEffect(() => {\r\n    updateCountdown();\r\n    const intervalId = setInterval(updateCountdown, 60000);\r\n    return () => clearInterval(intervalId);\r\n  }, [event, updateCountdown]);\r\n\r\n  const changeHeight = useCallback(() => {\r\n    if (cardRef.current) {\r\n      changeBarHeight(cardRef.current);\r\n    }\r\n  }, [changeBarHeight]);\r\n\r\n  return (\r\n    <div\r\n      ref={cardRef}\r\n      className={`events__item ${isActive ? \"active\" : \"\"}`}\r\n      key={event.slug}\r\n      data-key={event.slug}\r\n      onMouseEnter={changeHeight}\r\n      onTouchStart={changeHeight}\r\n      onClick={() => handleCardClick(event.slug)}\r\n      data-barstart={event.bar_start}\r\n      data-barheight={String(event.bar_height)}\r\n    >\r\n      <img\r\n        src={event.image ? event.image : process.env.PUBLIC_URL + \"/frog.png\"}\r\n        alt={event.title}\r\n        style={{ width: \"100%\" }}\r\n      />\r\n      <p className=\"events__item__place\">\r\n        <i className=\"fa fa-map-marker-alt\" aria-hidden=\"true\" /> {event.place}\r\n      </p>\r\n      <h2>{event.title}</h2>\r\n      <p className=\"events__item__date\">\r\n        {event.date}, {event.time}\r\n      </p>\r\n      <p>{event.description}</p>\r\n      <p>{countdown}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventCard;\r\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { withGoogleSheets } from \"react-db-google-sheets\";\nimport TimelineBar from \"./TimelineBar\";\nimport EventCard from \"./EventCard\";\nimport \"../fun/friends.css\";\n\nconst Friends = ({ db }) => {\n  const [barHeight, setBarHeight] = useState(0);\n  const [barStart, setBarStart] = useState(0);\n  const [activeCard, setActiveCard] = useState();\n  const [events, setEvents] = useState([]);\n\n  useEffect(() => {\n    if (db && db[\"events\"]) {\n      const eventsData = db[\"events\"].map((row) => ({\n        title: row.title,\n        place: row.place,\n        date: row.date,\n        from: row.from,\n        to: row.to,\n        description: row.description,\n        image: row.image,\n        slug: `${row.title\n          .replace(/\\s+/g, \"-\")\n          .toLowerCase()}-${row.from.replace(/:/g, \"\")}`,\n      }));\n\n      eventsData.sort(\n        (a, b) => moment(a.from, \"HH:mm\") - moment(b.from, \"HH:mm\")\n      );\n      setEvents(eventsData);\n    }\n  }, [db]);\n\n  const currentTime = moment();\n  const currentDay = currentTime.format(\"dddd\");\n  const currentTimeFormatted = currentTime.format(\"h:mm a\");\n  const greeting = `Today is ${currentDay}, ${currentTimeFormatted}, and here's what you have planned:`;\n\n  let firstDate = moment();\n\n  events.forEach((event) => {\n    if (event) {\n      let toMoment = event.to ? moment(event.to, \"HH:mm\") : moment();\n      let fromMoment = moment(event.from, \"HH:mm\");\n      let duration = toMoment.diff(fromMoment, \"minutes\");\n      event[\"from\"] = fromMoment.format(\"HH:mm\");\n      event[\"to\"] = event.to ? toMoment.format(\"HH:mm\") : \"Now\";\n      event[\"_from\"] = fromMoment;\n      event[\"_to\"] = toMoment;\n      event[\"time\"] =\n        duration === 0 ? event.from : `${event.from} - ${event.to}`;\n      event[\"duration\"] = duration === 0 ? 1 : duration;\n\n      if (fromMoment.diff(firstDate) < 0) {\n        firstDate = fromMoment;\n      }\n    }\n  });\n\n  let timeSpan = moment().diff(firstDate, \"minutes\");\n  events.forEach((event) => {\n    event[\"bar_start\"] =\n      (100 * event._from.diff(firstDate, \"minutes\")) / timeSpan;\n    event[\"bar_height\"] = (100 * event.duration) / timeSpan;\n  });\n\n  let eventBars = events.map((event) => [event?.bar_height, event?.bar_start]);\n\n  const changeBarHeight = (element) => {\n    const barStart = element.getAttribute(\"data-barstart\");\n    const barHeight = element.getAttribute(\"data-barheight\");\n\n    if (barStart !== null && barHeight !== null) {\n      setBarStart(barStart);\n      setBarHeight(barHeight);\n    }\n  };\n\n  const handleCardClick = (slug) => {\n    setActiveCard(activeCard === slug ? null : slug);\n  };\n\n  return (\n    <div className=\"container\" id=\"events\">\n      <div className=\"container__content\">\n        <a\n          className=\"google-sheet-link\"\n          href=\"https://docs.google.com/spreadsheets/d/1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA/edit#gid=1802221480\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          View Google Sheet\n        </a>\n        <h1>Mario Comes to Portland!</h1>\n        <h2>{greeting}</h2>\n        <div className=\"events\">\n          <TimelineBar\n            first_year={firstDate.format(\"YYYY\")}\n            event_bars={eventBars}\n            bar_height={barHeight}\n            bar_start={barStart}\n          />\n          <div className=\"events__items\">\n            {events.map((event) => {\n              if (event) {\n                return (\n                  <EventCard\n                    key={event.slug}\n                    event={event}\n                    activeCard={activeCard}\n                    changeBarHeight={changeBarHeight}\n                    handleCardClick={handleCardClick}\n                  />\n                );\n              }\n              return null;\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withGoogleSheets(\"events\")(Friends);\n"],"names":["_ref","first_year","event_bars","bar_height","bar_start","sub_bars","map","bar","index","_jsx","className","style","height","top","_jsxs","children","event","activeCard","changeBarHeight","handleCardClick","isActive","slug","cardRef","useRef","_useState","useState","_useState2","_slicedToArray","countdown","setCountdown","updateCountdown","useCallback","currentTime","moment","timeToEvent","_from","diff","concat","humanize","useEffect","intervalId","setInterval","clearInterval","changeHeight","current","ref","onMouseEnter","onTouchStart","onClick","String","src","image","alt","title","width","place","date","time","description","withGoogleSheets","db","barHeight","setBarHeight","_useState3","_useState4","barStart","setBarStart","_useState5","_useState6","setActiveCard","_useState7","_useState8","events","setEvents","eventsData","row","from","to","replace","toLowerCase","sort","a","b","currentDay","format","currentTimeFormatted","greeting","firstDate","forEach","toMoment","fromMoment","duration","timeSpan","eventBars","element","getAttribute","id","href","target","rel","TimelineBar","EventCard"],"sourceRoot":""}