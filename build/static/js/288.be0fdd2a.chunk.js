/*! For license information please see 288.be0fdd2a.chunk.js.LICENSE.txt */
(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[288],{3998:function(t,e,n){!function(t,e,n,r){"use strict";var i=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},s=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},o=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var r=n.startTime,i=n.target,s=n.timeConstant;return i+(e-i)*Math.exp((r-t)/s)},u=function(t){return"exponentialRampToValue"===t.type},c=function(t){return"linearRampToValue"===t.type},h=function(t){return u(t)||c(t)},d=function(t){return"setValue"===t.type},p=function(t){return"setValueCurve"===t.type},f=function(t,e,n,r){var i=t[e];return void 0===i?r:h(i)||d(i)?i.value:p(i)?i.values[i.values.length-1]:l(n,f(t,e-1,i.startTime,r),i)},m=function(t,e,n,r,i){return void 0===n?[r.insertTime,i]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(t,e-1,n.startTime,i)]},g=function(t){return"cancelAndHold"===t.type},v=function(t){return"cancelScheduledValues"===t.type},y=function(t){return g(t)||v(t)?t.cancelTime:u(t)||c(t)?t.endTime:t.startTime},_=function(t,e,n,r){var i=r.endTime,s=r.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(i-e)):0},b=function(t,e,n,r){return n+(t-e)/(r.endTime-e)*(r.value-n)},w=function(t,e){var n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},x=function(t,e){var n=e.duration,r=e.startTime,i=e.values,s=(t-r)/n*(i.length-1);return w(i,s)},A=function(t){return"setTarget"===t.type},T=function(){function t(e){n(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return r(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=y(t);if(g(t)||v(t)){var n=this._automationEvents.findIndex((function(n){return v(t)&&p(n)?n.startTime+n.duration>=e:y(n)>=e})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&h(r)){if(void 0!==l&&A(l))throw new Error("The internal list is malformed.");var d=void 0===l?r.insertTime:p(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:p(l)?l.values[l.values.length-1]:l.value,m=u(r)?_(e,d,f,r):b(e,d,f,r),w=u(r)?i(m,e,this._currenTime):s(m,e,this._currenTime);this._automationEvents.push(w)}if(void 0!==l&&A(l)&&this._automationEvents.push(o(this.getValue(e),e)),void 0!==l&&p(l)&&l.startTime+l.duration>e){var x=e-l.startTime,T=(l.values.length-1)/l.duration,S=Math.max(2,1+Math.ceil(x*T)),E=x/(S-1)*T,C=l.values.slice(0,S);if(E<1)for(var M=1;M<S;M+=1){var k=E*M%1;C[M]=l.values[M-1]*(1-k)+l.values[M]*k}this._automationEvents[this._automationEvents.length-1]=a(C,l.startTime,x)}}}else{var O=this._automationEvents.findIndex((function(t){return y(t)>e})),D=-1===O?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[O-1];if(void 0!==D&&p(D)&&y(D)+D.duration>e)return!1;var P=u(t)?i(t.value,t.endTime,this._currenTime):c(t)?s(t.value,e,this._currenTime):t;if(-1===O)this._automationEvents.push(P);else{if(p(t)&&e+t.duration>y(this._automationEvents[O]))return!1;this._automationEvents.splice(O,0,P)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return y(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),r=n[0];A(r)&&n.unshift(o(f(this._automationEvents,e-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return y(e)>t})),r=this._automationEvents[n],i=(-1===n?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(void 0!==s&&A(s)&&(void 0===r||!h(r)||r.insertTime>t))return l(t,f(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(void 0!==s&&d(s)&&(void 0===r||!h(r)))return s.value;if(void 0!==s&&p(s)&&(void 0===r||!h(r)||s.startTime+s.duration>t))return t<s.startTime+s.duration?x(t,s):s.values[s.values.length-1];if(void 0!==s&&h(s)&&(void 0===r||!h(r)))return s.value;if(void 0!==r&&u(r)){var o=m(this._automationEvents,i,s,r,this._defaultValue),a=e(o,2),g=a[0],v=a[1];return _(t,g,v,r)}if(void 0!==r&&c(r)){var w=m(this._automationEvents,i,s,r,this._defaultValue),T=e(w,2),S=T[0],E=T[1];return b(t,S,E,r)}return this._defaultValue}}])}(),S=function(t){return{cancelTime:t,type:"cancelAndHold"}},E=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},C=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},M=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},k=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}};t.AutomationEventList=T,t.createCancelAndHoldAutomationEvent=S,t.createCancelScheduledValuesAutomationEvent=E,t.createExponentialRampToValueAutomationEvent=C,t.createLinearRampToValueAutomationEvent=M,t.createSetTargetAutomationEvent=k,t.createSetValueAutomationEvent=o,t.createSetValueCurveAutomationEvent=a}(e,n(5715),n(7383),n(4579))},7685:(t,e,n)=>{var r=n(7937)(n(6552),"DataView");t.exports=r},8724:(t,e,n)=>{var r=n(7615),i=n(5051),s=n(2154),o=n(8734),a=n(2662);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},7160:(t,e,n)=>{var r=n(7563),i=n(9935),s=n(4190),o=n(1946),a=n(1714);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},5204:(t,e,n)=>{var r=n(7937)(n(6552),"Map");t.exports=r},4816:(t,e,n)=>{var r=n(7251),i=n(7159),s=n(438),o=n(9394),a=n(6874);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,t.exports=l},5387:(t,e,n)=>{var r=n(7937)(n(6552),"Promise");t.exports=r},2070:(t,e,n)=>{var r=n(7937)(n(6552),"Set");t.exports=r},8902:(t,e,n)=>{var r=n(4816),i=n(6179),s=n(6704);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,t.exports=o},5538:(t,e,n)=>{var r=n(7160),i=n(4545),s=n(793),o=n(7760),a=n(3892),l=n(6788);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,t.exports=u},9812:(t,e,n)=>{var r=n(6552).Symbol;t.exports=r},2929:(t,e,n)=>{var r=n(6552).Uint8Array;t.exports=r},6600:(t,e,n)=>{var r=n(7937)(n(6552),"WeakMap");t.exports=r},7529:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}},3204:(t,e,n)=>{var r=n(3343),i=n(2777),s=n(4052),o=n(4543),a=n(9194),l=n(1268),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=s(t),c=!n&&i(t),h=!n&&!c&&o(t),d=!n&&!c&&!h&&l(t),p=n||c||h||d,f=p?r(t.length,String):[],m=f.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},149:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},8895:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2587:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},1340:(t,e,n)=>{var r=n(3211);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},5652:(t,e,n)=>{var r=n(4664),i=n(6516)(r);t.exports=i},755:(t,e,n)=>{var r=n(8895),i=n(7116);t.exports=function t(e,n,s,o,a){var l=-1,u=e.length;for(s||(s=i),a||(a=[]);++l<u;){var c=e[l];n>0&&s(c)?n>1?t(c,n-1,s,o,a):r(a,c):o||(a[a.length]=c)}return a}},4258:(t,e,n)=>{var r=n(5906)();t.exports=r},4664:(t,e,n)=>{var r=n(4258),i=n(8673);t.exports=function(t,e){return t&&r(t,e,i)}},2969:(t,e,n)=>{var r=n(5324),i=n(914);t.exports=function(t,e){for(var n=0,s=(e=r(e,t)).length;null!=t&&n<s;)t=t[i(e[n++])];return n&&n==s?t:void 0}},4262:(t,e,n)=>{var r=n(8895),i=n(4052);t.exports=function(t,e,n){var s=e(t);return i(t)?s:r(s,n(t))}},6913:(t,e,n)=>{var r=n(9812),i=n(4552),s=n(6095),o=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):s(t)}},7894:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},5193:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},6989:(t,e,n)=>{var r=n(6399),i=n(2761);t.exports=function t(e,n,s,o,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,s,o,t,a))}},6399:(t,e,n)=>{var r=n(5538),i=n(3668),s=n(9987),o=n(5752),a=n(6924),l=n(4052),u=n(4543),c=n(1268),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,v){var y=l(t),_=l(e),b=y?d:a(t),w=_?d:a(e),x=(b=b==h?p:b)==p,A=(w=w==h?p:w)==p,T=b==w;if(T&&u(t)){if(!u(e))return!1;y=!0,x=!1}if(T&&!x)return v||(v=new r),y||c(t)?i(t,e,n,m,g,v):s(t,e,b,n,m,g,v);if(!(1&n)){var S=x&&f.call(t,"__wrapped__"),E=A&&f.call(e,"__wrapped__");if(S||E){var C=S?t.value():t,M=E?e.value():e;return v||(v=new r),g(C,M,n,m,v)}}return!!T&&(v||(v=new r),o(t,e,n,m,g,v))}},6532:(t,e,n)=>{var r=n(5538),i=n(6989);t.exports=function(t,e,n,s){var o=n.length,a=o,l=!s;if(null==t)return!a;for(t=Object(t);o--;){var u=n[o];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=n[o])[0],h=t[c],d=u[1];if(l&&u[2]){if(void 0===h&&!(c in t))return!1}else{var p=new r;if(s)var f=s(h,d,c,t,e,p);if(!(void 0===f?i(d,h,3,s,p):f))return!1}}return!0}},6954:(t,e,n)=>{var r=n(1629),i=n(7857),s=n(6686),o=n(6996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||i(t))&&(r(t)?d:a).test(o(t))}},5428:(t,e,n)=>{var r=n(6913),i=n(6173),s=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&i(t.length)&&!!o[r(t)]}},9096:(t,e,n)=>{var r=n(9256),i=n(5029),s=n(3279),o=n(4052),a=n(3932);t.exports=function(t){return"function"==typeof t?t:null==t?s:"object"==typeof t?o(t)?i(t[0],t[1]):r(t):a(t)}},3713:(t,e,n)=>{var r=n(6140),i=n(1143),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8883:(t,e,n)=>{var r=n(5652),i=n(6571);t.exports=function(t,e){var n=-1,s=i(t)?Array(t.length):[];return r(t,(function(t,r,i){s[++n]=e(t,r,i)})),s}},9256:(t,e,n)=>{var r=n(6532),i=n(3781),s=n(1310);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?s(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},5029:(t,e,n)=>{var r=n(6989),i=n(3097),s=n(3366),o=n(2597),a=n(9417),l=n(1310),u=n(914);t.exports=function(t,e){return o(t)&&a(e)?l(u(t),e):function(n){var o=i(n,t);return void 0===o&&o===e?s(n,t):r(e,o,3)}}},396:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},2866:(t,e,n)=>{var r=n(2969);t.exports=function(t){return function(e){return r(e,t)}}},3343:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},8541:(t,e,n)=>{var r=n(9812),i=n(149),s=n(4052),o=n(9841),a=r?r.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return i(e,t)+"";if(o(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7574:t=>{t.exports=function(t){return function(e){return t(e)}}},8114:t=>{t.exports=function(t,e){return t.has(e)}},5324:(t,e,n)=>{var r=n(4052),i=n(2597),s=n(4079),o=n(1069);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:s(o(t))}},3440:(t,e,n)=>{var r=n(6552)["__core-js_shared__"];t.exports=r},6516:(t,e,n)=>{var r=n(6571);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var s=n.length,o=e?s:-1,a=Object(n);(e?o--:++o<s)&&!1!==i(a[o],o,a););return n}}},5906:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(!1===n(s[l],l,s))break}return e}}},3668:(t,e,n)=>{var r=n(8902),i=n(2587),s=n(8114);t.exports=function(t,e,n,o,a,l){var u=1&n,c=t.length,h=e.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(t),p=l.get(e);if(d&&p)return d==e&&p==t;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++f<c;){var v=t[f],y=e[f];if(o)var _=u?o(y,v,f,e,t,l):o(v,y,f,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!i(e,(function(t,e){if(!s(g,e)&&(v===t||a(v,t,n,o,l)))return g.push(e)}))){m=!1;break}}else if(v!==y&&!a(v,y,n,o,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},9987:(t,e,n)=>{var r=n(9812),i=n(2929),s=n(3211),o=n(3668),a=n(4160),l=n(2074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),t.size!=e.size&&!f)return!1;var m=d.get(t);if(m)return m==e;r|=2,d.set(t,e);var g=o(p(t),p(e),r,u,h,d);return d.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},5752:(t,e,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,o,a){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var h=c;h--;){var d=u[h];if(!(l?d in e:i.call(e,d)))return!1}var p=a.get(t),f=a.get(e);if(p&&f)return p==e&&f==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=l;++h<c;){var v=t[d=u[h]],y=e[d];if(s)var _=l?s(y,v,d,e,t,a):s(v,y,d,t,e,a);if(!(void 0===_?v===y||o(v,y,n,s,a):_)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(t),a.delete(e),m}},7105:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},9395:(t,e,n)=>{var r=n(4262),i=n(9621),s=n(8673);t.exports=function(t){return r(t,s,i)}},2622:(t,e,n)=>{var r=n(705);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},3781:(t,e,n)=>{var r=n(9417),i=n(8673);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var s=e[n],o=t[s];e[n]=[s,o,r(o)]}return e}},7937:(t,e,n)=>{var r=n(6954),i=n(4657);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},4552:(t,e,n)=>{var r=n(9812),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(l){}var i=o.call(t);return r&&(e?t[a]=n:delete t[a]),i}},9621:(t,e,n)=>{var r=n(7529),i=n(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(t){return null==t?[]:(t=Object(t),r(o(t),(function(e){return s.call(t,e)})))}:i;t.exports=a},6924:(t,e,n)=>{var r=n(7685),i=n(5204),s=n(5387),o=n(2070),a=n(6600),l=n(6913),u=n(6996),c="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",m=u(r),g=u(i),v=u(s),y=u(o),_=u(a),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=c||s&&b(s.resolve())!=h||o&&b(new o)!=d||a&&b(new a)!=p)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case g:return c;case v:return h;case y:return d;case _:return p}return e}),t.exports=b},4657:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},9057:(t,e,n)=>{var r=n(5324),i=n(2777),s=n(4052),o=n(9194),a=n(6173),l=n(914);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,h=!1;++u<c;){var d=l(e[u]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&a(c)&&o(d,c)&&(s(t)||i(t))}},7615:(t,e,n)=>{var r=n(5575);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2154:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},8734:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},2662:(t,e,n)=>{var r=n(5575);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},7116:(t,e,n)=>{var r=n(9812),i=n(2777),s=n(4052),o=r?r.isConcatSpreadable:void 0;t.exports=function(t){return s(t)||i(t)||!!(o&&t&&t[o])}},9194:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},2597:(t,e,n)=>{var r=n(4052),i=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(o.test(t)||!s.test(t)||null!=e&&t in Object(e))}},705:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},7857:(t,e,n)=>{var r=n(3440),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},6140:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9417:(t,e,n)=>{var r=n(6686);t.exports=function(t){return t===t&&!r(t)}},7563:t=>{t.exports=function(){this.__data__=[],this.size=0}},9935:(t,e,n)=>{var r=n(1340),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4190:(t,e,n)=>{var r=n(1340);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},1946:(t,e,n)=>{var r=n(1340);t.exports=function(t){return r(this.__data__,t)>-1}},1714:(t,e,n)=>{var r=n(1340);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},7251:(t,e,n)=>{var r=n(8724),i=n(7160),s=n(5204);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},7159:(t,e,n)=>{var r=n(2622);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},438:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).get(t)}},9394:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).has(t)}},6874:(t,e,n)=>{var r=n(2622);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},4160:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},1310:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},8259:(t,e,n)=>{var r=n(5797);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},5575:(t,e,n)=>{var r=n(7937)(Object,"create");t.exports=r},1143:(t,e,n)=>{var r=n(3028)(Object.keys,Object);t.exports=r},6832:(t,e,n)=>{t=n.nmd(t);var r=n(7105),i=e&&!e.nodeType&&e,s=i&&t&&!t.nodeType&&t,o=s&&s.exports===i&&r.process,a=function(){try{var t=s&&s.require&&s.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=a},6095:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},3028:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},6552:(t,e,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();t.exports=s},6179:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},6704:t=>{t.exports=function(t){return this.__data__.has(t)}},2074:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},4545:(t,e,n)=>{var r=n(7160);t.exports=function(){this.__data__=new r,this.size=0}},793:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7760:t=>{t.exports=function(t){return this.__data__.get(t)}},3892:t=>{t.exports=function(t){return this.__data__.has(t)}},6788:(t,e,n)=>{var r=n(7160),i=n(5204),s=n(4816);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(t,e),this.size=n.size,this}},4079:(t,e,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)})),e}));t.exports=o},914:(t,e,n)=>{var r=n(9841);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},6996:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},3211:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},3538:(t,e,n)=>{var r=n(755),i=n(3411);t.exports=function(t,e){return r(i(t,e),1)}},3097:(t,e,n)=>{var r=n(2969);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},3366:(t,e,n)=>{var r=n(7894),i=n(9057);t.exports=function(t,e){return null!=t&&i(t,e,r)}},3279:t=>{t.exports=function(t){return t}},2777:(t,e,n)=>{var r=n(5193),i=n(2761),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},4052:t=>{var e=Array.isArray;t.exports=e},6571:(t,e,n)=>{var r=n(1629),i=n(6173);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4543:(t,e,n)=>{t=n.nmd(t);var r=n(6552),i=n(14),s=e&&!e.nodeType&&e,o=s&&t&&!t.nodeType&&t,a=o&&o.exports===s?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;t.exports=l},1629:(t,e,n)=>{var r=n(6913),i=n(6686);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},6173:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6686:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2761:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},9841:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},1268:(t,e,n)=>{var r=n(5428),i=n(7574),s=n(6832),o=s&&s.isTypedArray,a=o?i(o):r;t.exports=a},8673:(t,e,n)=>{var r=n(3204),i=n(3713),s=n(6571);t.exports=function(t){return s(t)?r(t):i(t)}},3411:(t,e,n)=>{var r=n(149),i=n(9096),s=n(8883),o=n(4052);t.exports=function(t,e){return(o(t)?r:s)(t,i(e,3))}},5797:(t,e,n)=>{var r=n(4816);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},3932:(t,e,n)=>{var r=n(396),i=n(2866),s=n(2597),o=n(914);t.exports=function(t){return s(t)?r(o(t)):i(t)}},7828:t=>{t.exports=function(){return[]}},14:t=>{t.exports=function(){return!1}},1069:(t,e,n)=>{var r=n(8541);t.exports=function(t){return null==t?"":r(t)}},6178:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function i(t){e=t}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,r=[],i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function p(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return Xn(t,e,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function v(t){var e=null,r=!1,i=t._d&&!isNaN(t._d.getTime());return i&&(e=g(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)),null!=Object.isFrozen&&Object.isFrozen(t)?i:(t._isValid=i,t._isValid)}function y(t){var e=f(NaN);return null!=t?p(g(e),t):g(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var _=r.momentProperties=[],b=!1;function w(t,e){var n,r,i,s=_.length;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=g(e)),u(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)u(i=e[r=_[n]])||(t[r]=i);return t}function x(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function A(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function T(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,s,o,l=[],u=arguments.length;for(s=0;s<u;s++){if(i="","object"===typeof arguments[s]){for(o in i+="\n["+s+"] ",arguments[0])a(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];l.push(i)}T(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var E,C={};function M(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),C[t]||(T(e),C[t]=!0)}function k(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t){var e,n;for(n in t)a(t,n)&&(k(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(t,e){var n,r=p({},t);for(n in e)a(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},p(r[n],t[n]),p(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)a(t,n)&&!a(e,n)&&o(t[n])&&(r[n]=p({},r[n]));return r}function P(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return k(r)?r.call(e,n):r}function N(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},L={};function B(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(L[t]=i),e&&(L[e[0]]=function(){return N(i.apply(this,arguments),e[1],e[2])}),n&&(L[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e,n,r=t.match(I);for(e=0,n=r.length;e<n;e++)L[r[e]]?r[e]=L[r[e]]:r[e]=U(r[e]);return function(e){var i,s="";for(i=0;i<n;i++)s+=k(r[i])?r[i].call(e,t):r[i];return s}}function Y(t,e){return t.isValid()?(e=q(e,t.localeData()),j[e]=j[e]||W(e),j[e](t)):t.localeData().invalidDate()}function q(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(V.lastIndex=0;n>=0&&V.test(t);)t=t.replace(V,r),V.lastIndex=0,n-=1;return t}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function z(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(I).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var H="Invalid date";function X(){return this._invalidDate}var Z="%d",K=/\d{1,2}/;function $(t){return this._ordinal.replace("%d",t)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(t,e,n,r){var i=this._relativeTime[n];return k(i)?i(t,e,n,r):i.replace(/%d/i,t)}function tt(t,e){var n=this._relativeTime[t>0?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)}var et={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nt(t){return"string"===typeof t?et[t]||et[t.toLowerCase()]:void 0}function rt(t){var e,n,r={};for(n in t)a(t,n)&&(e=nt(n))&&(r[e]=t[n]);return r}var it={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function st(t){var e,n=[];for(e in t)a(t,e)&&n.push({unit:e,priority:it[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}var ot,at=/\d/,lt=/\d\d/,ut=/\d{3}/,ct=/\d{4}/,ht=/[+-]?\d{6}/,dt=/\d\d?/,pt=/\d\d\d\d?/,ft=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,gt=/\d{1,4}/,vt=/[+-]?\d{1,6}/,yt=/\d+/,_t=/[+-]?\d+/,bt=/Z|[+-]\d\d:?\d\d/gi,wt=/Z|[+-]\d\d(?::?\d\d)?/gi,xt=/[+-]?\d+(\.\d{1,3})?/,At=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Tt=/^[1-9]\d?/,St=/^([1-9]\d|\d)/;function Et(t,e,n){ot[t]=k(e)?e:function(t,r){return t&&n?n:e}}function Ct(t,e){return a(ot,t)?ot[t](e._strict,e._locale):new RegExp(Mt(t))}function Mt(t){return kt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i})))}function kt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ot(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Dt(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=Ot(e)),n}ot={};var Pt={};function Rt(t,e){var n,r,i=e;for("string"===typeof t&&(t=[t]),c(e)&&(i=function(t,n){n[e]=Dt(t)}),r=t.length,n=0;n<r;n++)Pt[t[n]]=i}function Ft(t,e){Rt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function Nt(t,e,n){null!=e&&a(Pt,t)&&Pt[t](e,n._a,n,t)}function It(t){return t%4===0&&t%100!==0||t%400===0}var Vt=0,jt=1,Lt=2,Bt=3,Ut=4,Wt=5,Yt=6,qt=7,Gt=8;function zt(t){return It(t)?366:365}B("Y",0,0,(function(){var t=this.year();return t<=9999?N(t,4):"+"+t})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),Et("Y",_t),Et("YY",dt,lt),Et("YYYY",gt,ct),Et("YYYYY",vt,ht),Et("YYYYYY",vt,ht),Rt(["YYYYY","YYYYYY"],Vt),Rt("YYYY",(function(t,e){e[Vt]=2===t.length?r.parseTwoDigitYear(t):Dt(t)})),Rt("YY",(function(t,e){e[Vt]=r.parseTwoDigitYear(t)})),Rt("Y",(function(t,e){e[Vt]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return Dt(t)+(Dt(t)>68?1900:2e3)};var Ht,Xt=Kt("FullYear",!0);function Zt(){return It(this.year())}function Kt(t,e){return function(n){return null!=n?(Qt(this,t,n),r.updateOffset(this,e),this):$t(this,t)}}function $t(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qt(t,e,n){var r,i,s,o,a;if(t.isValid()&&!isNaN(n)){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=29!==(a=t.date())||1!==o||It(s)?a:28,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function Jt(t){return k(this[t=nt(t)])?this[t]():this}function te(t,e){if("object"===typeof t){var n,r=st(t=rt(t)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(k(this[t=nt(t)]))return this[t](e);return this}function ee(t,e){return(t%e+e)%e}function ne(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ee(e,12);return t+=(e-n)/12,1===n?It(t)?29:28:31-n%7%2}Ht=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),B("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Et("M",dt,Tt),Et("MM",dt,lt),Et("MMM",(function(t,e){return e.monthsShortRegex(t)})),Et("MMMM",(function(t,e){return e.monthsRegex(t)})),Rt(["M","MM"],(function(t,e){e[jt]=Dt(t)-1})),Rt(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[jt]=i:g(n).invalidMonth=t}));var re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,oe=At,ae=At;function le(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||se).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone}function ue(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[se.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ce(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Ht.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ht.call(this._longMonthsParse,o))?i:null:"MMM"===e?-1!==(i=Ht.call(this._shortMonthsParse,o))||-1!==(i=Ht.call(this._longMonthsParse,o))?i:null:-1!==(i=Ht.call(this._longMonthsParse,o))||-1!==(i=Ht.call(this._shortMonthsParse,o))?i:null}function he(t,e,n){var r,i,s;if(this._monthsParseExact)return ce.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function de(t,e){if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=Dt(e);else if(!c(e=t.localeData().monthsParse(e)))return t;var n=e,r=t.date();return r=r<29?r:Math.min(r,ne(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function pe(t){return null!=t?(de(this,t),r.updateOffset(this,!0),this):$t(this,"Month")}function fe(){return ne(this.year(),this.month())}function me(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ve.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=oe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ve.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ae),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ve(){function t(t,e){return e.length-t.length}var e,n,r,i,s=[],o=[],a=[];for(e=0;e<12;e++)n=f([2e3,e]),r=kt(this.monthsShort(n,"")),i=kt(this.months(n,"")),s.push(r),o.push(i),a.push(i),a.push(r);s.sort(t),o.sort(t),a.sort(t),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ye(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function _e(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function be(t,e,n){var r=7+e-n;return-(7+_e(t,0,r).getUTCDay()-e)%7+r-1}function we(t,e,n,r,i){var s,o,a=1+7*(e-1)+(7+n-r)%7+be(t,r,i);return a<=0?o=zt(s=t-1)+a:a>zt(t)?(s=t+1,o=a-zt(t)):(s=t,o=a),{year:s,dayOfYear:o}}function xe(t,e,n){var r,i,s=be(t.year(),e,n),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?r=o+Ae(i=t.year()-1,e,n):o>Ae(t.year(),e,n)?(r=o-Ae(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function Ae(t,e,n){var r=be(t,e,n),i=be(t+1,e,n);return(zt(t)-r+i)/7}function Te(t){return xe(t,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),Et("w",dt,Tt),Et("ww",dt,lt),Et("W",dt,Tt),Et("WW",dt,lt),Ft(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=Dt(t)}));var Se={dow:0,doy:6};function Ee(){return this._week.dow}function Ce(){return this._week.doy}function Me(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ke(t){var e=xe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Oe(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function De(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pe(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("d",0,"do","day"),B("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),B("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),B("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),Et("d",dt),Et("e",dt),Et("E",dt),Et("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Et("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Et("dddd",(function(t,e){return e.weekdaysRegex(t)})),Ft(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t})),Ft(["d","e","E"],(function(t,e,n,r){e[r]=Dt(t)}));var Re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ne="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ie=At,Ve=At,je=At;function Le(t,e){var n=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Pe(n,this._week.dow):t?n[t.day()]:n}function Be(t){return!0===t?Pe(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ue(t){return!0===t?Pe(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function We(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Ht.call(this._weekdaysParse,o))?i:null:"ddd"===e?-1!==(i=Ht.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ht.call(this._minWeekdaysParse,o))?i:null:"dddd"===e?-1!==(i=Ht.call(this._weekdaysParse,o))||-1!==(i=Ht.call(this._shortWeekdaysParse,o))||-1!==(i=Ht.call(this._minWeekdaysParse,o))?i:null:"ddd"===e?-1!==(i=Ht.call(this._shortWeekdaysParse,o))||-1!==(i=Ht.call(this._weekdaysParse,o))||-1!==(i=Ht.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ht.call(this._minWeekdaysParse,o))||-1!==(i=Ht.call(this._weekdaysParse,o))||-1!==(i=Ht.call(this._shortWeekdaysParse,o))?i:null}function Ye(t,e,n){var r,i,s;if(this._weekdaysParseExact)return We.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function qe(t){if(!this.isValid())return null!=t?this:NaN;var e=$t(this,"Day");return null!=t?(t=Oe(t,this.localeData()),this.add(t-e,"d")):e}function Ge(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ze(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=De(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function He(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ie),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xe(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ze(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=je),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ke(){function t(t,e){return e.length-t.length}var e,n,r,i,s,o=[],a=[],l=[],u=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=kt(this.weekdaysMin(n,"")),i=kt(this.weekdaysShort(n,"")),s=kt(this.weekdays(n,"")),o.push(r),a.push(i),l.push(s),u.push(r),u.push(i),u.push(s);o.sort(t),a.sort(t),l.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $e(){return this.hours()%12||12}function Qe(){return this.hours()||24}function Je(t,e){B(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,$e),B("k",["kk",2],0,Qe),B("hmm",0,0,(function(){return""+$e.apply(this)+N(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+$e.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Je("a",!0),Je("A",!1),Et("a",tn),Et("A",tn),Et("H",dt,St),Et("h",dt,Tt),Et("k",dt,Tt),Et("HH",dt,lt),Et("hh",dt,lt),Et("kk",dt,lt),Et("hmm",pt),Et("hmmss",ft),Et("Hmm",pt),Et("Hmmss",ft),Rt(["H","HH"],Bt),Rt(["k","kk"],(function(t,e,n){var r=Dt(t);e[Bt]=24===r?0:r})),Rt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Rt(["h","hh"],(function(t,e,n){e[Bt]=Dt(t),g(n).bigHour=!0})),Rt("hmm",(function(t,e,n){var r=t.length-2;e[Bt]=Dt(t.substr(0,r)),e[Ut]=Dt(t.substr(r)),g(n).bigHour=!0})),Rt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Bt]=Dt(t.substr(0,r)),e[Ut]=Dt(t.substr(r,2)),e[Wt]=Dt(t.substr(i)),g(n).bigHour=!0})),Rt("Hmm",(function(t,e,n){var r=t.length-2;e[Bt]=Dt(t.substr(0,r)),e[Ut]=Dt(t.substr(r))})),Rt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Bt]=Dt(t.substr(0,r)),e[Ut]=Dt(t.substr(r,2)),e[Wt]=Dt(t.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=Kt("Hours",!0);function sn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var on,an={calendar:R,longDateFormat:G,invalidDate:H,ordinal:Z,dayOfMonthOrdinalParse:K,relativeTime:Q,months:re,monthsShort:ie,week:Se,weekdays:Re,weekdaysMin:Ne,weekdaysShort:Fe,meridiemParse:nn},ln={},un={};function cn(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function hn(t){return t?t.toLowerCase().replace("_","-"):t}function dn(t){for(var e,n,r,i,s=0;s<t.length;){for(e=(i=hn(t[s]).split("-")).length,n=(n=hn(t[s+1]))?n.split("-"):null;e>0;){if(r=fn(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&cn(i,n)>=e-1)break;e--}s++}return on}function pn(t){return!(!t||!t.match("^[^/\\\\]*$"))}function fn(e){var n=null;if(void 0===ln[e]&&t&&t.exports&&pn(e))try{n=on._abbr,Object(function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}()),mn(n)}catch(r){ln[e]=null}return ln[e]}function mn(t,e){var n;return t&&((n=u(e)?yn(t):gn(t,e))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),on._abbr}function gn(t,e){if(null!==e){var n,r=an;if(e.abbr=t,null!=ln[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[t]._config;else if(null!=e.parentLocale)if(null!=ln[e.parentLocale])r=ln[e.parentLocale]._config;else{if(null==(n=fn(e.parentLocale)))return un[e.parentLocale]||(un[e.parentLocale]=[]),un[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ln[t]=new P(D(r,e)),un[t]&&un[t].forEach((function(t){gn(t.name,t.config)})),mn(t),ln[t]}return delete ln[t],null}function vn(t,e){if(null!=e){var n,r,i=an;null!=ln[t]&&null!=ln[t].parentLocale?ln[t].set(D(ln[t]._config,e)):(null!=(r=fn(t))&&(i=r._config),e=D(i,e),null==r&&(e.abbr=t),(n=new P(e)).parentLocale=ln[t],ln[t]=n),mn(t)}else null!=ln[t]&&(null!=ln[t].parentLocale?(ln[t]=ln[t].parentLocale,t===mn()&&mn(t)):null!=ln[t]&&delete ln[t]);return ln[t]}function yn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return on;if(!s(t)){if(e=fn(t))return e;t=[t]}return dn(t)}function _n(){return E(ln)}function bn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[jt]<0||n[jt]>11?jt:n[Lt]<1||n[Lt]>ne(n[Vt],n[jt])?Lt:n[Bt]<0||n[Bt]>24||24===n[Bt]&&(0!==n[Ut]||0!==n[Wt]||0!==n[Yt])?Bt:n[Ut]<0||n[Ut]>59?Ut:n[Wt]<0||n[Wt]>59?Wt:n[Yt]<0||n[Yt]>999?Yt:-1,g(t)._overflowDayOfYear&&(e<Vt||e>Lt)&&(e=Lt),g(t)._overflowWeeks&&-1===e&&(e=qt),g(t)._overflowWeekday&&-1===e&&(e=Gt),g(t).overflow=e),t}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,An=/Z|[+-]\d\d(?::?\d\d)?/,Tn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kn(t){var e,n,r,i,s,o,a=t._i,l=wn.exec(a)||xn.exec(a),u=Tn.length,c=Sn.length;if(l){for(g(t).iso=!0,e=0,n=u;e<n;e++)if(Tn[e][1].exec(l[1])){i=Tn[e][0],r=!1!==Tn[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=c;e<n;e++)if(Sn[e][1].exec(l[3])){s=(l[2]||" ")+Sn[e][0];break}if(null==s)return void(t._isValid=!1)}if(!r&&null!=s)return void(t._isValid=!1);if(l[4]){if(!An.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(s||"")+(o||""),Un(t)}else t._isValid=!1}function On(t,e,n,r,i,s){var o=[Dn(t),ie.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Dn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Pn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(t,e,n){return!t||Fe.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Fn(t,e,n){if(t)return Mn[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Nn(t){var e,n=Cn.exec(Pn(t._i));if(n){if(e=On(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],e,t))return;t._a=e,t._tzm=Fn(n[8],n[9],n[10]),t._d=_e.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function In(t){var e=En.exec(t._i);null===e?(kn(t),!1===t._isValid&&(delete t._isValid,Nn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Vn(t,e,n){return null!=t?t:null!=e?e:n}function jn(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Ln(t){var e,n,r,i,s,o=[];if(!t._d){for(r=jn(t),t._w&&null==t._a[Lt]&&null==t._a[jt]&&Bn(t),null!=t._dayOfYear&&(s=Vn(t._a[Vt],r[Vt]),(t._dayOfYear>zt(s)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=_e(s,0,t._dayOfYear),t._a[jt]=n.getUTCMonth(),t._a[Lt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Bt]&&0===t._a[Ut]&&0===t._a[Wt]&&0===t._a[Yt]&&(t._nextDay=!0,t._a[Bt]=0),t._d=(t._useUTC?_e:ye).apply(null,o),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Bt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(g(t).weekdayMismatch=!0)}}function Bn(t){var e,n,r,i,s,o,a,l,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(s=1,o=4,n=Vn(e.GG,t._a[Vt],xe(Zn(),1,4).year),r=Vn(e.W,1),((i=Vn(e.E,1))<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=xe(Zn(),s,o),n=Vn(e.gg,t._a[Vt],u.year),r=Vn(e.w,u.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Ae(n,s,o)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(a=we(n,r,i,s,o),t._a[Vt]=a.year,t._dayOfYear=a.dayOfYear)}function Un(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],g(t).empty=!0;var e,n,i,s,o,a,l,u=""+t._i,c=u.length,h=0;for(l=(i=q(t._f,t._locale).match(I)||[]).length,e=0;e<l;e++)s=i[e],(n=(u.match(Ct(s,t))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&g(t).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),h+=n.length),L[s]?(n?g(t).empty=!1:g(t).unusedTokens.push(s),Nt(s,n,t)):t._strict&&!n&&g(t).unusedTokens.push(s);g(t).charsLeftOver=c-h,u.length>0&&g(t).unusedInput.push(u),t._a[Bt]<=12&&!0===g(t).bigHour&&t._a[Bt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Bt]=Wn(t._locale,t._a[Bt],t._meridiem),null!==(a=g(t).era)&&(t._a[Vt]=t._locale.erasConvertYear(a,t._a[Vt])),Ln(t),bn(t)}else Nn(t);else kn(t)}function Wn(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Yn(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(0===l)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<l;i++)s=0,o=!1,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Un(e),v(e)&&(o=!0),s+=g(e).charsLeftOver,s+=10*g(e).unusedTokens.length,g(e).score=s,a?s<r&&(r=s,n=e):(null==r||s<r||o)&&(r=s,n=e,o&&(a=!0));p(t,n||e)}function qn(t){if(!t._d){var e=rt(t._i),n=void 0===e.day?e.date:e.day;t._a=d([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Ln(t)}}function Gn(t){var e=new x(bn(zn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function zn(t){var e=t._i,n=t._f;return t._locale=t._locale||yn(t._l),null===e||void 0===n&&""===e?y({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),A(e)?new x(bn(e)):(h(e)?t._d=e:s(n)?Yn(t):n?Un(t):Hn(t),v(t)||(t._d=null),t))}function Hn(t){var e=t._i;u(e)?t._d=new Date(r.now()):h(e)?t._d=new Date(e.valueOf()):"string"===typeof e?In(t):s(e)?(t._a=d(e.slice(0),(function(t){return parseInt(t,10)})),Ln(t)):o(e)?qn(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Xn(t,e,n,r,i){var a={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&l(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=t,a._f=e,a._strict=r,Gn(a)}function Zn(t,e,n,r){return Xn(t,e,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Zn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),$n=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Zn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Qn(t,e){var n,r;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Zn();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Jn(){return Qn("isBefore",[].slice.call(arguments,0))}function tr(){return Qn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(t){var e,n,r=!1,i=nr.length;for(e in t)if(a(t,e)&&(-1===Ht.call(nr,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<i;++n)if(t[nr[n]]){if(r)return!1;parseFloat(t[nr[n]])!==Dt(t[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function sr(){return Mr(NaN)}function or(t){var e=rt(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=rr(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function ar(t){return t instanceof or}function lr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ur(t,e,n){var r,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&Dt(t[r])!==Dt(e[r]))&&o++;return o+s}function cr(t,e){B(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+N(~~(t/60),2)+e+N(~~t%60,2)}))}cr("Z",":"),cr("ZZ",""),Et("Z",wt),Et("ZZ",wt),Rt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=dr(wt,t)}));var hr=/([\+\-]|\d\d)/gi;function dr(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+Dt(n[2]))?0:"+"===n[0]?r:-r}function pr(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(A(t)||h(t)?t.valueOf():Zn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Zn(t).local()}function fr(t){return-Math.round(t._d.getTimezoneOffset())}function mr(t,e,n){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=dr(wt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=fr(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?Rr(this,Mr(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:fr(this)}function gr(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function vr(t){return this.utcOffset(0,t)}function yr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fr(this),"m")),this}function _r(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=dr(bt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function br(t){return!!this.isValid()&&(t=t?Zn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return w(e,this),(e=zn(e))._a?(t=e._isUTC?f(e._a):Zn(e._a),this._isDSTShifted=this.isValid()&&ur(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ar(){return!!this.isValid()&&!this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(t,e){var n,r,i,s=t,o=null;return ar(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(o=Er.exec(t))?(n="-"===o[1]?-1:1,s={y:0,d:Dt(o[Lt])*n,h:Dt(o[Bt])*n,m:Dt(o[Ut])*n,s:Dt(o[Wt])*n,ms:Dt(lr(1e3*o[Yt]))*n}):(o=Cr.exec(t))?(n="-"===o[1]?-1:1,s={y:kr(o[2],n),M:kr(o[3],n),w:kr(o[4],n),d:kr(o[5],n),h:kr(o[6],n),m:kr(o[7],n),s:kr(o[8],n)}):null==s?s={}:"object"===typeof s&&("from"in s||"to"in s)&&(i=Dr(Zn(s.from),Zn(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new or(s),ar(t)&&a(t,"_locale")&&(r._locale=t._locale),ar(t)&&a(t,"_isValid")&&(r._isValid=t._isValid),r}function kr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Or(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Dr(t,e){var n;return t.isValid()&&e.isValid()?(e=pr(e,t),t.isBefore(e)?n=Or(t,e):((n=Or(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Mr(n,r),t),this}}function Rr(t,e,n,i){var s=e._milliseconds,o=lr(e._days),a=lr(e._months);t.isValid()&&(i=null==i||i,a&&de(t,$t(t,"Month")+a*n),o&&Qt(t,"Date",$t(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),i&&r.updateOffset(t,o||a))}Mr.fn=or.prototype,Mr.invalid=sr;var Fr=Pr(1,"add"),Nr=Pr(-1,"subtract");function Ir(t){return"string"===typeof t||t instanceof String}function Vr(t){return A(t)||h(t)||Ir(t)||c(t)||Lr(t)||jr(t)||null===t||void 0===t}function jr(t){var e,n,r=o(t)&&!l(t),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=s.length;for(e=0;e<u;e+=1)n=s[e],i=i||a(t,n);return r&&i}function Lr(t){var e=s(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&Ir(t)})).length),e&&n}function Br(t){var e,n,r=o(t)&&!l(t),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<s.length;e+=1)n=s[e],i=i||a(t,n);return r&&i}function Ur(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wr(t,e){1===arguments.length&&(arguments[0]?Vr(arguments[0])?(t=arguments[0],e=void 0):Br(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Zn(),i=pr(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",o=e&&(k(e[s])?e[s].call(this,n):e[s]);return this.format(o||this.localeData().calendar(s,this,Zn(n)))}function Yr(){return new x(this)}function qr(t,e){var n=A(t)?t:Zn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Gr(t,e){var n=A(t)?t:Zn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function zr(t,e,n,r){var i=A(t)?t:Zn(t),s=A(e)?e:Zn(e);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))}function Hr(t,e){var n,r=A(t)?t:Zn(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Xr(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Zr(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Kr(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=pr(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=nt(e)){case"year":s=$r(this,r)/12;break;case"month":s=$r(this,r);break;case"quarter":s=$r(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Ot(s)}function $r(t,e){if(t.date()<e.date())return-$r(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Y(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,i="moment",s="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=s+'[")]',this.format(t+e+n+r)}function ei(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)}function ni(t,e){return this.isValid()&&(A(t)&&t.isValid()||Zn(t).isValid())?Mr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ri(t){return this.from(Zn(),t)}function ii(t,e){return this.isValid()&&(A(t)&&t.isValid()||Zn(t).isValid())?Mr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function si(t){return this.to(Zn(),t)}function oi(t){var e;return void 0===t?this._locale._abbr:(null!=(e=yn(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function li(){return this._locale}var ui=1e3,ci=60*ui,hi=60*ci,di=3506328*hi;function pi(t,e){return(t%e+e)%e}function fi(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-di:new Date(t,e,n).valueOf()}function mi(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-di:Date.UTC(t,e,n)}function gi(t){var e,n;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mi:fi,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=pi(e+(this._isUTC?0:this.utcOffset()*ci),hi);break;case"minute":e=this._d.valueOf(),e-=pi(e,ci);break;case"second":e=this._d.valueOf(),e-=pi(e,ui)}return this._d.setTime(e),r.updateOffset(this,!0),this}function vi(t){var e,n;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mi:fi,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hi-pi(e+(this._isUTC?0:this.utcOffset()*ci),hi)-1;break;case"minute":e=this._d.valueOf(),e+=ci-pi(e,ci)-1;break;case"second":e=this._d.valueOf(),e+=ui-pi(e,ui)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function wi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ai(){return this.isValid()?this.toISOString():null}function Ti(){return v(this)}function Si(){return p({},g(this))}function Ei(){return g(this).overflow}function Ci(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mi(t,e){var n,i,s,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(s=r(o[n].since).startOf("day"),o[n].since=s.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=r(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf()}return o}function ki(t,e,n){var r,i,s,o,a,l=this.eras();for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(s=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[r];break;case"NNNN":if(s===t)return l[r];break;case"NNNNN":if(a===t)return l[r]}else if([s,o,a].indexOf(t)>=0)return l[r]}function Oi(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Di(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function Pi(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function Ri(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function Fi(){var t,e,n,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return(this.year()-r(s[t].since).year())*n+s[t].offset;return this.year()}function Ni(t){return a(this,"_erasNameRegex")||Wi.call(this),t?this._erasNameRegex:this._erasRegex}function Ii(t){return a(this,"_erasAbbrRegex")||Wi.call(this),t?this._erasAbbrRegex:this._erasRegex}function Vi(t){return a(this,"_erasNarrowRegex")||Wi.call(this),t?this._erasNarrowRegex:this._erasRegex}function ji(t,e){return e.erasAbbrRegex(t)}function Li(t,e){return e.erasNameRegex(t)}function Bi(t,e){return e.erasNarrowRegex(t)}function Ui(t,e){return e._eraYearOrdinalRegex||yt}function Wi(){var t,e,n,r,i,s=[],o=[],a=[],l=[],u=this.eras();for(t=0,e=u.length;t<e;++t)n=kt(u[t].name),r=kt(u[t].abbr),i=kt(u[t].narrow),o.push(n),s.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Yi(t,e){B(0,[t,t.length],0,e)}function qi(t){return Ki.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(t){return Ki.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function zi(){return Ae(this.year(),1,4)}function Hi(){return Ae(this.isoWeekYear(),1,4)}function Xi(){var t=this.localeData()._week;return Ae(this.year(),t.dow,t.doy)}function Zi(){var t=this.localeData()._week;return Ae(this.weekYear(),t.dow,t.doy)}function Ki(t,e,n,r,i){var s;return null==t?xe(this,r,i).year:(e>(s=Ae(t,r,i))&&(e=s),$i.call(this,t,e,n,r,i))}function $i(t,e,n,r,i){var s=we(t,e,n,r,i),o=_e(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Et("N",ji),Et("NN",ji),Et("NNN",ji),Et("NNNN",Li),Et("NNNNN",Bi),Rt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?g(n).era=i:g(n).invalidEra=t})),Et("y",yt),Et("yy",yt),Et("yyy",yt),Et("yyyy",yt),Et("yo",Ui),Rt(["y","yy","yyy","yyyy"],Vt),Rt(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Vt]=n._locale.eraYearOrdinalParse(t,i):e[Vt]=parseInt(t,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Yi("gggg","weekYear"),Yi("ggggg","weekYear"),Yi("GGGG","isoWeekYear"),Yi("GGGGG","isoWeekYear"),Et("G",_t),Et("g",_t),Et("GG",dt,lt),Et("gg",dt,lt),Et("GGGG",gt,ct),Et("gggg",gt,ct),Et("GGGGG",vt,ht),Et("ggggg",vt,ht),Ft(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=Dt(t)})),Ft(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),B("Q",0,"Qo","quarter"),Et("Q",at),Rt("Q",(function(t,e){e[jt]=3*(Dt(t)-1)})),B("D",["DD",2],"Do","date"),Et("D",dt,Tt),Et("DD",dt,lt),Et("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Rt(["D","DD"],Lt),Rt("Do",(function(t,e){e[Lt]=Dt(t.match(dt)[0])}));var Ji=Kt("Date",!0);function ts(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),Et("DDD",mt),Et("DDDD",ut),Rt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=Dt(t)})),B("m",["mm",2],0,"minute"),Et("m",dt,St),Et("mm",dt,lt),Rt(["m","mm"],Ut);var es=Kt("Minutes",!1);B("s",["ss",2],0,"second"),Et("s",dt,St),Et("ss",dt,lt),Rt(["s","ss"],Wt);var ns,rs,is=Kt("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Et("S",mt,at),Et("SS",mt,lt),Et("SSS",mt,ut),ns="SSSS";ns.length<=9;ns+="S")Et(ns,yt);function ss(t,e){e[Yt]=Dt(1e3*("0."+t))}for(ns="S";ns.length<=9;ns+="S")Rt(ns,ss);function os(){return this._isUTC?"UTC":""}function as(){return this._isUTC?"Coordinated Universal Time":""}rs=Kt("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ls=x.prototype;function us(t){return Zn(1e3*t)}function cs(){return Zn.apply(null,arguments).parseZone()}function hs(t){return t}ls.add=Fr,ls.calendar=Wr,ls.clone=Yr,ls.diff=Kr,ls.endOf=vi,ls.format=ei,ls.from=ni,ls.fromNow=ri,ls.to=ii,ls.toNow=si,ls.get=Jt,ls.invalidAt=Ei,ls.isAfter=qr,ls.isBefore=Gr,ls.isBetween=zr,ls.isSame=Hr,ls.isSameOrAfter=Xr,ls.isSameOrBefore=Zr,ls.isValid=Ti,ls.lang=ai,ls.locale=oi,ls.localeData=li,ls.max=$n,ls.min=Kn,ls.parsingFlags=Si,ls.set=te,ls.startOf=gi,ls.subtract=Nr,ls.toArray=wi,ls.toObject=xi,ls.toDate=bi,ls.toISOString=Jr,ls.inspect=ti,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ls[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ls.toJSON=Ai,ls.toString=Qr,ls.unix=_i,ls.valueOf=yi,ls.creationData=Ci,ls.eraName=Di,ls.eraNarrow=Pi,ls.eraAbbr=Ri,ls.eraYear=Fi,ls.year=Xt,ls.isLeapYear=Zt,ls.weekYear=qi,ls.isoWeekYear=Gi,ls.quarter=ls.quarters=Qi,ls.month=pe,ls.daysInMonth=fe,ls.week=ls.weeks=Me,ls.isoWeek=ls.isoWeeks=ke,ls.weeksInYear=Xi,ls.weeksInWeekYear=Zi,ls.isoWeeksInYear=zi,ls.isoWeeksInISOWeekYear=Hi,ls.date=Ji,ls.day=ls.days=qe,ls.weekday=Ge,ls.isoWeekday=ze,ls.dayOfYear=ts,ls.hour=ls.hours=rn,ls.minute=ls.minutes=es,ls.second=ls.seconds=is,ls.millisecond=ls.milliseconds=rs,ls.utcOffset=mr,ls.utc=vr,ls.local=yr,ls.parseZone=_r,ls.hasAlignedHourOffset=br,ls.isDST=wr,ls.isLocal=Ar,ls.isUtcOffset=Tr,ls.isUtc=Sr,ls.isUTC=Sr,ls.zoneAbbr=os,ls.zoneName=as,ls.dates=S("dates accessor is deprecated. Use date instead.",Ji),ls.months=S("months accessor is deprecated. Use month instead",pe),ls.years=S("years accessor is deprecated. Use year instead",Xt),ls.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ls.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var ds=P.prototype;function ps(t,e,n,r){var i=yn(),s=f().set(r,e);return i[n](s,t)}function fs(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return ps(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ps(t,r,n,"month");return i}function ms(t,e,n,r){"boolean"===typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var i,s=yn(),o=t?s._week.dow:0,a=[];if(null!=n)return ps(e,(n+o)%7,r,"day");for(i=0;i<7;i++)a[i]=ps(e,(i+o)%7,r,"day");return a}function gs(t,e){return fs(t,e,"months")}function vs(t,e){return fs(t,e,"monthsShort")}function ys(t,e,n){return ms(t,e,n,"weekdays")}function _s(t,e,n){return ms(t,e,n,"weekdaysShort")}function bs(t,e,n){return ms(t,e,n,"weekdaysMin")}ds.calendar=F,ds.longDateFormat=z,ds.invalidDate=X,ds.ordinal=$,ds.preparse=hs,ds.postformat=hs,ds.relativeTime=J,ds.pastFuture=tt,ds.set=O,ds.eras=Mi,ds.erasParse=ki,ds.erasConvertYear=Oi,ds.erasAbbrRegex=Ii,ds.erasNameRegex=Ni,ds.erasNarrowRegex=Vi,ds.months=le,ds.monthsShort=ue,ds.monthsParse=he,ds.monthsRegex=ge,ds.monthsShortRegex=me,ds.week=Te,ds.firstDayOfYear=Ce,ds.firstDayOfWeek=Ee,ds.weekdays=Le,ds.weekdaysMin=Ue,ds.weekdaysShort=Be,ds.weekdaysParse=Ye,ds.weekdaysRegex=He,ds.weekdaysShortRegex=Xe,ds.weekdaysMinRegex=Ze,ds.isPM=en,ds.meridiem=sn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===Dt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",yn);var ws=Math.abs;function xs(){var t=this._data;return this._milliseconds=ws(this._milliseconds),this._days=ws(this._days),this._months=ws(this._months),t.milliseconds=ws(t.milliseconds),t.seconds=ws(t.seconds),t.minutes=ws(t.minutes),t.hours=ws(t.hours),t.months=ws(t.months),t.years=ws(t.years),this}function As(t,e,n,r){var i=Mr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Ts(t,e){return As(this,t,e,1)}function Ss(t,e){return As(this,t,e,-1)}function Es(t){return t<0?Math.floor(t):Math.ceil(t)}function Cs(){var t,e,n,r,i,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Es(ks(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=Ot(s/1e3),l.seconds=t%60,e=Ot(t/60),l.minutes=e%60,n=Ot(e/60),l.hours=n%24,o+=Ot(n/24),a+=i=Ot(Ms(o)),o-=Es(ks(i)),r=Ot(a/12),a%=12,l.days=o,l.months=a,l.years=r,this}function Ms(t){return 4800*t/146097}function ks(t){return 146097*t/4800}function Os(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=nt(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+Ms(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(ks(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Ds(t){return function(){return this.as(t)}}var Ps=Ds("ms"),Rs=Ds("s"),Fs=Ds("m"),Ns=Ds("h"),Is=Ds("d"),Vs=Ds("w"),js=Ds("M"),Ls=Ds("Q"),Bs=Ds("y"),Us=Ps;function Ws(){return Mr(this)}function Ys(t){return t=nt(t),this.isValid()?this[t+"s"]():NaN}function qs(t){return function(){return this.isValid()?this._data[t]:NaN}}var Gs=qs("milliseconds"),zs=qs("seconds"),Hs=qs("minutes"),Xs=qs("hours"),Zs=qs("days"),Ks=qs("months"),$s=qs("years");function Qs(){return Ot(this.days()/7)}var Js=Math.round,to={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function no(t,e,n,r){var i=Mr(t).abs(),s=Js(i.as("s")),o=Js(i.as("m")),a=Js(i.as("h")),l=Js(i.as("d")),u=Js(i.as("M")),c=Js(i.as("w")),h=Js(i.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=e,d[3]=+t>0,d[4]=r,eo.apply(null,d)}function ro(t){return void 0===t?Js:"function"===typeof t&&(Js=t,!0)}function io(t,e){return void 0!==to[t]&&(void 0===e?to[t]:(to[t]=e,"s"===t&&(to.ss=e-1),!0))}function so(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,s=to;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(i=t),"object"===typeof e&&(s=Object.assign({},to,e),null!=e.s&&null==e.ss&&(s.ss=e.s-1)),r=no(this,!i,s,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function ao(t){return(t>0)-(t<0)||+t}function lo(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,s,o,a,l=oo(this._milliseconds)/1e3,u=oo(this._days),c=oo(this._months),h=this.asSeconds();return h?(t=Ot(l/60),e=Ot(t/60),l%=60,t%=60,n=Ot(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",s=ao(this._months)!==ao(h)?"-":"",o=ao(this._days)!==ao(h)?"-":"",a=ao(this._milliseconds)!==ao(h)?"-":"",i+"P"+(n?s+n+"Y":"")+(c?s+c+"M":"")+(u?o+u+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+r+"S":"")):"P0D"}var uo=or.prototype;return uo.isValid=ir,uo.abs=xs,uo.add=Ts,uo.subtract=Ss,uo.as=Os,uo.asMilliseconds=Ps,uo.asSeconds=Rs,uo.asMinutes=Fs,uo.asHours=Ns,uo.asDays=Is,uo.asWeeks=Vs,uo.asMonths=js,uo.asQuarters=Ls,uo.asYears=Bs,uo.valueOf=Us,uo._bubble=Cs,uo.clone=Ws,uo.get=Ys,uo.milliseconds=Gs,uo.seconds=zs,uo.minutes=Hs,uo.hours=Xs,uo.days=Zs,uo.weeks=Qs,uo.months=Ks,uo.years=$s,uo.humanize=so,uo.toISOString=lo,uo.toString=lo,uo.toJSON=lo,uo.locale=oi,uo.localeData=li,uo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),uo.lang=ai,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Et("x",_t),Et("X",xt),Rt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Rt("x",(function(t,e,n){n._d=new Date(Dt(t))})),r.version="2.30.1",i(Zn),r.fn=ls,r.min=Jn,r.max=tr,r.now=er,r.utc=f,r.unix=us,r.months=gs,r.isDate=h,r.locale=mn,r.invalid=y,r.duration=Mr,r.isMoment=A,r.weekdays=ys,r.parseZone=cs,r.localeData=yn,r.isDuration=ar,r.monthsShort=vs,r.weekdaysMin=bs,r.defineLocale=gn,r.updateLocale=vn,r.locales=_n,r.weekdaysShort=_s,r.normalizeUnits=nt,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=Ur,r.prototype=ls,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1497:(t,e,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5173:(t,e,n)=>{t.exports=n(1497)()},3218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6588:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(5043)),i=s(n(5173));function s(t){return t&&t.__esModule?t:{default:t}}var o={className:"data-load-error",message:"An error occurred fetching records from Google Sheets",title:"Data Load Error"},a=function(t){var e=t.config;return r.default.createElement("div",{className:e.className||o.className},r.default.createElement("h1",{className:"title"},e.title||o.title),r.default.createElement("p",{className:"message"},e.message||o.message))};a.propTypes={config:i.default.shape({className:i.default.string,message:i.default.string,title:i.default.string})},a.defaultProps={config:o};var l=a;e.default=l},8002:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(5043)),i=s(n(5173));function s(t){return t&&t.__esModule?t:{default:t}}var o={className:"data-loading",text:"Loading..."},a=function(t){var e=t.config;return r.default.createElement("div",{className:e.className||o.className},r.default.createElement("p",{className:"text"},e.text||o.text))};a.propTypes={config:i.default.shape({className:i.default.string,text:i.default.string})},a.defaultProps={config:o};var l=a;e.default=l},7584:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DataContext=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!==typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}r.default=t,n&&n.set(t,r);return r}(n(5043)),i=a(n(5173)),s=a(n(3538)),o=a(n(8002));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}(this,n)}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function _(t,e,n){return(e=b(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}var w=r.default.createContext({db:null,error:null,refetch:null});e.DataContext=w;var x=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(l,t);var e,n,i,a=g(l);function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),_(v(t=a.call(this)),"sheetsApiUrl","https://sheets.googleapis.com/v4/spreadsheets/".concat("1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA","?includeGridData=true&fields=sheets(data%2FrowData%2Fvalues%2FformattedValue%2Cproperties%2Ftitle)&key=").concat("AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE")),_(v(t),"driveApiUrl","https://www.googleapis.com/drive/v3/files/".concat("1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA","?fields=modifiedTime&key=").concat("AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE")),_(v(t),"fetchData",(function(){var e=window.localStorage.getItem("metisLastCheckedAt");null==e||null===t.state.db?t.fetchSheetData():fetch(t.driveApiUrl).then((function(t){return t.json()})).then((function(n){var r=n.modifiedTime,i=Date.parse(r);e<i&&t.fetchSheetData()})).catch((function(t){return console.error(t)})),window.localStorage.setItem("metisLastCheckedAt",Date.now())})),_(v(t),"fetchSheetData",(function(){fetch(t.sheetsApiUrl).then((function(t){return t.json()})).then((function(e){e.error?t.setState({error:e.error}):t.setState({db:t.processData(e)})})).catch((function(t){return console.error(t)}))})),_(v(t),"refetch",(function(){return t.fetchData()})),_(v(t),"processData",(function(t){var e=t.sheets,n={};return e.forEach((function(t){var e=t.properties.title,r=t.data;if(r[0].rowData){var i=d(r[0].rowData),o=i[0],a=i.slice(1);o=(0,s.default)(o.values,(function(t){return t.formattedValue})),n=h(h({},n),{},_({},e,a.map((function(t){var e={};return o.forEach((function(n,r){e=h(_({},n,t.values[r]?t.values[r].formattedValue:null),e)})),e}))))}else n=h(h({},n),{},_({},e,null))})),n})),t.state={db:null,error:null,refetch:t.refetch},t}return e=l,(n=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var t=this.props.config,e=t&&t.dataLoading?t.dataLoading:{},n=e.component?e.component:o.default;return this.state.db||this.state.error?r.default.createElement(w.Provider,{value:this.state},this.props.children):r.default.createElement(n,{config:e})}}])&&f(e.prototype,n),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.Component);_(x,"propTypes",{children:i.default.node,config:i.default.object});var A=x;e.default=A},9712:(t,e,n)=>{"use strict";e.Ay=void 0,Object.defineProperty(e,"Ue",{enumerable:!0,get:function(){return i.default}});var r=s(n(7584)),i=s(n(8829));function s(t){return t&&t.__esModule?t:{default:t}}var o=r.default;e.Ay=o},8829:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==c(t)&&"function"!==typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}r.default=t,n&&n.set(t,r);return r}(n(5043)),i=l(n(5173)),s=l(n(3097)),o=l(n(4052)),a=l(n(6588));function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}(this,n)}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function _(t,e,n){return(e=b(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}var w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(l){var u;return u=function(n){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(y,n);var i,u,c,d=g(y);function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _(v(t=d.call.apply(d,[this].concat(n))),"displayName","DBGoogleSheets"),t}return i=y,(u=[{key:"render",value:function(){var n=this.props.db||{},i=this.context,u=i.db,c=i.error,d=i.refetch;c?(console.error(c),e=p(p({},e),{},{dataLoadError:p(p({},e.dataLoadError||{}),{},{title:e.dataLoadError&&e.dataLoadError.title?e.dataLoadError.title:"Data Load Error: HTTP Status: ".concat(c.code),message:e.dataLoadError&&e.dataLoadError.message?e.dataLoadError.message:c.message})})):"*"===t?n=u:((0,o.default)(t)||(t=[t]),t.filter((function(t){return t})).forEach((function(t){var e=(0,s.default)(u,t);e?n[t]=e:console.error("[METIS]: data for ".concat(t," was empty"))})));var f=e.dataLoadError||{},m=f.component?f.component:a.default;return u&&n?r.default.createElement(l,h({},this.props,{db:n,refetch:d})):r.default.createElement(m,{config:f})}}])&&f(i.prototype,u),c&&f(i,c),Object.defineProperty(i,"prototype",{writable:!1}),y}(r.Component),_(u,"propTypes",{db:i.default.object}),_(u,"contextType",n(7584).DataContext),u}};e.default=w},4358:(t,e)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function l(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function u(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function c(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},7324:t=>{t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var c=t[u],h=e[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},5464:(t,e,n)=>{"use strict";n.d(e,{DU:()=>Ze,AH:()=>qe,Ay:()=>He,i7:()=>Ke,I4:()=>He});var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.create;function i(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(5043),o=n(7324),a=n.n(o),l="-ms-",u="-moz-",c="-webkit-",h="comm",d="rule",p="decl",f="@keyframes",m=Math.abs,g=String.fromCharCode,v=Object.assign;function y(t){return t.trim()}function _(t,e){return(t=e.exec(t))?t[0]:t}function b(t,e,n){return t.replace(e,n)}function w(t,e,n){return t.indexOf(e,n)}function x(t,e){return 0|t.charCodeAt(e)}function A(t,e,n){return t.slice(e,n)}function T(t){return t.length}function S(t){return t.length}function E(t,e){return e.push(t),t}function C(t,e){return t.filter((function(t){return!_(t,e)}))}var M=1,k=1,O=0,D=0,P=0,R="";function F(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:M,column:k,length:o,return:"",siblings:a}}function N(t,e){return v(F("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function I(t){for(;t.root;)t=N(t.root,{children:[t]});E(t,t.siblings)}function V(){return P=D>0?x(R,--D):0,k--,10===P&&(k=1,M--),P}function j(){return P=D<O?x(R,D++):0,k++,10===P&&(k=1,M++),P}function L(){return x(R,D)}function B(){return D}function U(t,e){return A(R,t,e)}function W(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y(t){return M=k=1,O=T(R=t),D=0,[]}function q(t){return R="",t}function G(t){return y(U(D-1,X(91===t?t+2:40===t?t+1:t)))}function z(t){for(;(P=L())&&P<33;)j();return W(t)>2||W(P)>3?"":" "}function H(t,e){for(;--e&&j()&&!(P<48||P>102||P>57&&P<65||P>70&&P<97););return U(t,B()+(e<6&&32==L()&&32==j()))}function X(t){for(;j();)switch(P){case t:return D;case 34:case 39:34!==t&&39!==t&&X(P);break;case 40:41===t&&X(t);break;case 92:j()}return D}function Z(t,e){for(;j()&&t+P!==57&&(t+P!==84||47!==L()););return"/*"+U(e,D-1)+"*"+g(47===t?t:j())}function K(t){for(;!W(L());)j();return U(t,D)}function $(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Q(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case p:return t.return=t.return||t.value;case h:return"";case f:return t.return=t.value+"{"+$(t.children,r)+"}";case d:if(!T(t.value=t.props.join(",")))return""}return T(n=$(t.children,r))?t.return=t.value+"{"+n+"}":""}function J(t,e,n){switch(function(t,e){return 45^x(t,0)?(((e<<2^x(t,0))<<2^x(t,1))<<2^x(t,2))<<2^x(t,3):0}(t,e)){case 5103:return c+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return c+t+t;case 4789:return u+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return c+t+u+t+l+t+t;case 5936:switch(x(t,e+11)){case 114:return c+t+l+b(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return c+t+l+b(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return c+t+l+b(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return c+t+l+t+t;case 6165:return c+t+l+"flex-"+t+t;case 5187:return c+t+b(t,/(\w+).+(:[^]+)/,c+"box-$1$2"+l+"flex-$1$2")+t;case 5443:return c+t+l+"flex-item-"+b(t,/flex-|-self/g,"")+(_(t,/flex-|baseline/)?"":l+"grid-row-"+b(t,/flex-|-self/g,""))+t;case 4675:return c+t+l+"flex-line-pack"+b(t,/align-content|flex-|-self/g,"")+t;case 5548:return c+t+l+b(t,"shrink","negative")+t;case 5292:return c+t+l+b(t,"basis","preferred-size")+t;case 6060:return c+"box-"+b(t,"-grow","")+c+t+l+b(t,"grow","positive")+t;case 4554:return c+b(t,/([^-])(transform)/g,"$1"+c+"$2")+t;case 6187:return b(b(b(t,/(zoom-|grab)/,c+"$1"),/(image-set)/,c+"$1"),t,"")+t;case 5495:case 3959:return b(t,/(image-set\([^]*)/,c+"$1$`$1");case 4968:return b(b(t,/(.+:)(flex-)?(.*)/,c+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+c+t+t;case 4200:if(!_(t,/flex-|baseline/))return l+"grid-column-align"+A(t,e)+t;break;case 2592:case 3360:return l+b(t,"template-","")+t;case 4384:case 3616:return n&&n.some((function(t,n){return e=n,_(t.props,/grid-\w+-end/)}))?~w(t+(n=n[e].value),"span",0)?t:l+b(t,"-start","")+t+l+"grid-row-span:"+(~w(n,"span",0)?_(n,/\d+/):+_(n,/\d+/)-+_(t,/\d+/))+";":l+b(t,"-start","")+t;case 4896:case 4128:return n&&n.some((function(t){return _(t.props,/grid-\w+-start/)}))?t:l+b(b(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return b(t,/(.+)-inline(.+)/,c+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(T(t)-1-e>6)switch(x(t,e+1)){case 109:if(45!==x(t,e+4))break;case 102:return b(t,/(.+:)(.+)-([^]+)/,"$1"+c+"$2-$3$1"+u+(108==x(t,e+3)?"$3":"$2-$3"))+t;case 115:return~w(t,"stretch",0)?J(b(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return b(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(e,n,r,i,s,o,a){return l+n+":"+r+a+(i?l+n+"-span:"+(s?o:+o-+r)+a:"")+t}));case 4949:if(121===x(t,e+6))return b(t,":",":"+c)+t;break;case 6444:switch(x(t,45===x(t,14)?18:11)){case 120:return b(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+c+(45===x(t,14)?"inline-":"")+"box$3$1"+c+"$2$3$1"+l+"$2box$3")+t;case 100:return b(t,":",":"+l)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return b(t,"scroll-","scroll-snap-")+t}return t}function tt(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case p:return void(t.return=J(t.value,t.length,n));case f:return $([N(t,{value:b(t.value,"@","@"+c)})],r);case d:if(t.length)return function(t,e){return t.map(e).join("")}(n=t.props,(function(e){switch(_(e,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":I(N(t,{props:[b(e,/:(read-\w+)/,":-moz-$1")]})),I(N(t,{props:[e]})),v(t,{props:C(n,r)});break;case"::placeholder":I(N(t,{props:[b(e,/:(plac\w+)/,":"+c+"input-$1")]})),I(N(t,{props:[b(e,/:(plac\w+)/,":-moz-$1")]})),I(N(t,{props:[b(e,/:(plac\w+)/,l+"input-$1")]})),I(N(t,{props:[e]})),v(t,{props:C(n,r)})}return""}))}}function et(t){return q(nt("",null,null,null,[""],t=Y(t),0,[0],t))}function nt(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,p=0,f=0,v=1,y=1,_=1,A=0,S="",C=i,M=s,k=r,O=S;y;)switch(f=A,A=j()){case 40:if(108!=f&&58==x(O,h-1)){-1!=w(O+=b(G(A),"&","&\f"),"&\f",m(u?a[u-1]:0))&&(_=-1);break}case 34:case 39:case 91:O+=G(A);break;case 9:case 10:case 13:case 32:O+=z(f);break;case 92:O+=H(B()-1,7);continue;case 47:switch(L()){case 42:case 47:E(it(Z(j(),B()),e,n,l),l);break;default:O+="/"}break;case 123*v:a[u++]=T(O)*_;case 125*v:case 59:case 0:switch(A){case 0:case 125:y=0;case 59+c:-1==_&&(O=b(O,/\f/g,"")),p>0&&T(O)-h&&E(p>32?st(O+";",r,n,h-1,l):st(b(O," ","")+";",r,n,h-2,l),l);break;case 59:O+=";";default:if(E(k=rt(O,e,n,u,c,i,a,S,C=[],M=[],h,s),s),123===A)if(0===c)nt(O,e,k,k,C,s,h,a,M);else switch(99===d&&110===x(O,3)?100:d){case 100:case 108:case 109:case 115:nt(t,k,k,r&&E(rt(t,k,k,0,0,i,a,S,i,C=[],h,M),M),i,M,h,a,r?C:M);break;default:nt(O,k,k,k,[""],M,0,a,M)}}u=c=p=0,v=_=1,S=O="",h=o;break;case 58:h=1+T(O),p=f;default:if(v<1)if(123==A)--v;else if(125==A&&0==v++&&125==V())continue;switch(O+=g(A),A*v){case 38:_=c>0?1:(O+="\f",-1);break;case 44:a[u++]=(T(O)-1)*_,_=1;break;case 64:45===L()&&(O+=G(j())),d=L(),c=h=T(S=O+=K(B())),A++;break;case 45:45===f&&2==T(O)&&(v=0)}}return s}function rt(t,e,n,r,i,s,o,a,l,u,c,h){for(var p=i-1,f=0===i?s:[""],g=S(f),v=0,_=0,w=0;v<r;++v)for(var x=0,T=A(t,p+1,p=m(_=o[v])),E=t;x<g;++x)(E=y(_>0?f[x]+" "+T:b(T,/&\f/g,f[x])))&&(l[w++]=E);return F(t,e,n,0===i?d:a,l,u,c,h)}function it(t,e,n,r){return F(t,e,n,h,g(P),A(t,2,-2),0,r)}function st(t,e,n,r,i){return F(t,e,n,p,A(t,0,r),A(t,r+1,-1),r,i)}var ot={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},at="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.SC_ATTR)||"data-styled",lt="active",ut="data-styled-version",ct="6.1.14",ht="/*!sc*/\n",dt="undefined"!=typeof window&&"HTMLElement"in window,pt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_SHEETS_API_KEY:"AIzaSyBeKUeUWLmgbvcqggGItv9BPrQN1yyxRbE",REACT_APP_GOOGLE_SHEETS_DOC_ID:"1kYcFtsMQOap_52pKlTfWCYJk1O5DD66LlZ90TWCgAyA"}.SC_DISABLE_SPEEDY)),ft={},mt=(new Set,Object.freeze([])),gt=Object.freeze({});function vt(t,e,n){return void 0===n&&(n=gt),t.theme!==n.theme&&t.theme||e||n.theme}var yt=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_t=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,bt=/(^-|-$)/g;function wt(t){return t.replace(_t,"-").replace(bt,"")}var xt=/(a)(d)/gi,At=52,Tt=function(t){return String.fromCharCode(t+(t>25?39:97))};function St(t){var e,n="";for(e=Math.abs(t);e>At;e=e/At|0)n=Tt(e%At)+n;return(Tt(e%At)+n).replace(xt,"$1-$2")}var Et,Ct=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Mt=function(t){return Ct(5381,t)};function kt(t){return St(Mt(t)>>>0)}function Ot(t){return t.displayName||t.name||"Component"}function Dt(t){return"string"==typeof t&&!0}var Pt="function"==typeof Symbol&&Symbol.for,Rt=Pt?Symbol.for("react.memo"):60115,Ft=Pt?Symbol.for("react.forward_ref"):60112,Nt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},It={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jt=((Et={})[Ft]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Et[Rt]=Vt,Et);function Lt(t){return("type"in(e=t)&&e.type.$$typeof)===Rt?Vt:"$$typeof"in t?jt[t.$$typeof]:Nt;var e}var Bt=Object.defineProperty,Ut=Object.getOwnPropertyNames,Wt=Object.getOwnPropertySymbols,Yt=Object.getOwnPropertyDescriptor,qt=Object.getPrototypeOf,Gt=Object.prototype;function zt(t,e,n){if("string"!=typeof e){if(Gt){var r=qt(e);r&&r!==Gt&&zt(t,r,n)}var i=Ut(e);Wt&&(i=i.concat(Wt(e)));for(var s=Lt(t),o=Lt(e),a=0;a<i.length;++a){var l=i[a];if(!(l in It||n&&n[l]||o&&l in o||s&&l in s)){var u=Yt(e,l);try{Bt(t,l,u)}catch(t){}}}}return t}function Ht(t){return"function"==typeof t}function Xt(t){return"object"==typeof t&&"styledComponentId"in t}function Zt(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Kt(t,e){if(0===t.length)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function $t(t){return null!==t&&"object"==typeof t&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Qt(t,e,n){if(void 0===n&&(n=!1),!n&&!$t(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Qt(t[r],e[r]);else if($t(e))for(var r in e)t[r]=Qt(t[r],e[r]);return t}function Jt(t,e){Object.defineProperty(t,"toString",{value:e})}function te(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var ee=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return t.prototype.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},t.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)if((i<<=1)<0)throw te(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(t+1),a=(s=0,e.length);s<a;s++)this.tag.insertRule(o,e[s])&&(this.groupSizes[t]++,o++)},t.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,s=r;s<i;s++)e+="".concat(this.tag.getRule(s)).concat(ht);return e},t}(),ne=new Map,re=new Map,ie=1,se=function(t){if(ne.has(t))return ne.get(t);for(;re.has(ie);)ie++;var e=ie++;return ne.set(t,e),re.set(e,t),e},oe=function(t,e){ie=e+1,ne.set(t,e),re.set(e,t)},ae="style[".concat(at,"][").concat(ut,'="').concat(ct,'"]'),le=new RegExp("^".concat(at,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ue=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},ce=function(t,e){for(var n,r=(null!==(n=e.textContent)&&void 0!==n?n:"").split(ht),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(le);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(oe(c,u),ue(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},he=function(t){for(var e=document.querySelectorAll(ae),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(at)!==lt&&(ce(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function de(){return n.nc}var pe=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){var e=Array.from(t.querySelectorAll("style[".concat(at,"]")));return e[e.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(at,lt),r.setAttribute(ut,ct);var o=de();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},fe=function(){function t(t){this.element=pe(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}throw te(17)}(this.element),this.length=0}return t.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},t.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},t.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},t}(),me=function(){function t(t){this.element=pe(t),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},t.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),ge=function(){function t(t){this.rules=[],this.length=0}return t.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},t.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},t.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),ve=dt,ye={isServer:!dt,useCSSOMInjection:!pt},_e=function(){function t(t,e,n){void 0===t&&(t=gt),void 0===e&&(e={});var i=this;this.options=r(r({},ye),t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&dt&&ve&&(ve=!1,he(this)),Jt(this,(function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=function(n){var i=function(t){return re.get(t)}(n);if(void 0===i)return"continue";var s=t.names.get(i),o=e.getGroup(n);if(void 0===s||!s.size||0===o.length)return"continue";var a="".concat(at,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(t){t.length>0&&(l+="".concat(t,","))})),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(ht)},s=0;s<n;s++)i(s);return r}(i)}))}return t.registerId=function(t){return se(t)},t.prototype.rehydrate=function(){!this.server&&dt&&he(this)},t.prototype.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(r(r({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(t=function(t){var e=t.useCSSOMInjection,n=t.target;return t.isServer?new ge(n):e?new fe(n):new me(n)}(this.options),new ee(t)));var t},t.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},t.prototype.registerName=function(t,e){if(se(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},t.prototype.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(se(t),n)},t.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},t.prototype.clearRules=function(t){this.getTag().clearGroup(se(t)),this.clearNames(t)},t.prototype.clearTag=function(){this.tag=void 0},t}(),be=/&/g,we=/^\s*\/\/.*$/gm;function xe(t,e){return t.map((function(t){return"rule"===t.type&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map((function(t){return"".concat(e," ").concat(t)}))),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=xe(t.children,e)),t}))}function Ae(t){var e,n,r,i=void 0===t?gt:t,s=i.options,o=void 0===s?gt:s,a=i.plugins,l=void 0===a?mt:a,u=function(t,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(e):t},c=l.slice();c.push((function(t){t.type===d&&t.value.includes("&")&&(t.props[0]=t.props[0].replace(be,n).replace(r,u))})),o.prefix&&c.push(tt),c.push(Q);var h=function(t,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),e=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=t.replace(we,""),u=et(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=xe(u,o.namespace));var h,d=[];return $(u,function(t){var e=S(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}(c.concat((h=function(t){return d.push(t)},function(t){t.root||(t=t.return)&&h(t)})))),d};return h.hash=l.length?l.reduce((function(t,e){return e.name||te(15),Ct(t,e.name)}),5381).toString():"",h}var Te=new _e,Se=Ae(),Ee=s.createContext({shouldForwardProp:void 0,styleSheet:Te,stylis:Se}),Ce=(Ee.Consumer,s.createContext(void 0));function Me(){return(0,s.useContext)(Ee)}function ke(t){var e=(0,s.useState)(t.stylisPlugins),n=e[0],r=e[1],i=Me().styleSheet,o=(0,s.useMemo)((function(){var e=i;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target,i]),l=(0,s.useMemo)((function(){return Ae({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:n})}),[t.enableVendorPrefixes,t.namespace,n]);(0,s.useEffect)((function(){a()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]);var u=(0,s.useMemo)((function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:o,stylis:l}}),[t.shouldForwardProp,o,l]);return s.createElement(Ee.Provider,{value:u},s.createElement(Ce.Provider,{value:l},t.children))}var Oe=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=Se);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,Jt(this,(function(){throw te(12,String(n.name))}))}return t.prototype.getName=function(t){return void 0===t&&(t=Se),this.name+t.hash},t}(),De=function(t){return t>="A"&&t<="Z"};function Pe(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(1===n&&"-"===r&&"-"===t[0])return t;De(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Re=function(t){return null==t||!1===t||""===t},Fe=function(t){var e,n,r=[];for(var s in t){var o=t[s];t.hasOwnProperty(s)&&!Re(o)&&(Array.isArray(o)&&o.isCss||Ht(o)?r.push("".concat(Pe(s),":"),o,";"):$t(o)?r.push.apply(r,i(i(["".concat(s," {")],Fe(o),!1),["}"],!1)):r.push("".concat(Pe(s),": ").concat((e=s,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||e in ot||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ne(t,e,n,r){return Re(t)?[]:Xt(t)?[".".concat(t.styledComponentId)]:Ht(t)?!Ht(i=t)||i.prototype&&i.prototype.isReactComponent||!e?[t]:Ne(t(e),e,n,r):t instanceof Oe?n?(t.inject(n,r),[t.getName(r)]):[t]:$t(t)?Fe(t):Array.isArray(t)?Array.prototype.concat.apply(mt,t.map((function(t){return Ne(t,e,n,r)}))):[t.toString()];var i}function Ie(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ht(n)&&!Xt(n))return!1}return!0}var Ve=Mt(ct),je=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Ie(t),this.componentId=e,this.baseHash=Ct(Ve,e),this.baseStyle=n,_e.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))r=Zt(r,this.staticRulesId);else{var i=Kt(Ne(this.rules,t,e,n)),s=St(Ct(this.baseHash,i)>>>0);if(!e.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);e.insertRules(this.componentId,s,o)}r=Zt(r,s),this.staticRulesId=s}else{for(var a=Ct(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var h=Kt(Ne(c,t,e,n));a=Ct(a,h+u),l+=h}}if(l){var d=St(a>>>0);e.hasNameForId(this.componentId,d)||e.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=Zt(r,d)}}return r},t}(),Le=s.createContext(void 0);Le.Consumer;var Be={};new Set;function Ue(t,e,n){var i=Xt(t),o=t,a=!Dt(t),l=e.attrs,u=void 0===l?mt:l,c=e.componentId,h=void 0===c?function(t,e){var n="string"!=typeof t?"sc":wt(t);Be[n]=(Be[n]||0)+1;var r="".concat(n,"-").concat(kt(ct+n+Be[n]));return e?"".concat(e,"-").concat(r):r}(e.displayName,e.parentComponentId):c,d=e.displayName,p=void 0===d?function(t){return Dt(t)?"styled.".concat(t):"Styled(".concat(Ot(t),")")}(t):d,f=e.displayName&&e.componentId?"".concat(wt(e.displayName),"-").concat(e.componentId):e.componentId||h,m=i&&o.attrs?o.attrs.concat(u).filter(Boolean):u,g=e.shouldForwardProp;if(i&&o.shouldForwardProp){var v=o.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(t,e){return v(t,e)&&y(t,e)}}else g=v}var _=new je(n,f,i?o.componentStyle:void 0);function b(t,e){return function(t,e,n){var i=t.attrs,o=t.componentStyle,a=t.defaultProps,l=t.foldedComponentIds,u=t.styledComponentId,c=t.target,h=s.useContext(Le),d=Me(),p=t.shouldForwardProp||d.shouldForwardProp,f=vt(e,h,a)||gt,m=function(t,e,n){for(var i,s=r(r({},e),{className:void 0,theme:n}),o=0;o<t.length;o+=1){var a=Ht(i=t[o])?i(s):i;for(var l in a)s[l]="className"===l?Zt(s[l],a[l]):"style"===l?r(r({},s[l]),a[l]):a[l]}return e.className&&(s.className=Zt(s.className,e.className)),s}(i,e,f),g=m.as||c,v={};for(var y in m)void 0===m[y]||"$"===y[0]||"as"===y||"theme"===y&&m.theme===f||("forwardedAs"===y?v.as=m.forwardedAs:p&&!p(y,g)||(v[y]=m[y]));var _=function(t,e){var n=Me();return t.generateAndInjectStyles(e,n.styleSheet,n.stylis)}(o,m),b=Zt(l,u);return _&&(b+=" "+_),m.className&&(b+=" "+m.className),v[Dt(g)&&!yt.has(g)?"class":"className"]=b,n&&(v.ref=n),(0,s.createElement)(g,v)}(w,t,e)}b.displayName=p;var w=s.forwardRef(b);return w.attrs=m,w.componentStyle=_,w.displayName=p,w.shouldForwardProp=g,w.foldedComponentIds=i?Zt(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=f,w.target=i?o.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)Qt(t,i[r],!0);return t}({},o.defaultProps,t):t}}),Jt(w,(function(){return".".concat(w.styledComponentId)})),a&&zt(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function We(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Ye=function(t){return Object.assign(t,{isCss:!0})};function qe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ht(t)||$t(t))return Ye(Ne(We(mt,i([t],e,!0))));var r=t;return 0===e.length&&1===r.length&&"string"==typeof r[0]?Ne(r):Ye(Ne(We(r,e)))}function Ge(t,e,n){if(void 0===n&&(n=gt),!e)throw te(1,e);var s=function(r){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,qe.apply(void 0,i([r],s,!1)))};return s.attrs=function(i){return Ge(t,e,r(r({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},s.withConfig=function(i){return Ge(t,e,r(r({},n),i))},s}var ze=function(t){return Ge(Ue,t)},He=ze;yt.forEach((function(t){He[t]=ze(t)}));var Xe=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=Ie(t),_e.registerId(this.componentId+1)}return t.prototype.createStyles=function(t,e,n,r){var i=r(Kt(Ne(this.rules,e,n,r)),""),s=this.componentId+t;n.insertRules(s,s,i)},t.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},t.prototype.renderStyles=function(t,e,n,r){t>2&&_e.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)},t}();function Ze(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=qe.apply(void 0,i([t],e,!1)),a="sc-global-".concat(kt(JSON.stringify(o))),l=new Xe(o,a),u=function(t){var e=Me(),n=s.useContext(Le),r=s.useRef(e.styleSheet.allocateGSInstance(a)).current;return e.styleSheet.server&&c(r,t,e.styleSheet,n,e.stylis),s.useLayoutEffect((function(){if(!e.styleSheet.server)return c(r,t,e.styleSheet,n,e.stylis),function(){return l.removeStyles(r,e.styleSheet)}}),[r,t,e.styleSheet,n,e.stylis]),null};function c(t,e,n,i,s){if(l.isStatic)l.renderStyles(t,ft,n,s);else{var o=r(r({},e),{theme:vt(e,i,u.defaultProps)});l.renderStyles(t,o,n,s)}}return s.memo(u)}function Ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Kt(qe.apply(void 0,i([t],e,!1))),s=kt(r);return new Oe(s,r)}(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=de(),r=Kt([n&&'nonce="'.concat(n,'"'),"".concat(at,'="true"'),"".concat(ut,'="').concat(ct,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw te(2);return t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)throw te(2);var n=t.instance.toString();if(!n)return[];var i=((e={})[at]="",e[ut]=ct,e.dangerouslySetInnerHTML={__html:n},e),o=de();return o&&(i.nonce=o),[s.createElement("style",r({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new _e({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw te(2);return s.createElement(ke,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(t){throw te(3)}})(),"__sc-".concat(at,"__")},79:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},2987:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},7383:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},4579:(t,e,n)=>{var r=n(7736);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},1156:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},7752:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},5715:(t,e,n)=>{var r=n(2987),i=n(1156),s=n(7122),o=n(7752);t.exports=function(t,e){return r(t)||i(t,e)||s(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},9045:(t,e,n)=>{var r=n(3738).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7736:(t,e,n)=>{var r=n(3738).default,i=n(9045);t.exports=function(t){var e=i(t,"string");return"symbol"==r(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},3738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7122:(t,e,n)=>{var r=n(79);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},2555:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function s(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,{A:()=>a})},3986:(t,e,n)=>{"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,{A:()=>r})},7528:(t,e,n)=>{"use strict";function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,{A:()=>r})},8838:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r={};!function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o="function"===typeof Path2D&&"function"===typeof DOMMatrix,a=function(){if(!e.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),n=t.getContext("2d");n.fillRect(0,0,1,1);var r=t.transferToImageBitmap();try{n.createPattern(r,"no-repeat")}catch(i){return!1}return!0}();function l(){}function u(t){var r=n.exports.Promise,i=void 0!==r?r:e.Promise;return"function"===typeof i?new i(t):(t(l,l),null)}var c,h,d,p=(c=a,h=new Map,{transform:function(t){if(c)return t;if(h.has(t))return h.get(t);var e=new OffscreenCanvas(t.width,t.height);return e.getContext("2d").drawImage(t,0,0),h.set(t,e),e},clear:function(){h.clear()}}),f=function(){var t,e,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(t=function(t){var e=Math.random();return r[e]=requestAnimationFrame((function s(o){i===o||i+n-1<o?(i=o,delete r[e],t()):r[e]=requestAnimationFrame(s)})),e},e=function(t){r[t]&&cancelAnimationFrame(r[t])}):(t=function(t){return setTimeout(t,n)},e=function(t){return clearTimeout(t)}),{frame:t,cancel:e}}(),m=function(){var e,n,i={};return function(){if(e)return e;if(!r&&s){var o=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([o])))}catch(a){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",a),null}!function(t){function e(e,n){t.postMessage({options:e||{},callback:n})}t.init=function(e){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])},t.fire=function(r,s,o){if(n)return e(r,null),n;var a=Math.random().toString(36).slice(2);return n=u((function(s){function l(e){e.data.callback===a&&(delete i[a],t.removeEventListener("message",l),n=null,p.clear(),o(),s())}t.addEventListener("message",l),e(r,a),i[a]=l.bind(null,{data:{callback:a}})}))},t.reset=function(){for(var e in t.postMessage({reset:!0}),i)i[e](),delete i[e]}}(e)}return e}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(t,e,n){return function(t,e){return e?e(t):t}(t&&(null!==(r=t[e])&&void 0!==r)?t[e]:g[e],n);var r}function y(t){return t<0?0:Math.floor(t)}function _(t){return parseInt(t,16)}function b(t){return t.map(w)}function w(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:_(e.substring(0,2)),g:_(e.substring(2,4)),b:_(e.substring(4,6))}}function x(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function A(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function T(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*t.startVelocity+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:t.color,shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,drift:t.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*t.gravity,ovalScalar:.6,scalar:t.scalar,flat:t.flat}}function S(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,r=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,s=e.wobbleX+e.random*e.tiltCos,a=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),o&&"path"===e.shape.type&&"string"===typeof e.shape.path&&Array.isArray(e.shape.matrix))t.fill(function(t,e,n,r,i,s,o){var a=new Path2D(t),l=new Path2D;l.addPath(a,new DOMMatrix(e));var u=new Path2D;return u.addPath(l,new DOMMatrix([Math.cos(o)*i,Math.sin(o)*i,-Math.sin(o)*s,Math.cos(o)*s,n,r])),u}(e.shape.path,e.shape.matrix,e.x,e.y,.1*Math.abs(s-r),.1*Math.abs(a-i),Math.PI/10*e.wobble));else if("bitmap"===e.shape.type){var l=Math.PI/10*e.wobble,u=.1*Math.abs(s-r),c=.1*Math.abs(a-i),h=e.shape.bitmap.width*e.scalar,d=e.shape.bitmap.height*e.scalar,f=new DOMMatrix([Math.cos(l)*u,Math.sin(l)*u,-Math.sin(l)*c,Math.cos(l)*c,e.x,e.y]);f.multiplySelf(new DOMMatrix(e.shape.matrix));var m=t.createPattern(p.transform(e.shape.bitmap),"no-repeat");m.setTransform(f),t.globalAlpha=1-n,t.fillStyle=m,t.fillRect(e.x-h/2,e.y-d/2,h,d),t.globalAlpha=1}else if("circle"===e.shape)t.ellipse?t.ellipse(e.x,e.y,Math.abs(s-r)*e.ovalScalar,Math.abs(a-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):function(t,e,n,r,i,s,o,a,l){t.save(),t.translate(e,n),t.rotate(s),t.scale(r,i),t.arc(0,0,1,o,a,l),t.restore()}(t,e.x,e.y,Math.abs(s-r)*e.ovalScalar,Math.abs(a-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if("star"===e.shape)for(var g=Math.PI/2*3,v=4*e.scalar,y=8*e.scalar,_=e.x,b=e.y,w=5,x=Math.PI/w;w--;)_=e.x+Math.cos(g)*y,b=e.y+Math.sin(g)*y,t.lineTo(_,b),g+=x,_=e.x+Math.cos(g)*v,b=e.y+Math.sin(g)*v,t.lineTo(_,b),g+=x;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(s),Math.floor(a)),t.lineTo(Math.floor(r),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}function E(t,n){var o,a=!t,l=!!v(n||{},"resize"),c=!1,h=v(n,"disableForReducedMotion",Boolean),d=s&&!!v(n||{},"useWorker")?m():null,g=a?x:A,_=!(!t||!d)&&!!t.__confetti_initialized,w="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function E(e,n,s){for(var a,l,c=v(e,"particleCount",y),h=v(e,"angle",Number),d=v(e,"spread",Number),m=v(e,"startVelocity",Number),_=v(e,"decay",Number),w=v(e,"gravity",Number),x=v(e,"drift",Number),A=v(e,"colors",b),E=v(e,"ticks",Number),C=v(e,"shapes"),M=v(e,"scalar"),k=!!v(e,"flat"),O=function(t){var e=v(t,"origin",Object);return e.x=v(e,"x",Number),e.y=v(e,"y",Number),e}(e),D=c,P=[],R=t.width*O.x,F=t.height*O.y;D--;)P.push(T({x:R,y:F,angle:h,spread:d,startVelocity:m,color:A[D%A.length],shape:C[(a=0,l=C.length,Math.floor(Math.random()*(l-a))+a)],ticks:E,decay:_,gravity:w,drift:x,scalar:M,flat:k}));return o?o.addFettis(P):(o=function(t,e,n,s,o){var a,l,c=e.slice(),h=t.getContext("2d"),d=u((function(e){function u(){a=l=null,h.clearRect(0,0,s.width,s.height),p.clear(),o(),e()}a=f.frame((function e(){!r||s.width===i.width&&s.height===i.height||(s.width=t.width=i.width,s.height=t.height=i.height),s.width||s.height||(n(t),s.width=t.width,s.height=t.height),h.clearRect(0,0,s.width,s.height),(c=c.filter((function(t){return S(h,t)}))).length?a=f.frame(e):u()})),l=u}));return{addFettis:function(t){return c=c.concat(t),d},canvas:t,promise:d,reset:function(){a&&f.cancel(a),l&&l()}}}(t,P,g,n,s),o.promise)}function C(n){var r=h||v(n,"disableForReducedMotion",Boolean),i=v(n,"zIndex",Number);if(r&&w)return u((function(t){t()}));a&&o?t=o.canvas:a&&!t&&(t=function(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}(i),document.body.appendChild(t)),l&&!_&&g(t);var s={width:t.width,height:t.height};function p(){if(d){var e={getBoundingClientRect:function(){if(!a)return t.getBoundingClientRect()}};return g(e),void d.postMessage({resize:{width:e.width,height:e.height}})}s.width=s.height=null}function f(){o=null,l&&(c=!1,e.removeEventListener("resize",p)),a&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,_=!1)}return d&&!_&&d.init(t),_=!0,d&&(t.__confetti_initialized=!0),l&&!c&&(c=!0,e.addEventListener("resize",p,!1)),d?d.fire(n,s,f):E(n,s,f)}return C.reset=function(){d&&d.reset(),o&&o.reset()},C}function C(){return d||(d=E(null,{useWorker:!0,resize:!0})),d}n.exports=function(){return C().apply(this,arguments)},n.exports.reset=function(){C().reset()},n.exports.create=E,n.exports.shapeFromPath=function(t){if(!o)throw new Error("path confetti are not supported in this browser");var e,n;"string"===typeof t?e=t:(e=t.path,n=t.matrix);var r=new Path2D(e),i=document.createElement("canvas").getContext("2d");if(!n){for(var s,a,l=1e3,u=l,c=l,h=0,d=0,p=0;p<l;p+=2)for(var f=0;f<l;f+=2)i.isPointInPath(r,p,f,"nonzero")&&(u=Math.min(u,p),c=Math.min(c,f),h=Math.max(h,p),d=Math.max(d,f));s=h-u,a=d-c;var m=Math.min(10/s,10/a);n=[m,0,0,m,-Math.round(s/2+u)*m,-Math.round(a/2+c)*m]}return{type:"path",path:e,matrix:n}},n.exports.shapeFromText=function(t){var e,n=1,r="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"===typeof t?e=t:(e=t.text,n="scalar"in t?t.scalar:n,i="fontFamily"in t?t.fontFamily:i,r="color"in t?t.color:r);var s=10*n,o=s+"px "+i,a=new OffscreenCanvas(s,s),l=a.getContext("2d");l.font=o;var u=l.measureText(e),c=Math.ceil(u.actualBoundingBoxRight+u.actualBoundingBoxLeft),h=Math.ceil(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent),d=u.actualBoundingBoxLeft+2,p=u.actualBoundingBoxAscent+2;c+=4,h+=4,(l=(a=new OffscreenCanvas(c,h)).getContext("2d")).font=o,l.fillStyle=r,l.fillText(e,d,p);var f=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[f,0,0,f,-c*f/2,-h*f/2]}}}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),r,!1);const i=r.exports;r.exports.create},2629:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>mn});const{min:r,max:i}=Math,s=function(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r(i(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t),e)},o=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=s(t[e],0,255)):3===e&&(t[e]=s(t[e],0,1));return t},a={};for(let gn of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])a["[object ".concat(gn,"]")]=gn.toLowerCase();function l(t){return a[Object.prototype.toString.call(t)]||"object"}const u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.length>=3?Array.prototype.slice.call(t):"object"==l(t[0])&&e?e.split("").filter((e=>void 0!==t[0][e])).map((e=>t[0][e])):t[0].slice(0)},c=t=>{if(t.length<2)return null;const e=t.length-1;return"string"==l(t[e])?t[e].toLowerCase():null},{PI:h,min:d,max:p}=Math,f=t=>Math.round(100*t)/100,m=t=>Math.round(100*t)/100,g=2*h,v=h/3,y=h/180,_=180/h;function b(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const w={format:{},autodetect:[]};const x=class{constructor(){const t=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("object"===l(n[0])&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];let i=c(n),s=!1;if(!i){s=!0,w.sorted||(w.autodetect=w.autodetect.sort(((t,e)=>e.p-t.p)),w.sorted=!0);for(let t of w.autodetect)if(i=t.test(...n),i)break}if(!w.format[i])throw new Error("unknown format: "+n);{const e=w.format[i].apply(null,s?n:n.slice(0,-1));t._rgb=o(e)}3===t._rgb.length&&t._rgb.push(1)}toString(){return"function"==l(this.hex)?this.hex():"[".concat(this._rgb.join(","),"]")}},A=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e)};A.version="3.1.2";const T=A,S={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},E=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,C=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,M=t=>{if(t.match(E)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(C)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: ".concat(t))},{round:k}=Math,O=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,i,s,o]=u(e,"rgba"),a=c(e)||"auto";void 0===o&&(o=1),"auto"===a&&(a=o<1?"rgba":"rgb"),r=k(r),i=k(i),s=k(s);let l="000000"+(r<<16|i<<8|s).toString(16);l=l.substr(l.length-6);let h="0"+k(255*o).toString(16);switch(h=h.substr(h.length-2),a.toLowerCase()){case"rgba":return"#".concat(l).concat(h);case"argb":return"#".concat(h).concat(l);default:return"#".concat(l)}};x.prototype.name=function(){const t=O(this._rgb,"rgb");for(let e of Object.keys(S))if(S[e]===t)return e.toLowerCase();return t},w.format.named=t=>{if(t=t.toLowerCase(),S[t])return M(S[t]);throw new Error("unknown color name: "+t)},w.autodetect.push({p:5,test:function(t){if((arguments.length<=1||!(arguments.length-1))&&"string"===l(t)&&S[t.toLowerCase()])return"named"}}),x.prototype.alpha=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==t&&"number"===l(t)?e?(this._rgb[3]=t,this):new x([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},x.prototype.clipped=function(){return this._rgb._clipped||!1};const D={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},P=D,R=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function F(t){const e=R.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);D.labWhitePoint=t,D.Xn=e[0],D.Zn=e[1]}function N(){return D.labWhitePoint}const I=(t,e,n)=>{const{kE:r,kK:i,kKE:s,Xn:o,Yn:a,Zn:l}=P,u=(t+16)/116,c=.002*e+u,h=u-.005*n,d=c*c*c,p=h*h*h;return[(d>r?d:(116*c-16)/i)*o,(t>s?Math.pow((t+16)/116,3):t/i)*a,(p>r?p:(116*h-16)/i)*l]},V=t=>{const e=Math.sign(t);return((t=Math.abs(t))<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)*e},j=(t,e,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:l,Zn:u}=P,c=a*r.m00+l*r.m10+u*r.m20,h=a*r.m01+l*r.m11+u*r.m21,d=a*r.m02+l*r.m12+u*r.m22,p=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,f=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,m=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,g=(t*r.m00+e*r.m10+n*r.m20)*(p/c),v=(t*r.m01+e*r.m11+n*r.m21)*(f/h),y=(t*r.m02+e*r.m12+n*r.m22)*(m/d),_=g*i.m00+v*i.m10+y*i.m20,b=g*i.m01+v*i.m11+y*i.m21,w=g*i.m02+v*i.m12+y*i.m22;return[255*V(_*s.m00+b*s.m10+w*s.m20),255*V(_*s.m01+b*s.m11+w*s.m21),255*V(_*s.m02+b*s.m12+w*s.m22)]},L=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"lab");const[r,i,s]=e,[o,a,l]=I(r,i,s),[c,h,d]=j(o,a,l);return[c,h,d,e.length>3?e[3]:1]};function B(t){const e=Math.sign(t);return((t=Math.abs(t))<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const U=(t,e,n)=>{t=B(t/255),e=B(e/255),n=B(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:l,As:u,Bs:c,Cs:h}=P;let d=t*r.m00+e*r.m10+n*r.m20,p=t*r.m01+e*r.m11+n*r.m21,f=t*r.m02+e*r.m12+n*r.m22;const m=o*i.m00+a*i.m10+l*i.m20,g=o*i.m01+a*i.m11+l*i.m21,v=o*i.m02+a*i.m12+l*i.m22;let y=d*i.m00+p*i.m10+f*i.m20,_=d*i.m01+p*i.m11+f*i.m21,b=d*i.m02+p*i.m12+f*i.m22;return y*=m/u,_*=g/c,b*=v/h,d=y*s.m00+_*s.m10+b*s.m20,p=y*s.m01+_*s.m11+b*s.m21,f=y*s.m02+_*s.m12+b*s.m22,[d,p,f]},W=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s,...o]=u(e,"rgb"),[a,l,c]=U(r,i,s),[h,d,p]=function(t,e,n){const{Xn:r,Yn:i,Zn:s,kE:o,kK:a}=P,l=t/r,u=e/i,c=n/s,h=l>o?Math.pow(l,1/3):(a*l+16)/116,d=u>o?Math.pow(u,1/3):(a*u+16)/116,p=c>o?Math.pow(c,1/3):(a*c+16)/116;return[116*d-16,500*(h-d),200*(d-p)]}(a,l,c);return[h,d,p,...o.length>0&&o[0]<1?[o[0]]:[]]};x.prototype.lab=function(){return W(this._rgb)};Object.assign(T,{lab:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"lab")},getLabWhitePoint:N,setLabWhitePoint:F}),w.format.lab=L,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"lab"))&&3===e.length)return"lab"}}),x.prototype.darken=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=this.lab();return e[0]-=P.Kn*t,new x(e,"lab").alpha(this.alpha(),!0)},x.prototype.brighten=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.darken(-t)},x.prototype.darker=x.prototype.darken,x.prototype.brighter=x.prototype.brighten,x.prototype.get=function(t){const[e,n]=t.split("."),r=this[e]();if(n){const t=e.indexOf(n)-("ok"===e.substr(0,2)?2:0);if(t>-1)return r[t];throw new Error("unknown channel ".concat(n," in mode ").concat(e))}return r};const{pow:Y}=Math;x.prototype.luminance=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb";if(void 0!==t&&"number"===l(t)){if(0===t)return new x([0,0,0,this._rgb[3]],"rgb");if(1===t)return new x([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=20;const i=(n,s)=>{const o=n.interpolate(s,.5,e),a=o.luminance();return Math.abs(t-a)<1e-7||!r--?o:a>t?i(n,o):i(o,s)},s=(n>t?i(new x([0,0,0]),this):i(this,new x([255,255,255]))).rgb();return new x([...s,this._rgb[3]])}return q(...this._rgb.slice(0,3))};const q=(t,e,n)=>.2126*(t=G(t))+.7152*(e=G(e))+.0722*(n=G(n)),G=t=>(t/=255)<=.03928?t/12.92:Y((t+.055)/1.055,2.4),z={},H=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=(arguments.length<=3?void 0:arguments[3])||"lrgb";if(z[r]||!(arguments.length<=3)&&arguments.length-3||(r=Object.keys(z)[0]),!z[r])throw new Error("interpolation mode ".concat(r," is not defined"));return"object"!==l(t)&&(t=new x(t)),"object"!==l(e)&&(e=new x(e)),z[r](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};x.prototype.mix=x.prototype.interpolate=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return H(this,t,e,...r)},x.prototype.premultiply=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new x([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};const{sin:X,cos:Z}=Math,K=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,i,s]=u(e,"lch");return isNaN(s)&&(s=0),s*=y,[r,Z(s)*i,X(s)*i]},$=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"lch");const[r,i,s]=e,[o,a,l]=K(r,i,s),[c,h,d]=L(o,a,l);return[c,h,d,e.length>3?e[3]:1]},Q=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=b(u(e,"hcl"));return $(...r)},{sqrt:J,atan2:tt,round:et}=Math,nt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s]=u(e,"lab"),o=J(i*i+s*s);let a=(tt(s,i)*_+360)%360;return 0===et(1e4*o)&&(a=Number.NaN),[r,o,a]},rt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s,...o]=u(e,"rgb"),[a,l,c]=W(r,i,s),[h,d,p]=nt(a,l,c);return[h,d,p,...o.length>0&&o[0]<1?[o[0]]:[]]};x.prototype.lch=function(){return rt(this._rgb)},x.prototype.hcl=function(){return b(rt(this._rgb))};Object.assign(T,{lch:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"lch")},hcl:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"hcl")}}),w.format.lch=$,w.format.hcl=Q,["lch","hcl"].forEach((t=>w.autodetect.push({p:2,test:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("array"===l(n=u(n,t))&&3===n.length)return t}}))),x.prototype.saturate=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=this.lch();return e[1]+=P.Kn*t,e[1]<0&&(e[1]=0),new x(e,"lch").alpha(this.alpha(),!0)},x.prototype.desaturate=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.saturate(-t)},x.prototype.set=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[r,i]=t.split("."),s=this[r]();if(i){const t=r.indexOf(i)-("ok"===r.substr(0,2)?2:0);if(t>-1){if("string"==l(e))switch(e.charAt(0)){case"+":case"-":s[t]+=+e;break;case"*":s[t]*=+e.substr(1);break;case"/":s[t]/=+e.substr(1);break;default:s[t]=+e}else{if("number"!==l(e))throw new Error("unsupported value for Color.set");s[t]=e}const i=new x(s,r);return n?(this._rgb=i._rgb,this):i}throw new Error("unknown channel ".concat(i," in mode ").concat(r))}return s},x.prototype.tint=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return H(this,"white",t,...n)},x.prototype.shade=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return H(this,"black",t,...n)};const it=(t,e,n)=>{const r=t._rgb,i=e._rgb;return new x(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};z.rgb=it;const{sqrt:st,pow:ot}=Math,at=(t,e,n)=>{const[r,i,s]=t._rgb,[o,a,l]=e._rgb;return new x(st(ot(r,2)*(1-n)+ot(o,2)*n),st(ot(i,2)*(1-n)+ot(a,2)*n),st(ot(s,2)*(1-n)+ot(l,2)*n),"rgb")};z.lrgb=at;const lt=(t,e,n)=>{const r=t.lab(),i=e.lab();return new x(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};z.lab=lt;const ut=(t,e,n,r)=>{let i,s,o,a,l,u,c,h,d,p,f,m;return"hsl"===r?(i=t.hsl(),s=e.hsl()):"hsv"===r?(i=t.hsv(),s=e.hsv()):"hcg"===r?(i=t.hcg(),s=e.hcg()):"hsi"===r?(i=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=t.hcl(),s=e.hcl()):"oklch"===r&&(i=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||([o,l,c]=i,[a,u,h]=s),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?p=Number.NaN:(p=a,1!=c&&0!=c||"hsv"==r||(d=u)):(p=o,1!=h&&0!=h||"hsv"==r||(d=l)):(m=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,p=o+n*m),void 0===d&&(d=l+n*(u-l)),f=c+n*(h-c),new x("oklch"===r?[f,d,p]:[p,d,f],r)},ct=(t,e,n)=>ut(t,e,n,"lch");z.lch=ct,z.hcl=ct;const ht=t=>{if("number"==l(t)&&t>=0&&t<=16777215){return[t>>16,t>>8&255,255&t,1]}throw new Error("unknown num color: "+t)},dt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s]=u(e,"rgb");return(r<<16)+(i<<8)+s};x.prototype.num=function(){return dt(this._rgb)};Object.assign(T,{num:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"num")}}),w.format.num=ht,w.autodetect.push({p:5,test:function(){if(1===arguments.length&&"number"===l(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])>=0&&(arguments.length<=0?void 0:arguments[0])<=16777215)return"num"}});const pt=(t,e,n)=>{const r=t.num(),i=e.num();return new x(r+n*(i-r),"num")};z.num=pt;const{floor:ft}=Math,mt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"hcg");let r,i,s,[o,a,l]=e;l*=255;const c=255*a;if(0===a)r=i=s=l;else{360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),o/=60;const t=ft(o),e=o-t,n=l*(1-a),u=n+c*(1-e),h=n+c*e,d=n+c;switch(t){case 0:[r,i,s]=[d,h,n];break;case 1:[r,i,s]=[u,d,n];break;case 2:[r,i,s]=[n,d,h];break;case 3:[r,i,s]=[n,u,d];break;case 4:[r,i,s]=[h,n,d];break;case 5:[r,i,s]=[d,n,u]}}return[r,i,s,e.length>3?e[3]:1]},gt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s]=u(e,"rgb"),o=d(r,i,s),a=p(r,i,s),l=a-o,c=100*l/255,h=o/(255-l)*100;let f;return 0===l?f=Number.NaN:(r===a&&(f=(i-s)/l),i===a&&(f=2+(s-r)/l),s===a&&(f=4+(r-i)/l),f*=60,f<0&&(f+=360)),[f,c,h]};x.prototype.hcg=function(){return gt(this._rgb)};T.hcg=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"hcg")},w.format.hcg=mt,w.autodetect.push({p:1,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"hcg"))&&3===e.length)return"hcg"}});const vt=(t,e,n)=>ut(t,e,n,"hcg");z.hcg=vt;const{cos:yt}=Math,_t=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"hsi");let r,i,o,[a,l,c]=e;return isNaN(a)&&(a=0),isNaN(l)&&(l=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(o=(1-l)/3,r=(1+l*yt(g*a)/yt(v-g*a))/3,i=1-(o+r)):a<2/3?(a-=1/3,r=(1-l)/3,i=(1+l*yt(g*a)/yt(v-g*a))/3,o=1-(r+i)):(a-=2/3,i=(1-l)/3,o=(1+l*yt(g*a)/yt(v-g*a))/3,r=1-(i+o)),r=s(c*r*3),i=s(c*i*3),o=s(c*o*3),[255*r,255*i,255*o,e.length>3?e[3]:1]},{min:bt,sqrt:wt,acos:xt}=Math,At=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let r,[i,s,o]=u(e,"rgb");i/=255,s/=255,o/=255;const a=bt(i,s,o),l=(i+s+o)/3,c=l>0?1-a/l:0;return 0===c?r=NaN:(r=(i-s+(i-o))/2,r/=wt((i-s)*(i-s)+(i-o)*(s-o)),r=xt(r),o>s&&(r=g-r),r/=g),[360*r,c,l]};x.prototype.hsi=function(){return At(this._rgb)};T.hsi=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"hsi")},w.format.hsi=_t,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"hsi"))&&3===e.length)return"hsi"}});const Tt=(t,e,n)=>ut(t,e,n,"hsi");z.hsi=Tt;const St=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"hsl");const[r,i,s]=e;let o,a,l;if(0===i)o=a=l=255*s;else{const t=[0,0,0],e=[0,0,0],n=s<.5?s*(1+i):s+i-s*i,u=2*s-n,c=r/360;t[0]=c+1/3,t[1]=c,t[2]=c-1/3;for(let r=0;r<3;r++)t[r]<0&&(t[r]+=1),t[r]>1&&(t[r]-=1),6*t[r]<1?e[r]=u+6*(n-u)*t[r]:2*t[r]<1?e[r]=n:3*t[r]<2?e[r]=u+(n-u)*(2/3-t[r])*6:e[r]=u;[o,a,l]=[255*e[0],255*e[1],255*e[2]]}return e.length>3?[o,a,l,e[3]]:[o,a,l,1]},Et=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"rgba");let[r,i,s]=e;r/=255,i/=255,s/=255;const o=d(r,i,s),a=p(r,i,s),l=(a+o)/2;let c,h;return a===o?(c=0,h=Number.NaN):c=l<.5?(a-o)/(a+o):(a-o)/(2-a-o),r==a?h=(i-s)/(a-o):i==a?h=2+(s-r)/(a-o):s==a&&(h=4+(r-i)/(a-o)),h*=60,h<0&&(h+=360),e.length>3&&void 0!==e[3]?[h,c,l,e[3]]:[h,c,l]};x.prototype.hsl=function(){return Et(this._rgb)};T.hsl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"hsl")},w.format.hsl=St,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"hsl"))&&3===e.length)return"hsl"}});const Ct=(t,e,n)=>ut(t,e,n,"hsl");z.hsl=Ct;const{floor:Mt}=Math,kt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"hsv");let r,i,s,[o,a,l]=e;if(l*=255,0===a)r=i=s=l;else{360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),o/=60;const t=Mt(o),e=o-t,n=l*(1-a),u=l*(1-a*e),c=l*(1-a*(1-e));switch(t){case 0:[r,i,s]=[l,c,n];break;case 1:[r,i,s]=[u,l,n];break;case 2:[r,i,s]=[n,l,c];break;case 3:[r,i,s]=[n,u,l];break;case 4:[r,i,s]=[c,n,l];break;case 5:[r,i,s]=[l,n,u]}}return[r,i,s,e.length>3?e[3]:1]},{min:Ot,max:Dt}=Math,Pt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"rgb");let[r,i,s]=e;const o=Ot(r,i,s),a=Dt(r,i,s),l=a-o;let c,h,d;return d=a/255,0===a?(c=Number.NaN,h=0):(h=l/a,r===a&&(c=(i-s)/l),i===a&&(c=2+(s-r)/l),s===a&&(c=4+(r-i)/l),c*=60,c<0&&(c+=360)),[c,h,d]};x.prototype.hsv=function(){return Pt(this._rgb)};T.hsv=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"hsv")},w.format.hsv=kt,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"hsv"))&&3===e.length)return"hsv"}});const Rt=(t,e,n)=>ut(t,e,n,"hsv");z.hsv=Rt;function Ft(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map((t=>[t])));let r=e[0].length,i=e[0].map(((t,n)=>e.map((t=>t[n])))),s=t.map((t=>i.map((e=>Array.isArray(t)?t.reduce(((t,n,r)=>t+n*(e[r]||0)),0):e.reduce(((e,n)=>e+n*t),0)))));return 1===n&&(s=s[0]),1===r?s.map((t=>t[0])):s}const Nt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"lab");const[r,i,s,...o]=e,[a,l,c]=function(t){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=Ft([[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],t);return Ft(e,n.map((t=>t**3)))}([r,i,s]),[h,d,p]=j(a,l,c);return[h,d,p,...o.length>0&&o[0]<1?[o[0]]:[]]};const It=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s,...o]=u(e,"rgb");return[...function(t){const e=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Ft([[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t);return Ft(e,n.map((t=>Math.cbrt(t))))}(U(r,i,s)),...o.length>0&&o[0]<1?[o[0]]:[]]};x.prototype.oklab=function(){return It(this._rgb)};Object.assign(T,{oklab:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"oklab")}}),w.format.oklab=Nt,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"oklab"))&&3===e.length)return"oklab"}});const Vt=(t,e,n)=>{const r=t.oklab(),i=e.oklab();return new x(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};z.oklab=Vt;const jt=(t,e,n)=>ut(t,e,n,"oklch");z.oklch=jt;const{pow:Lt,sqrt:Bt,PI:Ut,cos:Wt,sin:Yt,atan2:qt}=Math,Gt=(t,e)=>{const n=t.length,r=[0,0,0,0];for(let i=0;i<t.length;i++){const s=t[i],o=e[i]/n,a=s._rgb;r[0]+=Lt(a[0],2)*o,r[1]+=Lt(a[1],2)*o,r[2]+=Lt(a[2],2)*o,r[3]+=a[3]*o}return r[0]=Bt(r[0]),r[1]=Bt(r[1]),r[2]=Bt(r[2]),r[3]>.9999999&&(r[3]=1),new x(o(r))},{pow:zt}=Math;function Ht(t){let e="rgb",n=T("#ccc"),r=0,i=[0,1],o=[],a=[0,0],u=!1,c=[],h=!1,d=0,p=1,f=!1,m={},g=!0,v=1;const y=function(t){if((t=t||["#fff","#000"])&&"string"===l(t)&&T.brewer&&T.brewer[t.toLowerCase()]&&(t=T.brewer[t.toLowerCase()]),"array"===l(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(let e=0;e<t.length;e++)t[e]=T(t[e]);o.length=0;for(let e=0;e<t.length;e++)o.push(e/(t.length-1))}return x(),c=t};let _=t=>t,b=t=>t;const w=function(t,r){let i,h;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)h=t;else if(u&&u.length>2){h=function(t){if(null!=u){const e=u.length-1;let n=0;for(;n<e&&t>=u[n];)n++;return n-1}return 0}(t)/(u.length-2)}else h=p!==d?(t-d)/(p-d):1;h=b(h),r||(h=_(h)),1!==v&&(h=zt(h,v)),h=a[0]+h*(1-a[0]-a[1]),h=s(h,0,1);const f=Math.floor(1e4*h);if(g&&m[f])i=m[f];else{if("array"===l(c))for(let t=0;t<o.length;t++){const n=o[t];if(h<=n){i=c[t];break}if(h>=n&&t===o.length-1){i=c[t];break}if(h>n&&h<o[t+1]){h=(h-n)/(o[t+1]-n),i=T.interpolate(c[t],c[t+1],h,e);break}}else"function"===l(c)&&(i=c(h));g&&(m[f]=i)}return i};var x=()=>m={};y(t);const A=function(t){const e=T(w(t));return h&&e[h]?e[h]():e};return A.classes=function(t){if(null!=t){if("array"===l(t))u=t,i=[t[0],t[t.length-1]];else{const e=T.analyze(i);u=0===t?[e.min,e.max]:T.limits(e,"e",t)}return A}return u},A.domain=function(t){if(!arguments.length)return i;d=t[0],p=t[t.length-1],o=[];const e=c.length;if(t.length===e&&d!==p)for(let n of Array.from(t))o.push((n-d)/(p-d));else{for(let t=0;t<e;t++)o.push(t/(e-1));if(t.length>2){const e=t.map(((e,n)=>n/(t.length-1))),n=t.map((t=>(t-d)/(p-d)));n.every(((t,n)=>e[n]===t))||(b=t=>{if(t<=0||t>=1)return t;let r=0;for(;t>=n[r+1];)r++;const i=(t-n[r])/(n[r+1]-n[r]);return e[r]+i*(e[r+1]-e[r])})}}return i=[d,p],A},A.mode=function(t){return arguments.length?(e=t,x(),A):e},A.range=function(t,e){return y(t),A},A.out=function(t){return h=t,A},A.spread=function(t){return arguments.length?(r=t,A):r},A.correctLightness=function(t){return null==t&&(t=!0),f=t,x(),_=f?function(t){const e=w(0,!0).lab()[0],n=w(1,!0).lab()[0],r=e>n;let i=w(t,!0).lab()[0];const s=e+(n-e)*t;let o=i-s,a=0,l=1,u=20;for(;Math.abs(o)>.01&&u-- >0;)r&&(o*=-1),o<0?(a=t,t+=.5*(l-t)):(l=t,t+=.5*(a-t)),i=w(t,!0).lab()[0],o=i-s;return t}:t=>t,A},A.padding=function(t){return null!=t?("number"===l(t)&&(t=[t,t]),a=t,A):a},A.colors=function(e,n){arguments.length<2&&(n="hex");let r=[];if(0===arguments.length)r=c.slice(0);else if(1===e)r=[A(.5)];else if(e>1){const t=i[0],n=i[1]-t;r=function(t,e,n){let r=[],i=t<e,s=n?i?e+1:e-1:e;for(let o=t;i?o<s:o>s;i?o++:o--)r.push(o);return r}(0,e,!1).map((r=>A(t+r/(e-1)*n)))}else{t=[];let e=[];if(u&&u.length>2)for(let t=1,n=u.length,r=1<=n;r?t<n:t>n;r?t++:t--)e.push(.5*(u[t-1]+u[t]));else e=i;r=e.map((t=>A(t)))}return T[n]&&(r=r.map((t=>t[n]()))),r},A.cache=function(t){return null!=t?(g=t,A):g},A.gamma=function(t){return null!=t?(v=t,A):v},A.nodata=function(t){return null!=t?(n=T(t),A):n},A}const{round:Xt}=Math;x.prototype.rgb=function(){return!1===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Xt)},x.prototype.rgba=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._rgb.slice(0,4).map(((e,n)=>n<3?!1===t?e:Xt(e):e))};Object.assign(T,{rgb:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"rgb")}}),w.format.rgb=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"rgba");return void 0===r[3]&&(r[3]=1),r},w.autodetect.push({p:3,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"rgba"))&&(3===e.length||4===e.length&&"number"==l(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});const Zt=(t,e,n)=>{if(!Zt[n])throw new Error("unknown blend mode "+n);return Zt[n](t,e)},Kt=t=>(e,n)=>{const r=T(n).rgb(),i=T(e).rgb();return T.rgb(t(r,i))},$t=t=>(e,n)=>{const r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r};Zt.normal=Kt($t((t=>t))),Zt.multiply=Kt($t(((t,e)=>t*e/255))),Zt.screen=Kt($t(((t,e)=>255*(1-(1-t/255)*(1-e/255))))),Zt.overlay=Kt($t(((t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))))),Zt.darken=Kt($t(((t,e)=>t>e?e:t))),Zt.lighten=Kt($t(((t,e)=>t>e?t:e))),Zt.dodge=Kt($t(((t,e)=>255===t||(t=e/255*255/(1-t/255))>255?255:t))),Zt.burn=Kt($t(((t,e)=>255*(1-(1-e/255)/(t/255)))));const Qt=Zt,{pow:Jt,sin:te,cos:ee}=Math;const{floor:ne,random:re}=Math,{log:ie,pow:se,floor:oe,abs:ae}=Math;function le(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===l(t)&&(t=Object.values(t)),t.forEach((t=>{e&&"object"===l(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=(t,e)=>ue(n,t,e),n}function ue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"equal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;"array"==l(t)&&(t=le(t));const{min:r,max:i}=t,s=t.values.sort(((t,e)=>t-e));if(1===n)return[r,i];const o=[];if("c"===e.substr(0,1)&&(o.push(r),o.push(i)),"e"===e.substr(0,1)){o.push(r);for(let t=1;t<n;t++)o.push(r+t/n*(i-r));o.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const t=Math.LOG10E*ie(r),e=Math.LOG10E*ie(i);o.push(r);for(let r=1;r<n;r++)o.push(se(10,t+r/n*(e-t)));o.push(i)}else if("q"===e.substr(0,1)){o.push(r);for(let t=1;t<n;t++){const e=(s.length-1)*t/n,r=oe(e);if(r===e)o.push(s[r]);else{const t=e-r;o.push(s[r]*(1-t)+s[r+1]*t)}}o.push(i)}else if("k"===e.substr(0,1)){let t;const e=s.length,a=new Array(e),l=new Array(n);let u=!0,c=0,h=null;h=[],h.push(r);for(let s=1;s<n;s++)h.push(r+s/n*(i-r));for(h.push(i);u;){for(let t=0;t<n;t++)l[t]=0;for(let t=0;t<e;t++){const e=s[t];let r,i=Number.MAX_VALUE;for(let s=0;s<n;s++){const n=ae(h[s]-e);n<i&&(i=n,r=s),l[r]++,a[t]=r}}const r=new Array(n);for(let t=0;t<n;t++)r[t]=null;for(let n=0;n<e;n++)t=a[n],null===r[t]?r[t]=s[n]:r[t]+=s[n];for(let t=0;t<n;t++)r[t]*=1/l[t];u=!1;for(let t=0;t<n;t++)if(r[t]!==h[t]){u=!0;break}h=r,c++,c>200&&(u=!1)}const d={};for(let r=0;r<n;r++)d[r]=[];for(let n=0;n<e;n++)t=a[n],d[t].push(s[n]);let p=[];for(let r=0;r<n;r++)p.push(d[r][0]),p.push(d[r][d[r].length-1]);p=p.sort(((t,e)=>t-e)),o.push(p[0]);for(let n=1;n<p.length;n+=2){const t=p[n];isNaN(t)||-1!==o.indexOf(t)||o.push(t)}}return o}const ce=.022;function he(t,e,n){return.2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:de,pow:pe,min:fe,max:me,atan2:ge,abs:ve,cos:ye,sin:_e,exp:be,PI:we}=Math;const xe={cool:()=>Ht([T.hsl(180,1,.9),T.hsl(250,.7,.4)]),hot:()=>Ht(["#000","#f00","#ff0","#fff"]).mode("rgb")},Ae={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Te=Object.keys(Ae),Se=new Map(Te.map((t=>[t.toLowerCase(),t]))),Ee="function"===typeof Proxy?new Proxy(Ae,{get(t,e){const n=e.toLowerCase();if(Se.has(n))return t[Se.get(n)]},getOwnPropertyNames:()=>Object.getOwnPropertyNames(Te)}):Ae,Ce=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"cmyk");const[r,i,s,o]=e,a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),s>=1?0:255*(1-s)*(1-o),a]},{max:Me}=Math,ke=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,i,s]=u(e,"rgb");r/=255,i/=255,s/=255;const o=1-Me(r,Me(i,s)),a=o<1?1/(1-o):0;return[(1-r-o)*a,(1-i-o)*a,(1-s-o)*a,o]};x.prototype.cmyk=function(){return ke(this._rgb)};Object.assign(T,{cmyk:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"cmyk")}}),w.format.cmyk=Ce,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"cmyk"))&&4===e.length)return"cmyk"}});const Oe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"hsla");let i=c(e)||"lsa";return r[0]=f(r[0]||0)+"deg",r[1]=f(100*r[1])+"%",r[2]=f(100*r[2])+"%","hsla"===i||r.length>3&&r[3]<1?(r[3]="/ "+(r.length>3?r[3]:1),i="hsla"):r.length=3,"".concat(i.substr(0,3),"(").concat(r.join(" "),")")},De=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"lab");let i=c(e)||"lab";return r[0]=f(r[0])+"%",r[1]=f(r[1]),r[2]=f(r[2]),"laba"===i||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,"lab(".concat(r.join(" "),")")},Pe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"lch");let i=c(e)||"lab";return r[0]=f(r[0])+"%",r[1]=f(r[1]),r[2]=isNaN(r[2])?"none":f(r[2])+"deg","lcha"===i||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,"lch(".concat(r.join(" "),")")},Re=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"lab");return r[0]=f(100*r[0])+"%",r[1]=m(r[1]),r[2]=m(r[2]),r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,"oklab(".concat(r.join(" "),")")},Fe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,s,...o]=u(e,"rgb"),[a,l,c]=It(r,i,s),[h,d,p]=nt(a,l,c);return[h,d,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Ne=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"lch");return r[0]=f(100*r[0])+"%",r[1]=m(r[1]),r[2]=isNaN(r[2])?"none":f(r[2])+"deg",r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,"oklch(".concat(r.join(" "),")")},{round:Ie}=Math,Ve=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"rgba");let i=c(e)||"rgb";if("hsl"===i.substr(0,3))return Oe(Et(r),i);if("lab"===i.substr(0,3)){const t=N();F("d50");const e=De(W(r),i);return F(t),e}if("lch"===i.substr(0,3)){const t=N();F("d50");const e=Pe(rt(r),i);return F(t),e}return"oklab"===i.substr(0,5)?Re(It(r)):"oklch"===i.substr(0,5)?Ne(Fe(r)):(r[0]=Ie(r[0]),r[1]=Ie(r[1]),r[2]=Ie(r[2]),("rgba"===i||r.length>3&&r[3]<1)&&(r[3]="/ "+(r.length>3?r[3]:1),i="rgba"),"".concat(i.substr(0,3),"(").concat(r.slice(0,"rgb"===i?3:4).join(" "),")"))},je=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=u(e,"lch");const[r,i,s,...o]=e,[a,l,c]=K(r,i,s),[h,d,p]=Nt(a,l,c);return[h,d,p,...o.length>0&&o[0]<1?[o[0]]:[]]},Le=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Be=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Ue=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,We=/\s*/.source,Ye=/\s+/.source,qe=/\s*,\s*/.source,Ge=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,ze=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,He=new RegExp("^rgba?\\("+We+[Le,Le,Le].join(Ye)+ze+"\\)$"),Xe=new RegExp("^rgb\\("+We+[Le,Le,Le].join(qe)+We+"\\)$"),Ze=new RegExp("^rgba\\("+We+[Le,Le,Le,Be].join(qe)+We+"\\)$"),Ke=new RegExp("^hsla?\\("+We+[Ge,Ue,Ue].join(Ye)+ze+"\\)$"),$e=new RegExp("^hsl?\\("+We+[Ge,Ue,Ue].join(qe)+We+"\\)$"),Qe=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Je=new RegExp("^lab\\("+We+[Be,Be,Be].join(Ye)+ze+"\\)$"),tn=new RegExp("^lch\\("+We+[Be,Be,Ge].join(Ye)+ze+"\\)$"),en=new RegExp("^oklab\\("+We+[Be,Be,Be].join(Ye)+ze+"\\)$"),nn=new RegExp("^oklch\\("+We+[Be,Be,Ge].join(Ye)+ze+"\\)$"),{round:rn}=Math,sn=t=>t.map(((t,e)=>e<=2?s(rn(t),0,255):t)),on=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"string"===typeof t&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,t=r?e+.5*(t+1)*(n-e):e+t*(n-e)),+t},an=(t,e)=>"none"===t?e:t,ln=t=>{if("transparent"===(t=t.toLowerCase().trim()))return[0,0,0,0];let e;if(w.format.named)try{return w.format.named(t)}catch(n){}if((e=t.match(He))||(e=t.match(Xe))){let t=e.slice(1,4);for(let e=0;e<3;e++)t[e]=+on(an(t[e],0),0,255);t=sn(t);const n=void 0!==e[4]?+on(e[4],0,1):1;return t[3]=n,t}if(e=t.match(Ze)){const t=e.slice(1,5);for(let e=0;e<4;e++)t[e]=+on(t[e],0,255);return t}if((e=t.match(Ke))||(e=t.match($e))){const t=e.slice(1,4);t[0]=+an(t[0].replace("deg",""),0),t[1]=.01*+on(an(t[1],0),0,100),t[2]=.01*+on(an(t[2],0),0,100);const n=sn(St(t)),r=void 0!==e[4]?+on(e[4],0,1):1;return n[3]=r,n}if(e=t.match(Qe)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const n=St(t);for(let e=0;e<3;e++)n[e]=rn(n[e]);return n[3]=+e[4],n}if(e=t.match(Je)){const t=e.slice(1,4);t[0]=on(an(t[0],0),0,100),t[1]=on(an(t[1],0),-125,125,!0),t[2]=on(an(t[2],0),-125,125,!0);const n=N();F("d50");const r=sn(L(t));F(n);const i=void 0!==e[4]?+on(e[4],0,1):1;return r[3]=i,r}if(e=t.match(tn)){const t=e.slice(1,4);t[0]=on(t[0],0,100),t[1]=on(an(t[1],0),0,150,!1),t[2]=+an(t[2].replace("deg",""),0);const n=N();F("d50");const r=sn($(t));F(n);const i=void 0!==e[4]?+on(e[4],0,1):1;return r[3]=i,r}if(e=t.match(en)){const t=e.slice(1,4);t[0]=on(an(t[0],0),0,1),t[1]=on(an(t[1],0),-.4,.4,!0),t[2]=on(an(t[2],0),-.4,.4,!0);const n=sn(Nt(t)),r=void 0!==e[4]?+on(e[4],0,1):1;return n[3]=r,n}if(e=t.match(nn)){const t=e.slice(1,4);t[0]=on(an(t[0],0),0,1),t[1]=on(an(t[1],0),0,.4,!1),t[2]=+an(t[2].replace("deg",""),0);const n=sn(je(t)),r=void 0!==e[4]?+on(e[4],0,1):1;return n[3]=r,n}};ln.test=t=>He.test(t)||Ke.test(t)||Je.test(t)||tn.test(t)||en.test(t)||nn.test(t)||Xe.test(t)||Ze.test(t)||$e.test(t)||Qe.test(t)||"transparent"===t;const un=ln;x.prototype.css=function(t){return Ve(this._rgb,t)};T.css=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"css")},w.format.css=un,w.autodetect.push({p:5,test:function(t){if((arguments.length<=1||!(arguments.length-1))&&"string"===l(t)&&un.test(t))return"css"}}),w.format.gl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r};T.gl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"gl")},x.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]},x.prototype.hex=function(t){return O(this._rgb,t)};T.hex=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"hex")},w.format.hex=M,w.autodetect.push({p:4,test:function(t){if((arguments.length<=1||!(arguments.length-1))&&"string"===l(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:cn}=Math,hn=t=>{const e=t/100;let n,r,i;return e<66?(n=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*cn(r),i=e<20?0:.8274096064007395*(i=e-10)-254.76935184120902+115.67994401066147*cn(i)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*cn(n),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*cn(r),i=255),[n,r,i,1]},{round:dn}=Math,pn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=u(e,"rgb"),i=r[0],s=r[2];let o=1e3,a=4e4;let l;for(;a-o>.4;){l=.5*(a+o);const t=hn(l);t[2]/t[0]>=s/i?a=l:o=l}return dn(l)};x.prototype.temp=x.prototype.kelvin=x.prototype.temperature=function(){return pn(this._rgb)};const fn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"temp")};Object.assign(T,{temp:fn,kelvin:fn,temperature:fn}),w.format.temp=w.format.kelvin=w.format.temperature=hn,x.prototype.oklch=function(){return Fe(this._rgb)};Object.assign(T,{oklch:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e,"oklch")}}),w.format.oklch=je,w.autodetect.push({p:2,test:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("array"===l(e=u(e,"oklch"))&&3===e.length)return"oklch"}}),Object.assign(T,{analyze:le,average:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lrgb",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=t.length;n||(n=Array.from(new Array(r)).map((()=>1)));const i=r/n.reduce((function(t,e){return t+e}));if(n.forEach(((t,e)=>{n[e]*=i})),t=t.map((t=>new x(t))),"lrgb"===e)return Gt(t,n);const s=t.shift(),o=s.get(e),a=[];let l=0,u=0;for(let h=0;h<o.length;h++)if(o[h]=(o[h]||0)*n[0],a.push(isNaN(o[h])?0:n[0]),"h"===e.charAt(h)&&!isNaN(o[h])){const t=o[h]/180*Ut;l+=Wt(t)*n[0],u+=Yt(t)*n[0]}let c=s.alpha()*n[0];t.forEach(((t,r)=>{const i=t.get(e);c+=t.alpha()*n[r+1];for(let s=0;s<o.length;s++)if(!isNaN(i[s]))if(a[s]+=n[r+1],"h"===e.charAt(s)){const t=i[s]/180*Ut;l+=Wt(t)*n[r+1],u+=Yt(t)*n[r+1]}else o[s]+=i[s]*n[r+1]}));for(let h=0;h<o.length;h++)if("h"===e.charAt(h)){let t=qt(u/a[h],l/a[h])/Ut*180;for(;t<0;)t+=360;for(;t>=360;)t-=360;o[h]=t}else o[h]=o[h]/a[h];return c/=r,new x(o,e).alpha(c>.99999?1:c,!0)},bezier:t=>{const e=function(t){let e,n,r,i;if(2===(t=t.map((t=>new x(t)))).length)[n,r]=t.map((t=>t.lab())),e=function(t){const e=[0,1,2].map((e=>n[e]+t*(r[e]-n[e])));return new x(e,"lab")};else if(3===t.length)[n,r,i]=t.map((t=>t.lab())),e=function(t){const e=[0,1,2].map((e=>(1-t)*(1-t)*n[e]+2*(1-t)*t*r[e]+t*t*i[e]));return new x(e,"lab")};else if(4===t.length){let s;[n,r,i,s]=t.map((t=>t.lab())),e=function(t){const e=[0,1,2].map((e=>(1-t)*(1-t)*(1-t)*n[e]+3*(1-t)*(1-t)*t*r[e]+3*(1-t)*t*t*i[e]+t*t*t*s[e]));return new x(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");{let n,r,i;n=t.map((t=>t.lab())),i=t.length-1,r=function(t){let e=[1,1];for(let n=1;n<t;n++){let t=[1];for(let n=1;n<=e.length;n++)t[n]=(e[n]||0)+e[n-1];e=t}return e}(i),e=function(t){const e=1-t,s=[0,1,2].map((s=>n.reduce(((n,o,a)=>n+r[a]*e**(i-a)*t**a*o[s]),0)));return new x(s,"lab")}}}return e}(t);return e.scale=()=>Ht(e),e},blend:Qt,brewer:Ee,Color:x,colors:S,contrast:(t,e)=>{t=new x(t),e=new x(e);const n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},contrastAPCA:(t,e)=>{t=new x(t),e=new x(e),t.alpha()<1&&(t=H(e,t,t.alpha(),"rgb"));const n=he(...t.rgb()),r=he(...e.rgb()),i=n>=ce?n:n+Math.pow(ce-n,1.414),s=r>=ce?r:r+Math.pow(ce-r,1.414),o=Math.pow(s,.56)-Math.pow(i,.57),a=Math.pow(s,.65)-Math.pow(i,.62),l=Math.abs(s-i)<5e-4?0:i<s?1.14*o:1.14*a;return 100*(Math.abs(l)<.1?0:l>0?l-.027:l+.027)},cubehelix:function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1.5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1],a=0;"array"===l(s)?t=s[1]-s[0]:(t=0,s=[s,s]);const u=function(l){const u=g*((e+120)/360+n*l),c=Jt(s[0]+t*l,i),h=(0!==a?r[0]+l*a:r)*c*(1-c)/2,d=ee(u),p=te(u);return T(o([255*(c+h*(-.14861*d+1.78277*p)),255*(c+h*(-.29227*d-.90649*p)),255*(c+h*(1.97294*d)),1]))};return u.start=function(t){return null==t?e:(e=t,u)},u.rotations=function(t){return null==t?n:(n=t,u)},u.gamma=function(t){return null==t?i:(i=t,u)},u.hue=function(t){return null==t?r:(r=t,"array"===l(r)?(a=r[1]-r[0],0===a&&(r=r[1])):a=0,u)},u.lightness=function(e){return null==e?s:("array"===l(e)?(s=e,t=e[1]-e[0]):(s=[e,e],t=0),u)},u.scale=()=>T.scale(u),u.hue(r),u},deltaE:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;var s=function(t){return 360*t/(2*we)},o=function(t){return 2*we*t/360};t=new x(t),e=new x(e);const[a,l,u]=Array.from(t.lab()),[c,h,d]=Array.from(e.lab()),p=(a+c)/2,f=(de(pe(l,2)+pe(u,2))+de(pe(h,2)+pe(d,2)))/2,m=.5*(1-de(pe(f,7)/(pe(f,7)+pe(25,7)))),g=l*(1+m),v=h*(1+m),y=de(pe(g,2)+pe(u,2)),_=de(pe(v,2)+pe(d,2)),b=(y+_)/2,w=s(ge(u,g)),A=s(ge(d,v)),T=w>=0?w:w+360,S=A>=0?A:A+360,E=ve(T-S)>180?(T+S+360)/2:(T+S)/2,C=1-.17*ye(o(E-30))+.24*ye(o(2*E))+.32*ye(o(3*E+6))-.2*ye(o(4*E-63));let M=S-T;M=ve(M)<=180?M:S<=T?M+360:M-360,M=2*de(y*_)*_e(o(M)/2);const k=c-a,O=_-y,D=1+.015*pe(p-50,2)/de(20+pe(p-50,2)),P=1+.045*b,R=1+.015*b*C,F=30*be(-pe((E-275)/25,2)),N=-(2*de(pe(b,7)/(pe(b,7)+pe(25,7))))*_e(2*o(F)),I=de(pe(k/(n*D),2)+pe(O/(r*P),2)+pe(M/(i*R),2)+N*(O/(r*P))*(M/(i*R)));return me(0,fe(100,I))},distance:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lab";t=new x(t),e=new x(e);const r=t.get(n),i=e.get(n);let s=0;for(let o in r){const t=(r[o]||0)-(i[o]||0);s+=t*t}return Math.sqrt(s)},input:w,interpolate:H,limits:ue,mix:H,random:()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789abcdef".charAt(ne(16*re()));return new x(t,"hex")},scale:Ht,scales:xe,valid:function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new x(...e),!0}catch(r){return!1}}});const mn=T},3546:(t,e,n)=>{"use strict";n.d(e,{N:()=>v});var r=n(579),i=n(5043),s=n(9674),o=n(4930),a=n(1051);class l extends i.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(t){let{children:e,isPresent:n}=t;const s=(0,i.useId)(),o=(0,i.useRef)(null),u=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,i.useContext)(a.Q);return(0,i.useInsertionEffect)((()=>{const{width:t,height:e,top:r,left:i}=u.current;if(n||!o.current||!t||!e)return;o.current.dataset.motionPopId=s;const a=document.createElement("style");return c&&(a.nonce=c),document.head.appendChild(a),a.sheet&&a.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(a)}}),[n]),(0,r.jsx)(l,{isPresent:n,childRef:o,sizeRef:u,children:i.cloneElement(e,{ref:o})})}const c=t=>{let{children:e,initial:n,isPresent:a,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:p}=t;const f=(0,o.M)(h),m=(0,i.useId)(),g=(0,i.useCallback)((t=>{f.set(t,!0);for(const e of f.values())if(!e)return;l&&l()}),[f,l]),v=(0,i.useMemo)((()=>({id:m,initial:n,isPresent:a,custom:c,onExitComplete:g,register:t=>(f.set(t,!1),()=>f.delete(t))})),d?[Math.random(),g]:[a,g]);return(0,i.useMemo)((()=>{f.forEach(((t,e)=>f.set(e,!1)))}),[a]),i.useEffect((()=>{!a&&!f.size&&l&&l()}),[a]),"popLayout"===p&&(e=(0,r.jsx)(u,{isPresent:a,children:e})),(0,r.jsx)(s.t.Provider,{value:v,children:e})};function h(){return new Map}var d=n(2190),p=n(4327);const f=t=>t.key||"";function m(t){const e=[];return i.Children.forEach(t,(t=>{(0,i.isValidElement)(t)&&e.push(t)})),e}var g=n(293);const v=t=>{let{children:e,exitBeforeEnter:n,custom:s,initial:a=!0,onExitComplete:l,presenceAffectsLayout:u=!0,mode:h="sync"}=t;(0,p.V)(!n,"Replace exitBeforeEnter with mode='wait'");const v=(0,i.useMemo)((()=>m(e)),[e]),y=v.map(f),_=(0,i.useRef)(!0),b=(0,i.useRef)(v),w=(0,o.M)((()=>new Map)),[x,A]=(0,i.useState)(v),[T,S]=(0,i.useState)(v);(0,g.E)((()=>{_.current=!1,b.current=v;for(let t=0;t<T.length;t++){const e=f(T[t]);y.includes(e)?w.delete(e):!0!==w.get(e)&&w.set(e,!1)}}),[T,y.length,y.join("-")]);const E=[];if(v!==x){let t=[...v];for(let e=0;e<T.length;e++){const n=T[e],r=f(n);y.includes(r)||(t.splice(e,0,n),E.push(n))}return"wait"===h&&E.length&&(t=E),S(m(t)),void A(v)}const{forceRender:C}=(0,i.useContext)(d.L);return(0,r.jsx)(r.Fragment,{children:T.map((t=>{const e=f(t),n=v===T||y.includes(e);return(0,r.jsx)(c,{isPresent:n,initial:!(_.current&&!a)&&void 0,custom:n?void 0:s,presenceAffectsLayout:u,mode:h,onExitComplete:n?void 0:()=>{if(!w.has(e))return;w.set(e,!0);let t=!0;w.forEach((e=>{e||(t=!1)})),t&&(null===C||void 0===C||C(),S(b.current),l&&l())},children:t},e)}))})}},2190:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(0,n(5043).createContext)({})},1051:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});const r=(0,n(5043).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"})},9674:(t,e,n)=>{"use strict";n.d(e,{t:()=>r});const r=(0,n(5043).createContext)(null)},9565:(t,e,n)=>{"use strict";function r(t){if("undefined"===typeof Proxy)return t;const e=new Map;return new Proxy((function(){return t(...arguments)}),{get:(n,r)=>"create"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}n.d(e,{P:()=>ta});var i=n(2555);function s(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}var o=n(3986);const a=t=>Array.isArray(t);function l(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function u(t){return"string"===typeof t||Array.isArray(t)}function c(t){const e=[{},{}];return null===t||void 0===t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function h(t,e,n,r){if("function"===typeof e){const[i,s]=c(r);e=e(void 0!==n?n:t.custom,i,s)}if("string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e){const[i,s]=c(r);e=e(void 0!==n?n:t.custom,i,s)}return e}function d(t,e,n){const r=t.getProps();return h(r,e,void 0!==n?n:r.custom,t)}const p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f=["initial",...p],m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],g=new Set(m),v=t=>1e3*t,y=t=>t/1e3,_={type:"spring",stiffness:500,damping:25,restSpeed:10},b={type:"keyframes",duration:.8},w={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},x=(t,e)=>{let{keyframes:n}=e;return n.length>2?b:g.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:_:w};function A(t,e){return t?t[e]||t.default||t:void 0}const T=!1,S=!1,E=!1,C=t=>null!==t;function M(t,e,n){let{repeat:r,repeatType:i="loop"}=e;const s=t.filter(C),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}var k=n(4760);const O=["read","resolveKeyframes","update","preRender","render","postRender"];function D(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=O.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(e){s.has(e)&&(l.schedule(e),t()),e(o)}const l={schedule:function(t){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(t),i.has(t)||i.add(t),t},cancel:t=>{n.delete(t),s.delete(t)},process:t=>{o=t,r?i=!0:(r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(t)))}};return l}(s),t)),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,p=()=>{const s=S?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},f=O.reduce(((e,s)=>{const a=o[s];return e[s]=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||t(p)),a.schedule(e,s,o)},e}),{});return{schedule:f,cancel:t=>{for(let e=0;e<O.length;e++)o[O[e]].cancel(t)},state:i,steps:o}}const{schedule:P,cancel:R,state:F,steps:N}=D("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:k.l,!0),I=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function V(t,e,n,r){if(t===e&&n===r)return k.l;const i=e=>function(t,e,n,r,i){let s,o,a=0;do{o=e+(n-e)/2,s=I(o,r,i)-t,s>0?n=o:e=o}while(Math.abs(s)>1e-7&&++a<12);return o}(e,0,1,t,n);return t=>0===t||1===t?t:I(i(t),e,r)}const j=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L=t=>e=>1-t(1-e),B=V(.33,1.53,.69,.99),U=L(B),W=j(U),Y=t=>(t*=2)<1?.5*U(t):.5*(2-Math.pow(2,-10*(t-1))),q=t=>1-Math.sin(Math.acos(t)),G=L(q),z=j(q),H=t=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(t);var X=n(4327);const Z=t=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(t),K=t=>e=>"string"===typeof e&&e.startsWith(t),$=K("--"),Q=K("var(--"),J=t=>!!Q(t)&&tt.test(t.split("/*")[0].trim()),tt=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,et=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function nt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,X.V)(n<=4,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'));const[r,i]=function(t){const e=et.exec(t);if(!e)return[,];const[,n,r,i]=e;return["--".concat(null!==n&&void 0!==n?n:r),i]}(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const t=s.trim();return Z(t)?parseFloat(t):t}return J(i)?nt(i,e,n+1):i}const rt=(t,e,n)=>n>e?e:n<t?t:n,it={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},st=(0,i.A)((0,i.A)({},it),{},{transform:t=>rt(0,1,t)}),ot=(0,i.A)((0,i.A)({},it),{},{default:1}),at=t=>({test:e=>"string"===typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),lt=at("deg"),ut=at("%"),ct=at("px"),ht=at("vh"),dt=at("vw"),pt=(0,i.A)((0,i.A)({},ut),{},{parse:t=>ut.parse(t)/100,transform:t=>ut.transform(100*t)}),ft=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mt=t=>t===it||t===ct,gt=(t,e)=>parseFloat(t.split(", ")[e]),vt=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(s)return gt(s[1],e);{const e=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return e?gt(e[1],t):0}},yt=new Set(["x","y","z"]),_t=m.filter((t=>!yt.has(t)));const bt={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:vt(4,13),y:vt(5,14)};bt.translateX=bt.x,bt.translateY=bt.y;const wt=t=>e=>e.test(t),xt=[it,ct,ut,lt,dt,ht,{test:t=>"auto"===t,parse:t=>t}],At=t=>xt.find(wt(t)),Tt=new Set;let St=!1,Et=!1;function Ct(){if(Et){const t=Array.from(Tt).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return _t.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((e=>{let[n,r]=e;var i;null===(i=t.getValue(n))||void 0===i||i.set(r)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}Et=!1,St=!1,Tt.forEach((t=>t.complete())),Tt.clear()}function Mt(){Tt.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(Et=!0)}))}class kt{constructor(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Tt.add(this),St||(St=!0,P.read(Mt),P.resolveKeyframes(Ct))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,s);void 0!==r&&null!==r&&(t[0]=r)}void 0===t[0]&&(t[0]=s),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Tt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Tt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ot=t=>Math.round(1e5*t)/1e5,Dt=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Pt=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Rt=(t,e)=>n=>Boolean("string"===typeof n&&Pt.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ft=(t,e,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(Dt);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Nt=(0,i.A)((0,i.A)({},it),{},{transform:t=>Math.round((t=>rt(0,255,t))(t))}),It={test:Rt("rgb","red"),parse:Ft("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+Nt.transform(e)+", "+Nt.transform(n)+", "+Nt.transform(r)+", "+Ot(st.transform(i))+")"}};const Vt={test:Rt("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:It.transform},jt={test:Rt("hsl","hue"),parse:Ft("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+ut.transform(Ot(n))+", "+ut.transform(Ot(r))+", "+Ot(st.transform(i))+")"}},Lt={test:t=>It.test(t)||Vt.test(t)||jt.test(t),parse:t=>It.test(t)?It.parse(t):jt.test(t)?jt.parse(t):Vt.parse(t),transform:t=>"string"===typeof t?t:t.hasOwnProperty("red")?It.transform(t):jt.transform(t)},Bt=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Ut="number",Wt="color",Yt=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function qt(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Yt,(t=>(Lt.test(t)?(r.color.push(s),i.push(Wt),n.push(Lt.parse(t))):t.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(t)):(r.number.push(s),i.push(Ut),n.push(parseFloat(t))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function Gt(t){return qt(t).values}function zt(t){const{split:e,types:n}=qt(t),r=e.length;return t=>{let i="";for(let s=0;s<r;s++)if(i+=e[s],void 0!==t[s]){const e=n[s];i+=e===Ut?Ot(t[s]):e===Wt?Lt.transform(t[s]):t[s]}return i}}const Ht=t=>"number"===typeof t?0:t;const Xt={test:function(t){var e,n;return isNaN(t)&&"string"===typeof t&&((null===(e=t.match(Dt))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Bt))||void 0===n?void 0:n.length)||0)>0},parse:Gt,createTransformer:zt,getAnimatableNone:function(t){const e=Gt(t);return zt(t)(e.map(Ht))}},Zt=new Set(["brightness","contrast","saturate","opacity"]);function Kt(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(Dt)||[];if(!r)return t;const i=n.replace(r,"");let s=Zt.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const $t=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Qt=(0,i.A)((0,i.A)({},Xt),{},{getAnimatableNone:t=>{const e=t.match($t);return e?e.map(Kt).join(" "):t}}),Jt={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct},te={rotate:lt,rotateX:lt,rotateY:lt,rotateZ:lt,scale:ot,scaleX:ot,scaleY:ot,scaleZ:ot,skew:lt,skewX:lt,skewY:lt,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:st,originX:pt,originY:pt,originZ:ct},ee=(0,i.A)((0,i.A)({},it),{},{transform:Math.round}),ne=(0,i.A)((0,i.A)((0,i.A)({},Jt),te),{},{zIndex:ee,size:ct,fillOpacity:st,strokeOpacity:st,numOctaves:ee}),re=(0,i.A)((0,i.A)({},ne),{},{color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Qt,WebkitFilter:Qt}),ie=t=>re[t];function se(t,e){let n=ie(t);return n!==Qt&&(n=Xt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oe=new Set(["auto","none","0"]);class ae extends kt{constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let n=t[a];if("string"===typeof n&&(n=n.trim(),J(n))){const r=nt(n,e.current);void 0!==r&&(t[a]=r),a===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ft.has(n)||2!==t.length)return;const[r,i]=t,s=At(r),o=At(i);if(s!==o)if(mt(s)&&mt(o))for(let a=0;a<t.length;a++){const e=t[a];"string"===typeof e&&(t[a]=parseFloat(e))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let i=0;i<t.length;i++)("number"===typeof(r=t[i])?0===r:null===r||"none"===r||"0"===r||H(r))&&n.push(i);var r;n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){const e=t[i];"string"===typeof e&&!oe.has(e)&&qt(e).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=se(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=bt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function le(t){return"function"===typeof t}let ue;function ce(){ue=void 0}const he={now:()=>(void 0===ue&&he.set(F.isProcessing||S?F.timestamp:performance.now()),ue),set:t=>{ue=t,queueMicrotask(ce)}},de=(t,e)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Xt.test(t)&&"0"!==t||t.startsWith("url(")));function pe(t,e,n,r){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const s=t[t.length-1],o=de(i,e),a=de(s,e);return(0,X.$)(o===a,"You are trying to animate ".concat(e,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property.")),!(!o||!a)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||le(n))&&r)}const fe=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class me{constructor(t){let{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop"}=t,u=(0,o.A)(t,fe);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=he.now(),this.options=(0,i.A)({autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l},u),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Mt(),Ct()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=he.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!pe(t,n,r,s)){if(E||!o)return null===l||void 0===l||l(M(t,this.options,e)),null===a||void 0===a||a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved=(0,i.A)({keyframes:t,finalKeyframe:e},c),this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}const ge=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},ve=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(ge(0,i-1,s))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function ye(t,e){return e?t*(1e3/e):0}function _e(t,e,n){const r=Math.max(e-5,0);return ye(n-t(r),e-r)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},we=.001;function xe(t){let e,n,{duration:r=be.duration,bounce:i=be.bounce,velocity:s=be.velocity,mass:o=be.mass}=t;(0,X.$)(r<=v(be.maxDuration),"Spring duration must be 10 seconds or less");let a=1-i;a=rt(be.minDamping,be.maxDamping,a),r=rt(be.minDuration,be.maxDuration,y(r)),a<1?(e=t=>{const e=t*a,n=e*r,i=e-s,o=Te(t,a),l=Math.exp(-n);return we-i/o*l},n=t=>{const n=t*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(t,2)*r,l=Math.exp(-n),u=Te(Math.pow(t,2),a);return(-e(t)+we>0?-1:1)*((i-o)*l)/u}):(e=t=>Math.exp(-t*r)*((t-s)*r+1)-.001,n=t=>Math.exp(-t*r)*(r*r*(s-t)));const l=function(t,e,n){let r=n;for(let i=1;i<Ae;i++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=v(r),isNaN(l))return{stiffness:be.stiffness,damping:be.damping,duration:r};{const t=Math.pow(l,2)*o;return{stiffness:t,damping:2*a*Math.sqrt(o*t),duration:r}}}const Ae=12;function Te(t,e){return t*Math.sqrt(1-e*e)}const Se=2e4;function Ee(t){let e=0;let n=t.next(e);for(;!n.done&&e<Se;)e+=50,n=t.next(e);return e>=Se?1/0:e}const Ce=["duration","bounce"],Me=["stiffness","damping","mass"];function ke(t,e){return e.some((e=>void 0!==t[e]))}function Oe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be.visualDuration,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.bounce;const n="object"!==typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(t){let e=(0,i.A)({velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1},t);if(!ke(t,Me)&&ke(t,Ce))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,o=2*rt(.05,1,1-t.bounce)*Math.sqrt(s);e=(0,i.A)((0,i.A)({},e),{},{mass:be.mass,stiffness:s,damping:o})}else{const n=xe(t);e=(0,i.A)((0,i.A)((0,i.A)({},e),n),{},{mass:be.mass}),e.isResolvedFromDuration=!0}return e}((0,i.A)((0,i.A)({},n),{},{velocity:-y(n.velocity||0)})),m=p||0,g=c/(2*Math.sqrt(u*h)),_=a-o,b=y(Math.sqrt(u/h)),w=Math.abs(_)<5;let x;if(r||(r=w?be.restSpeed.granular:be.restSpeed.default),s||(s=w?be.restDelta.granular:be.restDelta.default),g<1){const t=Te(b,g);x=e=>{const n=Math.exp(-g*b*e);return a-n*((m+g*b*_)/t*Math.sin(t*e)+_*Math.cos(t*e))}}else if(1===g)x=t=>a-Math.exp(-b*t)*(_+(m+b*_)*t);else{const t=b*Math.sqrt(g*g-1);x=e=>{const n=Math.exp(-g*b*e),r=Math.min(t*e,300);return a-n*((m+g*b*_)*Math.sinh(r)+t*_*Math.cosh(r))/t}}const A={calculatedDuration:f&&d||null,next:t=>{const e=x(t);if(f)l.done=t>=d;else{let n=0;g<1&&(n=0===t?v(m):_e(x,t,e));const i=Math.abs(n)<=r,o=Math.abs(a-e)<=s;l.done=i&&o}return l.value=l.done?a:e,l},toString:()=>{const t=Math.min(Ee(A),Se),e=ve((e=>A.next(t*e).value),t,30);return t+"ms "+e}};return A}function De(t){let{keyframes:e,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:h}=t;const d=e[0],p={done:!1,value:d},f=t=>void 0===l?u:void 0===u||Math.abs(l-t)<Math.abs(u-t)?l:u;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=t=>-m*Math.exp(-t/i),_=t=>v+y(t),b=t=>{const e=y(t),n=_(t);p.done=Math.abs(e)<=c,p.value=p.done?v:n};let w,x;const A=t=>{var e;(e=p.value,void 0!==l&&e<l||void 0!==u&&e>u)&&(w=t,x=Oe({keyframes:[p.value,f(p.value)],velocity:_e(_,t,p.value),damping:s,stiffness:o,restDelta:c,restSpeed:h}))};return A(0),{calculatedDuration:null,next:t=>{let e=!1;return x||void 0!==w||(e=!0,b(t),A(t)),void 0!==w&&t>=w?x.next(t-w):(!e&&b(t),p)}}}const Pe=V(.42,0,1,1),Re=V(0,0,.58,1),Fe=V(.42,0,.58,1),Ne=t=>Array.isArray(t)&&"number"===typeof t[0],Ie={linear:k.l,easeIn:Pe,easeInOut:Fe,easeOut:Re,circIn:q,circInOut:z,circOut:G,backIn:U,backInOut:W,backOut:B,anticipate:Y},Ve=t=>{if(Ne(t)){(0,X.V)(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return V(e,n,r,i)}return"string"===typeof t?((0,X.V)(void 0!==Ie[t],"Invalid easing type '".concat(t,"'")),Ie[t]):t},je=(t,e)=>n=>e(t(n)),Le=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(je)},Be=(t,e,n)=>t+(e-t)*n;function Ue(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function We(t,e){return n=>n>0?e:t}const Ye=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},qe=[Vt,It,jt];function Ge(t){const e=(n=t,qe.find((t=>t.test(n))));var n;if((0,X.$)(Boolean(e),"'".concat(t,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(e))return!1;let r=e.parse(t);return e===jt&&(r=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;s=Ue(i,t,e+1/3),o=Ue(i,t,e),a=Ue(i,t,e-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(r)),r}const ze=(t,e)=>{const n=Ge(t),r=Ge(e);if(!n||!r)return We(t,e);const s=(0,i.A)({},n);return t=>(s.red=Ye(n.red,r.red,t),s.green=Ye(n.green,r.green,t),s.blue=Ye(n.blue,r.blue,t),s.alpha=Be(n.alpha,r.alpha,t),It.transform(s))},He=new Set(["none","hidden"]);function Xe(t,e){return n=>Be(t,e,n)}function Ze(t){return"number"===typeof t?Xe:"string"===typeof t?J(t)?We:Lt.test(t)?ze:Qe:Array.isArray(t)?Ke:"object"===typeof t?Lt.test(t)?ze:$e:We}function Ke(t,e){const n=[...t],r=n.length,i=t.map(((t,n)=>Ze(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function $e(t,e){const n=(0,i.A)((0,i.A)({},t),e),r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Ze(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const Qe=(t,e)=>{const n=Xt.createTransformer(e),r=qt(t),i=qt(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?He.has(t)&&!i.values.length||He.has(e)&&!r.values.length?function(t,e){return He.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Le(Ke(function(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=null!==(n=t.values[a])&&void 0!==n?n:0;r[s]=l,i[o]++}return r}(r,i),i.values),n):((0,X.$)(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),We(t,e))};function Je(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return Be(t,e,n);return Ze(t)(t,e)}function tn(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=t.length;if((0,X.V)(s===e.length,"Both input and output ranges must be the same length"),1===s)return()=>e[0];if(2===s&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=function(t,e,n){const r=[],i=n||Je,s=t.length-1;for(let o=0;o<s;o++){let n=i(t[o],t[o+1]);if(e){const t=Array.isArray(e)?e[o]||k.l:e;n=Le(t,n)}r.push(n)}return r}(e,r,i),a=o.length,l=e=>{let n=0;if(a>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=ge(t[n],t[n+1],e);return o[n](r)};return n?e=>l(rt(t[0],t[s-1],e)):l}function en(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ge(0,e,r);t.push(Be(n,1,i))}}(e,t.length-1),e}function nn(t){let{duration:e=300,keyframes:n,times:r,ease:i="easeInOut"}=t;const s=(t=>Array.isArray(t)&&"number"!==typeof t[0])(i)?i.map(Ve):Ve(i),o={done:!1,value:n[0]},a=function(t,e){return t.map((t=>t*e))}(r&&r.length===n.length?r:en(n),e),l=tn(a,n,{ease:Array.isArray(s)?s:(u=n,c=s,u.map((()=>c||Fe)).splice(0,u.length-1))});var u,c;return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}const rn=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>P.update(e,!0),stop:()=>R(e),now:()=>F.isProcessing?F.timestamp:he.now()}},sn={decay:De,inertia:De,tween:nn,keyframes:nn,spring:Oe},on=t=>t/100;class an extends me{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||kt;this.resolver=new s(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=le(e)?e:sn[e]||nn;let l,u;a!==nn&&"number"!==typeof t[0]&&(l=Le(on,Je(t[0],t[1])),t=[0,100]);const c=a((0,i.A)((0,i.A)({},this.options),{},{keyframes:t}));"mirror"===s&&(u=a((0,i.A)((0,i.A)({},this.options),{},{keyframes:[...t].reverse(),velocity:-o}))),null===c.calculatedDuration&&(c.calculatedDuration=Ee(c));const{calculatedDuration:h}=c,d=h+r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let y=this.currentTime,_=i;if(d){const t=Math.min(this.currentTime,u)/c;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,d+1);Boolean(e%2)&&("reverse"===p?(n=1-n,f&&(n-=f/c)):"mirror"===p&&(_=s)),y=rt(0,1,n)*c}const b=v?{done:!1,value:a[0]}:_.next(y);o&&(b.value=o(b.value));let{done:w}=b;v||null===l||(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return x&&void 0!==r&&(b.value=M(a,this.options,r)),m&&m(b.value),x&&this.finish(),b}get duration(){const{resolved:t}=this;return t?y(t.calculatedDuration):0}get time(){return y(this.currentTime)}set time(t){t=v(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=y(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=rn,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;this._resolved?(this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ln=new Set(["opacity","clipPath","filter","transform"]);function un(t){let e;return()=>(void 0===e&&(e=t()),e)}const cn={linearEasing:void 0};function hn(t,e){const n=un(t);return()=>{var t;return null!==(t=cn[e])&&void 0!==t?t:n()}}const dn=hn((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}),"linearEasing");function pn(t){return Boolean("function"===typeof t&&dn()||!t||"string"===typeof t&&(t in mn||dn())||Ne(t)||Array.isArray(t)&&t.every(pn))}const fn=t=>{let[e,n,r,i]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(r,", ").concat(i,")")},mn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fn([0,.65,.55,1]),circOut:fn([.55,0,1,.45]),backIn:fn([.31,.01,.66,-.59]),backOut:fn([.33,1.53,.69,.99])};function gn(t,e){return t?"function"===typeof t&&dn()?ve(t,e):Ne(t)?fn(t):Array.isArray(t)?t.map((t=>gn(t,e)||mn.easeOut)):mn[t]:void 0}function vn(t,e,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[e]:n};l&&(u.offset=l);const c=gn(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}function yn(t,e){t.timeline=e,t.onfinish=null}const _n=un((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),bn=["onComplete","onUpdate","motionValue","element"],wn=["motionValue","onUpdate","onComplete","element"];const xn={anticipate:Y,backInOut:W,circInOut:z};class An extends me{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new ae(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:s,ease:a,type:l,motionValue:u,name:c,startTime:h}=this.options;if(!(null===(n=u.owner)||void 0===n?void 0:n.current))return!1;var d;if("string"===typeof a&&dn()&&a in xn&&(a=xn[a]),le((d=this.options).type)||"spring"===d.type||!pn(d.ease)){const e=this.options,{onComplete:n,onUpdate:u,motionValue:c,element:h}=e,d=(0,o.A)(e,bn),p=function(t,e){const n=new an((0,i.A)((0,i.A)({},e),{},{keyframes:t,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),s.push(r.value),o+=10;return{times:void 0,keyframes:s,duration:o-10,ease:"linear"}}(t,d);1===(t=p.keyframes).length&&(t[1]=t[0]),r=p.duration,s=p.times,a=p.ease,l="keyframes"}const p=vn(u.owner.current,c,t,(0,i.A)((0,i.A)({},this.options),{},{duration:r,times:s,ease:a}));return p.startTime=null!==h&&void 0!==h?h:this.calcStartTime(),this.pendingTimeline?(yn(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:n}=this.options;u.set(M(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:s,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return y(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return y(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=v(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return k.l;const{animation:n}=e;yn(n,t)}else this.pendingTimeline=t;return k.l}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:s,ease:a,times:l}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){const t=this.options,{motionValue:e,onUpdate:u,onComplete:c,element:h}=t,d=(0,o.A)(t,wn),p=new an((0,i.A)((0,i.A)({},d),{},{keyframes:n,duration:r,type:s,ease:a,times:l,isGenerator:!0})),f=v(this.time);e.setWithVelocity(p.sample(f-10).value,p.sample(f).value,10)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;return _n()&&n&&ln.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==s&&"inertia"!==o}}const Tn=un((()=>void 0!==window.ScrollTimeline));class Sn{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>Tn()&&n.attachTimeline?n.attachTimeline(t):e(n)));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const En=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Cn=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return l=>{const u=A(r,t)||{},c=u.delay||r.delay||0;let{elapsed:h=0}=r;h-=v(c);let d=(0,i.A)((0,i.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},u),{},{delay:-h,onUpdate:t=>{e.set(t),u.onUpdate&&u.onUpdate(t)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s});(function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:c,elapsed:h}=t,d=(0,o.A)(t,En);return!!Object.keys(d).length})(u)||(d=(0,i.A)((0,i.A)({},d),x(t,d))),d.duration&&(d.duration=v(d.duration)),d.repeatDelay&&(d.repeatDelay=v(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let p=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(p=!0)),(E||T)&&(p=!0,d.duration=0,d.delay=0),p&&!a&&void 0!==e.get()){const t=M(d.keyframes,u);if(void 0!==t)return P.update((()=>{d.onUpdate(t),d.onComplete()})),new Sn([])}return!a&&An.supports(d)?new An(d):new an(d)}};function Mn(t,e){-1===t.indexOf(e)&&t.push(e)}function kn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class On{constructor(){this.subscriptions=[]}add(t){return Mn(this.subscriptions,t),()=>kn(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dn={current:void 0};class Pn{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=he.now();e.updatedAt!==r&&e.setPrevFrameValue(),e.prev=e.current,e.setCurrent(t),e.current!==e.prev&&e.events.change&&e.events.change.notify(e.current),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){var e;this.current=t,this.updatedAt=he.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new On);const n=this.events[t].add(e);return"change"===t?()=>{n(),P.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Dn.current&&Dn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=he.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ye(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rn(t,e){return new Pn(t,e)}const Fn=["transitionEnd","transition"];function Nn(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rn(n))}const In=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vn="data-"+In("framerAppearId");function jn(t){return t.props[Vn]}const Ln=t=>Boolean(t&&t.getVelocity);function Bn(t,e){const n=t.getValue("willChange");if(r=n,Boolean(Ln(r)&&r.add))return n.add(e);var r}const Un=["transition","transitionEnd"];function Wn(t,e){let{protectedKeys:n,needsAnimating:r}=t;const i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}function Yn(t,e){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var l;let{transition:u=t.getDefaultTransition(),transitionEnd:c}=e,h=(0,o.A)(e,Un);r&&(u=r);const p=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const o in h){const e=t.getValue(o,null!==(l=t.latestValues[o])&&void 0!==l?l:null),r=h[o];if(void 0===r||f&&Wn(f,o))continue;const s=(0,i.A)({delay:n},A(u||{},o));let a=!1;if(window.MotionHandoffAnimation){const e=jn(t);if(e){const t=window.MotionHandoffAnimation(e,o,P);null!==t&&(s.startTime=t,a=!0)}}Bn(t,o),e.start(Cn(o,e,r,t.shouldReduceMotion&&g.has(o)?{type:!1}:s,t,a));const c=e.animation;c&&p.push(c)}return c&&Promise.all(p).then((()=>{P.update((()=>{c&&function(t,e){let n=d(t,e)||{},{transitionEnd:r={},transition:s={}}=n,l=(0,o.A)(n,Fn);l=(0,i.A)((0,i.A)({},l),r);for(const i in l)Nn(t,i,(u=l[i],a(u)?u[u.length-1]||0:u));var u}(t,c)}))})),p}function qn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const s=d(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(Yn(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:l}=o;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],l=(t.variantChildren.size-1)*r,u=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return l-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(t.variantChildren).sort(Gn).forEach(((t,r)=>{t.notify("AnimationStart",e),a.push(qn(t,e,(0,i.A)((0,i.A)({},o),{},{delay:n+u(r)})).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(a)}(t,e,s+r,a,l,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[t,e]="beforeChildren"===u?[a,l]:[l,a];return t().then((()=>e()))}return Promise.all([a(),l(n.delay)])}function Gn(t,e){return t.sortNodePosition(e)}const zn=f.length;function Hn(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&Hn(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<zn;n++){const r=f[n],i=t.props[r];(u(i)||!1===i)&&(e[r]=i)}return e}const Xn=["transition","transitionEnd"],Zn=[...p].reverse(),Kn=p.length;function $n(t){return e=>Promise.all(e.map((e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>qn(t,e,r)));n=Promise.all(i)}else if("string"===typeof e)n=qn(t,e,r);else{const i="function"===typeof e?d(t,e,r.custom):e;n=Promise.all(Yn(t,i,r))}return n.then((()=>{t.notify("AnimationComplete",e)}))}(t,n,r)})))}function Qn(t){let e=$n(t),n=er(),r=!0;const c=e=>(n,r)=>{var s;const a=d(t,r,"exit"===e?null===(s=t.presenceContext)||void 0===s?void 0:s.custom:void 0);if(a){const{transition:t,transitionEnd:e}=a,r=(0,o.A)(a,Xn);n=(0,i.A)((0,i.A)((0,i.A)({},n),r),e)}return n};function h(o){const{props:h}=t,d=Hn(t.parent)||{},p=[],f=new Set;let m={},g=1/0;for(let e=0;e<Kn;e++){const v=Zn[e],y=n[v],_=void 0!==h[v]?h[v]:d[v],b=u(_),w=v===o?y.isActive:null;!1===w&&(g=e);let x=_===d[v]&&_!==h[v]&&b;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),y.protectedKeys=(0,i.A)({},m),!y.isActive&&null===w||!_&&!y.prevProp||s(_)||"boolean"===typeof _)continue;const A=Jn(y.prevProp,_);let T=A||v===o&&y.isActive&&!x&&b||e>g&&b,S=!1;const E=Array.isArray(_)?_:[_];let C=E.reduce(c(v),{});!1===w&&(C={});const{prevResolvedValues:M={}}=y,k=(0,i.A)((0,i.A)({},M),C),O=e=>{T=!0,f.has(e)&&(S=!0,f.delete(e)),y.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in k){const e=C[t],n=M[t];if(m.hasOwnProperty(t))continue;let r=!1;r=a(e)&&a(n)?!l(e,n):e!==n,r?void 0!==e&&null!==e?O(t):f.add(t):void 0!==e&&f.has(t)?O(t):y.protectedKeys[t]=!0}y.prevProp=_,y.prevResolvedValues=C,y.isActive&&(m=(0,i.A)((0,i.A)({},m),C)),r&&t.blockInitialAnimation&&(T=!1);T&&(!(x&&A)||S)&&p.push(...E.map((t=>({animation:t,options:{type:v}}))))}if(f.size){const e={};f.forEach((n=>{const r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!==r&&void 0!==r?r:null})),p.push({animation:e})}let v=Boolean(p.length);return!r||!1!==h.initial&&h.initial!==h.animate||t.manuallyAnimateOnMount||(v=!1),r=!1,v?e(p):Promise.resolve()}return{animateChanges:h,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const s=h(e);for(const t in n)n[t].protectedKeys={};return s},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=er(),r=!0}}}function Jn(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!l(e,t)}function tr(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function er(){return{animate:tr(!0),whileInView:tr(),whileHover:tr(),whileTap:tr(),whileDrag:tr(),whileFocus:tr(),exit:tr()}}class nr{constructor(t){this.isMounted=!1,this.node=t}update(){}}let rr=0;const ir={animation:{Feature:class extends nr{constructor(t){super(t),t.animationState||(t.animationState=Qn(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();s(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends nr{constructor(){super(...arguments),this.id=rr++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},sr={x:!1,y:!1};function or(){return sr.x||sr.y}function ar(t,e){const n=function(t,e,n){var r;if(t instanceof Element)return[t];if("string"===typeof t){let i=document;e&&(i=e.current);const s=null!==(r=null===n||void 0===n?void 0:n[t])&&void 0!==r?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}(t),r=new AbortController;return[n,(0,i.A)((0,i.A)({passive:!0},e),{},{signal:r.signal}),()=>r.abort()]}function lr(t){return e=>{"touch"===e.pointerType||or()||t(e)}}const ur=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary,cr=new WeakSet;function hr(t){return e=>{"Enter"===e.key&&t(e)}}function dr(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pr=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const fr=(t,e)=>!!e&&(t===e||fr(t,e.parentElement));function mr(t){return ur(t)&&!or()}function gr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=ar(t,n),o=t=>{const r=t.currentTarget;if(!mr(t)||cr.has(r))return;cr.add(r);const s=e(t),o=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),mr(t)&&cr.has(r)&&(cr.delete(r),s&&s(t,{success:e}))},a=t=>{o(t,n.useGlobalTarget||fr(r,t.target))},l=t=>{o(t,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach((t=>{(function(t){return pr.has(t.tagName)||-1!==t.tabIndex})(t)||(t.tabIndex=0);(n.useGlobalTarget?window:t).addEventListener("pointerdown",o,i),t.addEventListener("focus",(t=>((t,e)=>{const n=t.currentTarget;if(!n)return;const r=hr((()=>{if(cr.has(n))return;dr(n,"down");const t=hr((()=>{dr(n,"up")}));n.addEventListener("keyup",t,e),n.addEventListener("blur",(()=>dr(n,"cancel")),e)}));n.addEventListener("keydown",r,e),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),e)})(t,i)),i)})),s}function vr(t){return{point:{x:t.pageX,y:t.pageY}}}function yr(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _r(t,e,n,r){return yr(t,e,(t=>e=>ur(e)&&t(e,vr(e)))(n),r)}const br=(t,e)=>Math.abs(t-e);class wr{constructor(t,e){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Tr(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=br(t.x,e.x),r=br(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:s}=F;this.history.push((0,i.A)((0,i.A)({},r),{},{timestamp:s}));const{onStart:o,onMove:a}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=xr(e,this.transformPagePoint),P.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Tr("pointercancel"===t.type?this.lastMoveEventInfo:xr(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,s),r&&r(t,s)},!ur(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=xr(vr(t),this.transformPagePoint),{point:a}=o,{timestamp:l}=F;this.history=[(0,i.A)((0,i.A)({},a),{},{timestamp:l})];const{onSessionStart:u}=e;u&&u(t,Tr(o,this.history)),this.removeListeners=Le(_r(this.contextWindow,"pointermove",this.handlePointerMove),_r(this.contextWindow,"pointerup",this.handlePointerUp),_r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),R(this.updatePoint)}}function xr(t,e){return e?{point:e(t.point)}:t}function Ar(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tr(t,e){let{point:n}=t;return{point:n,delta:Ar(n,Er(e)),offset:Ar(n,Sr(e)),velocity:Cr(e,.1)}}function Sr(t){return t[0]}function Er(t){return t[t.length-1]}function Cr(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Er(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>v(e)));)n--;if(!r)return{x:0,y:0};const s=y(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mr(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function kr(t){return t.max-t.min}function Or(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=Be(e.min,e.max,t.origin),t.scale=kr(n)/kr(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function Dr(t,e,n,r){Or(t.x,e.x,n.x,r?r.originX:void 0),Or(t.y,e.y,n.y,r?r.originY:void 0)}function Pr(t,e,n){t.min=n.min+e.min,t.max=t.min+kr(e)}function Rr(t,e,n){t.min=e.min-n.min,t.max=t.min+kr(e)}function Fr(t,e,n){Rr(t.x,e.x,n.x),Rr(t.y,e.y,n.y)}function Nr(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Ir(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const Vr=.35;function jr(t,e,n){return{min:Lr(t,e),max:Lr(t,n)}}function Lr(t,e){return"number"===typeof t?t:t[e]||0}const Br=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ur(t){return[t("x"),t("y")]}function Wr(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function Yr(t){return void 0===t||1===t}function qr(t){let{scale:e,scaleX:n,scaleY:r}=t;return!Yr(e)||!Yr(n)||!Yr(r)}function Gr(t){return qr(t)||zr(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zr(t){return Hr(t.x)||Hr(t.y)}function Hr(t){return t&&"0%"!==t}function Xr(t,e,n){return n+e*(t-n)}function Zr(t,e,n,r,i){return void 0!==i&&(t=Xr(t,i,r)),Xr(t,n,r)+e}function Kr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=Zr(t.min,e,n,r,i),t.max=Zr(t.max,e,n,r,i)}function $r(t,e){let{x:n,y:r}=e;Kr(t.x,n.translate,n.scale,n.originPoint),Kr(t.y,r.translate,r.scale,r.originPoint)}const Qr=.999999999999,Jr=1.0000000000001;function ti(t,e){t.min=t.min+e,t.max=t.max+e}function ei(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Kr(t,e,n,Be(t.min,t.max,i),r)}function ni(t,e){ei(t.x,e.x,e.scaleX,e.scale,e.originX),ei(t.y,e.y,e.scaleY,e.scale,e.originY)}function ri(t,e){return Wr(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const ii=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},si=new WeakMap;class oi{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new wr(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(vr(t).point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?sr[s]?null:(sr[s]=!0,()=>{sr[s]=!1}):sr.x||sr.y?null:(sr.x=sr.y=!0,()=>{sr.x=sr.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur((t=>{let e=this.getAxisMotionValue(t).get()||0;if(ut.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=kr(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),i&&P.postRender((()=>i(t,e))),Bn(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,o),this.updateAxis("y",e.point,o),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>Ur((t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ii(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&P.postRender((()=>i(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!ai(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?Be(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?Be(i,t,n.max):Math.min(t,i)),t}(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&Mr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(t,e){let{top:n,left:r,bottom:i,right:s}=e;return{x:Nr(t.x,r,s),y:Nr(t.y,n,i)}}(r.layoutBox,e),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr;return!1===t?t=0:!0===t&&(t=Vr),{x:jr(t,"left","right"),y:jr(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ur((t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Mr(t))return!1;const n=t.current;(0,X.V)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=ri(t,n),{scroll:i}=e;return i&&(ti(r.x,i.offset.x),ti(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(t,e){return{x:Ir(t.x,e.x),y:Ir(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=Wr(t))}return s}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ur((a=>{if(!ai(a,e,this.currentDirection))return;let u=l&&l[a]||{};o&&(u={min:0,max:0});const c=r?200:1e6,h=r?40:1e7,d=(0,i.A)((0,i.A)({type:"inertia",velocity:n?t[a]:0,bounceStiffness:c,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},s),u);return this.startAxisValueAnimation(a,d)}));return Promise.all(u).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return Bn(this.visualElement,t),n.start(Cn(t,n,0,e,this.visualElement,!1))}stopAnimation(){Ur((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){Ur((t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()}))}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e="_drag".concat(t.toUpperCase()),n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ur((e=>{const{drag:n}=this.getProps();if(!ai(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[e];i.set(t[e]-Be(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Mr(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ur((t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();r[t]=function(t,e){let n=.5;const r=kr(t),i=kr(e);return i>r?n=ge(e.min,e.max-r,t.min):r>i&&(n=ge(t.min,t.max-i,e.min)),rt(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ur((e=>{if(!ai(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:s}=this.constraints[e];n.set(Be(i,s,r[e]))}))}addListeners(){if(!this.visualElement.current)return;si.set(this.visualElement,this);const t=_r(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();Mr(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),P.read(e);const i=yr(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(Ur((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Vr,dragMomentum:a=!0}=t;return(0,i.A)((0,i.A)({},t),{},{drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a})}}function ai(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const li=t=>(e,n)=>{t&&P.postRender((()=>t(e,n)))};var ui=n(579),ci=n(5043),hi=n(9674);var di=n(2190);const pi=(0,ci.createContext)({}),fi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mi(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gi={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!ct.test(t))return t;t=parseFloat(t)}const n=mi(t,e.target.x),r=mi(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},vi={correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e;const i=t,s=Xt.parse(t);if(s.length>5)return i;const o=Xt.createTransformer(t),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=u;const c=Be(l,u,.5);return"number"===typeof s[2+a]&&(s[2+a]/=c),"number"===typeof s[3+a]&&(s[3+a]/=c),o(s)}},yi={};const{schedule:_i,cancel:bi}=D(queueMicrotask,!1);class wi extends ci.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=t;var o;o=Ai,Object.assign(yi,o),s&&(e.group&&e.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions((0,i.A)((0,i.A)({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),fi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||t.layoutDependency!==e||void 0===e?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||P.postRender((()=>{const t=s.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_i.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xi(t){const[e,n]=function(){const t=(0,ci.useContext)(hi.t);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=(0,ci.useId)();(0,ci.useEffect)((()=>r(i)),[]);const s=(0,ci.useCallback)((()=>n&&n(i)),[i,n]);return!e&&n?[!1,s]:[!0]}(),r=(0,ci.useContext)(di.L);return(0,ui.jsx)(wi,(0,i.A)((0,i.A)({},t),{},{layoutGroup:r,switchLayoutGroup:(0,ci.useContext)(pi),isPresent:e,safeToRemove:n}))}const Ai={borderRadius:(0,i.A)((0,i.A)({},gi),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:gi,borderTopRightRadius:gi,borderBottomLeftRadius:gi,borderBottomRightRadius:gi,boxShadow:vi},Ti=["TopLeft","TopRight","BottomLeft","BottomRight"],Si=Ti.length,Ei=t=>"string"===typeof t?parseFloat(t):t,Ci=t=>"number"===typeof t||ct.test(t);function Mi(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const ki=Di(0,.5,G),Oi=Di(.5,.95,k.l);function Di(t,e,n){return r=>r<t?0:r>e?1:n(ge(t,e,r))}function Pi(t,e){t.min=e.min,t.max=e.max}function Ri(t,e){Pi(t.x,e.x),Pi(t.y,e.y)}function Fi(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ni(t,e,n,r,i){return t=Xr(t-=e,1/n,r),void 0!==i&&(t=Xr(t,1/i,r)),t}function Ii(t,e,n,r,i){let[s,o,a]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;ut.test(e)&&(e=parseFloat(e),e=Be(o.min,o.max,e/100)-o.min);if("number"!==typeof e)return;let a=Be(s.min,s.max,r);t===s&&(a-=e),t.min=Ni(t.min,e,n,a,i),t.max=Ni(t.max,e,n,a,i)}(t,e[s],e[o],e[a],e.scale,r,i)}const Vi=["x","scaleX","originX"],ji=["y","scaleY","originY"];function Li(t,e,n,r){Ii(t.x,e,Vi,n?n.x:void 0,r?r.x:void 0),Ii(t.y,e,ji,n?n.y:void 0,r?r.y:void 0)}function Bi(t){return 0===t.translate&&1===t.scale}function Ui(t){return Bi(t.x)&&Bi(t.y)}function Wi(t,e){return t.min===e.min&&t.max===e.max}function Yi(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qi(t,e){return Yi(t.x,e.x)&&Yi(t.y,e.y)}function Gi(t){return kr(t.x)/kr(t.y)}function zi(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Hi{constructor(){this.members=[]}add(t){Mn(this.members,t),t.scheduleRender()}remove(t){if(kn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Xi=(t,e)=>t.depth-e.depth;class Zi{constructor(){this.children=[],this.isDirty=!1}add(t){Mn(this.children,t),this.isDirty=!0}remove(t){kn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Xi),this.isDirty=!1,this.children.forEach(t)}}function Ki(t){const e=Ln(t)?t.get():t;return n=e,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}function $i(t,e){const n=he.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=e&&(R(r),t(o-e))};return P.read(r,!0),()=>R(r)}const Qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ji="undefined"!==typeof window&&void 0!==window.MotionDebug,ts=["","X","Y","Z"],es={visibility:"hidden"};let ns=0;function rs(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function is(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jn(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",P,!(e||r))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&is(r)}function ss(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=ns++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ji&&(Qi.totalNodes=Qi.resolvedTargetDeltas=Qi.recalculatedProjection=0),this.nodes.forEach(ls),this.nodes.forEach(ms),this.nodes.forEach(gs),this.nodes.forEach(us),Ji&&window.MotionDebug.record(Qi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zi)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new On),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&e.notify(...r)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:s,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||s)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=$i(r,250),fi.hasAnimatedSinceResize&&(fi.hasAnimatedSinceResize=!1,this.nodes.forEach(fs))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&a&&(s||o)&&this.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:s}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||xs,{onLayoutAnimationStart:l,onLayoutAnimationComplete:u}=a.getProps(),c=!this.targetLayout||!qi(this.targetLayout,s)||r,h=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,h);const t=(0,i.A)((0,i.A)({},A(o,"layout")),{},{onPlay:l,onComplete:u});(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||fs(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,R(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vs),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&is(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(hs);this.isUpdating||this.nodes.forEach(ds),this.isUpdating=!1,this.nodes.forEach(ps),this.nodes.forEach(os),this.nodes.forEach(as),this.clearAllSnapshots();const t=he.now();F.delta=rt(0,1e3/60,t-F.timestamp),F.timestamp=t,F.isProcessing=!0,N.update.process(F),N.preRender.process(F),N.render.process(F),F.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_i.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cs),this.sharedNodes.forEach(ys)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,P.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){P.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){const e=s(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!o)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!Ui(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;t&&(e||Gr(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),Ss((r=n).x),Ss(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const n=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(Cs))){const{scroll:t}=this.root;t&&(ti(n.x,t.offset.x),ti(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Ri(n,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return n;for(let r=0;r<this.path.length;r++){const e=this.path[r],{scroll:i,options:s}=e;e!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&Ri(n,t),ti(n.x,i.offset.x),ti(n.y,i.offset.y))}return n}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Ri(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&ni(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),Gr(t.latestValues)&&ni(n,t.latestValues)}return Gr(this.latestValues)&&ni(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};Ri(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!Gr(t.latestValues))continue;qr(t.latestValues)&&t.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Ri(r,t.measurePageBox()),Li(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return Gr(this.latestValues)&&Li(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options=(0,i.A)((0,i.A)((0,i.A)({},this.options),t),{},{crossfade:void 0===t.crossfade||t.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==F.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=F.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fr(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,Pr(o.x,a.x,l.x),Pr(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),$r(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fr(this.relativeTargetOrigin,this.target,t.target),Ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ji&&Qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!qr(this.parent.latestValues)&&!zr(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===F.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Ri(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;e.x=e.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ni(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$r(t,o)),r&&Gr(s.latestValues)&&ni(t,s.latestValues))}e.x<Jr&&e.x>Qr&&(e.x=1),e.y<Jr&&e.y>Qr&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=e;l?(this.projectionDelta&&this.prevProjectionDelta?(Fi(this.prevProjectionDelta.x,this.projectionDelta.x),Fi(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Dr(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&zi(this.projectionDelta.x,this.prevProjectionDelta.x)&&zi(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ji&&Qi.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=(0,i.A)({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(ws));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var i,u;_s(o.x,t.x,n),_s(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fr(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,r){bs(t.x,e.x,n.x,r),bs(t.y,e.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&(i=this.relativeTarget,u=d,Wi(i.x,u.x)&&Wi(i.y,u.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Ri(d,this.relativeTarget)),l&&(this.animationValues=s,function(t,e,n,r,i,s){i?(t.opacity=Be(0,void 0!==n.opacity?n.opacity:1,ki(r)),t.opacityExit=Be(void 0!==e.opacity?e.opacity:1,0,Oi(r))):s&&(t.opacity=Be(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<Si;o++){const i="border".concat(Ti[o],"Radius");let s=Mi(e,i),a=Mi(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Ci(s)===Ci(a)?(t[i]=Math.max(Be(Ei(s),Ei(a),r),0),(ut.test(a)||ut.test(s))&&(t[i]+="%")):t[i]=a)}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(R(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=P.update((()=>{fi.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=Ln(t)?t:Rn(t);return r.start(Cn("",r,e,n)),r.animation}(0,1e3,(0,i.A)((0,i.A)({},t),{},{onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&Es(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=kr(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=kr(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Ri(e,n),ni(e,i),Dr(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Hi);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};n.z&&rs("z",t,r,this.animationValues);for(let i=0;i<ts.length;i++)rs("rotate".concat(ts[i]),t,r,this.animationValues),rs("skew".concat(ts[i]),t,r,this.animationValues);t.render();for(const i in r)t.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return es;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ki(null===t||void 0===t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Ki(null===t||void 0===t?void 0:t.pointerEvents)||""),this.hasProjected&&!Gr(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),1===e.x&&1===e.y||(r+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;t&&(r="perspective(".concat(t,"px) ").concat(r)),e&&(r+="rotate(".concat(e,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=t.x.scale*e.x,l=t.y.scale*e.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(e=o.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in yi){if(void 0===o[u])continue;const{correct:t,applyTo:e}=yi[u],n="none"===r.transform?o[u]:t(o[u],s);if(e){const t=e.length;for(let i=0;i<t;i++)r[e[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Ki(null===t||void 0===t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(hs),this.root.sharedNodes.clear()}}}function os(t){t.updateLayout()}function as(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;"size"===i?Ur((t=>{const r=s?n.measuredBox[t]:n.layoutBox[t],i=kr(r);r.min=e[t].min,r.max=r.min+i})):Es(i,n.layoutBox,e)&&Ur((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=kr(e[r]);i.max=i.min+o,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Dr(o,e,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Dr(a,t.applyTransform(r,!0),n.measuredBox):Dr(a,e,n.layoutBox);const l=!Ui(o);let u=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Fr(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Fr(a,e,s.layoutBox),qi(o,a)||(u=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=o,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function ls(t){Ji&&Qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function us(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cs(t){t.clearSnapshot()}function hs(t){t.clearMeasurements()}function ds(t){t.isLayoutDirty=!1}function ps(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fs(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ms(t){t.resolveTargetDelta()}function gs(t){t.calcProjection()}function vs(t){t.resetSkewAndRotation()}function ys(t){t.removeLeadSnapshot()}function _s(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bs(t,e,n,r){t.min=Be(e.min,n.min,r),t.max=Be(e.max,n.max,r)}function ws(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const xs={duration:.45,ease:[.4,0,.1,1]},As=t=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ts=As("applewebkit/")&&!As("chrome/")?Math.round:k.l;function Ss(t){t.min=Ts(t.min),t.max=Ts(t.max)}function Es(t,e,n){return"position"===t||"preserve-aspect"===t&&(r=Gi(e),i=Gi(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function Cs(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}const Ms=ss({attachResizeListener:(t,e)=>yr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ks={current:void 0},Os=ss({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ks.current){const t=new Ms({});t.mount(window),t.setOptions({layoutScroll:!0}),ks.current=t}return ks.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Ds={pan:{Feature:class extends nr{constructor(){super(...arguments),this.removePointerDownListener=k.l}onPointerDown(t){this.session=new wr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ii(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:li(t),onStart:li(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&P.postRender((()=>r(t,e)))}}}mount(){this.removePointerDownListener=_r(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends nr{constructor(t){super(t),this.removeGroupControls=k.l,this.removeListeners=k.l,this.controls=new oi(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||k.l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Os,MeasureLayout:xi}};function Ps(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&P.postRender((()=>i(e,vr(e))))}function Rs(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&P.postRender((()=>i(e,vr(e))))}const Fs=["root"],Ns=new WeakMap,Is=new WeakMap,Vs=t=>{const e=Ns.get(t.target);e&&e(t)},js=t=>{t.forEach(Vs)};function Ls(t,e,n){const r=function(t){let{root:e}=t,n=(0,o.A)(t,Fs);const r=e||document;Is.has(r)||Is.set(r,{});const s=Is.get(r),a=JSON.stringify(n);return s[a]||(s[a]=new IntersectionObserver(js,(0,i.A)({root:e},n))),s[a]}(e);return Ns.set(t,n),r.observe(t),()=>{Ns.delete(t),r.unobserve(t)}}const Bs={some:0,all:1};const Us={inView:{Feature:class extends nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,s={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Bs[r]};return Ls(this.node.current,s,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=e?n:r;s&&s(t)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends nr{mount(){const{current:t}=this.node;t&&(this.unmount=gr(t,(t=>(Rs(this.node,t,"Start"),(t,e)=>{let{success:n}=e;return Rs(this.node,t,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Le(yr(this.node.current,"focus",(()=>this.onFocus())),yr(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends nr{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=ar(t,n),o=lr((t=>{const{target:n}=t,r=e(t);if(!r||!n)return;const s=lr((t=>{r(t),n.removeEventListener("pointerleave",s)}));n.addEventListener("pointerleave",s,i)}));return r.forEach((t=>{t.addEventListener("pointerenter",o,i)})),s}(t,(t=>(Ps(this.node,t,"Start"),t=>Ps(this.node,t,"End")))))}unmount(){}}}},Ws={layout:{ProjectionNode:Os,MeasureLayout:xi}};var Ys=n(1051);const qs=(0,ci.createContext)({});var Gs=n(293);const zs=(0,ci.createContext)({strict:!1});function Hs(t,e,n,r,i){var s,o;const{visualElement:a}=(0,ci.useContext)(qs),l=(0,ci.useContext)(zs),u=(0,ci.useContext)(hi.t),c=(0,ci.useContext)(Ys.Q).reducedMotion,h=(0,ci.useRef)(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));const d=h.current,p=(0,ci.useContext)(pi);!d||d.projection||!i||"html"!==d.type&&"svg"!==d.type||function(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Xs(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&Mr(a),visualElement:t,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(h.current,n,i,p);const f=(0,ci.useRef)(!1);(0,ci.useInsertionEffect)((()=>{d&&f.current&&d.update(n,u)}));const m=n[Vn],g=(0,ci.useRef)(Boolean(m)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,m))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,m)));return(0,Gs.E)((()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),_i.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())})),(0,ci.useEffect)((()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,m)})),g.current=!1))})),d}function Xs(t){if(t)return!1!==t.options.allowProjection?t.projection:Xs(t.parent)}function Zs(t,e,n){return(0,ci.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):Mr(n)&&(n.current=r))}),[e])}function Ks(t){return s(t.animate)||f.some((e=>u(t[e])))}function $s(t){return Boolean(Ks(t)||t.variants)}function Qs(t){const{initial:e,animate:n}=function(t,e){if(Ks(t)){const{initial:e,animate:n}=t;return{initial:!1===e||u(e)?e:void 0,animate:u(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,ci.useContext)(qs));return(0,ci.useMemo)((()=>({initial:e,animate:n})),[Js(e),Js(n)])}function Js(t){return Array.isArray(t)?t.join(" "):t}const to={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const na in to)eo[na]={isEnabled:t=>to[na].some((e=>!!t[e]))};var no=n(4735);const ro=Symbol.for("motionComponentSymbol");function io(t){let{preloadedFeatures:e,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=t;e&&function(t){for(const e in t)eo[e]=(0,i.A)((0,i.A)({},eo[e]),t[e])}(e);const a=(0,ci.forwardRef)((function(t,e){let a;const l=(0,i.A)((0,i.A)((0,i.A)({},(0,ci.useContext)(Ys.Q)),t),{},{layoutId:so(t)}),{isStatic:u}=l,c=Qs(t),h=s(t,u);if(!u&&no.B){!function(){(0,ci.useContext)(zs).strict;0}();const t=function(t){const{drag:e,layout:n}=eo;if(!e&&!n)return{};const r=(0,i.A)((0,i.A)({},e),n);return{MeasureLayout:(null===e||void 0===e?void 0:e.isEnabled(t))||(null===n||void 0===n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=t.MeasureLayout,c.visualElement=Hs(o,h,l,n,t.ProjectionNode)}return(0,ui.jsxs)(qs.Provider,{value:c,children:[a&&c.visualElement?(0,ui.jsx)(a,(0,i.A)({visualElement:c.visualElement},l)):null,r(o,t,Zs(h,c.visualElement,e),h,u,c.visualElement)]})}));return a[ro]=o,a}function so(t){let{layoutId:e}=t;const n=(0,ci.useContext)(di.L).id;return n&&void 0!==e?n+"-"+e:e}const oo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ao(t){return"string"===typeof t&&!t.includes("-")&&!!(oo.indexOf(t)>-1||/[A-Z]/.test(t))}function lo(t,e,n,r){let{style:i,vars:s}=e;Object.assign(t.style,i,r&&r.getProjectionStyles(n));for(const o in s)t.style.setProperty(o,s[o])}const uo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function co(t,e,n,r){lo(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(uo.has(i)?i:In(i),e.attrs[i])}function ho(t,e){let{layout:n,layoutId:r}=e;return g.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!yi[t]||"opacity"===t)}function po(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Ln(i[o])||e.style&&Ln(e.style[o])||ho(o,t)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(s[o]=i[o]);return s}function fo(t,e,n){const r=po(t,e,n);for(const i in t)if(Ln(t[i])||Ln(e[i])){r[-1!==m.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return r}var mo=n(4930);const go=["transitionEnd","transition"];const vo=t=>(e,n)=>{const r=(0,ci.useContext)(qs),i=(0,ci.useContext)(hi.t),s=()=>function(t,e,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=t;const a={latestValues:yo(e,n,r,i),renderState:s()};return o&&(a.mount=t=>o(e,t,a)),a}(t,e,r,i);return n?s():(0,mo.M)(s)};function yo(t,e,n,r){const i={},a=r(t,{});for(const s in a)i[s]=Ki(a[s]);let{initial:l,animate:u}=t;const c=Ks(t),d=$s(t);e&&d&&!c&&!1!==t.inherit&&(void 0===l&&(l=e.initial),void 0===u&&(u=e.animate));let p=!!n&&!1===n.initial;p=p||!1===l;const f=p?u:l;if(f&&"boolean"!==typeof f&&!s(f)){const e=Array.isArray(f)?f:[f];for(let n=0;n<e.length;n++){const r=h(t,e[n]);if(r){const{transitionEnd:t,transition:e}=r,n=(0,o.A)(r,go);for(const r in n){let t=n[r];if(Array.isArray(t)){t=t[p?t.length-1:0]}null!==t&&(i[r]=t)}for(const r in t)i[r]=t[r]}}}return i}const _o=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bo=()=>(0,i.A)((0,i.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),wo=(t,e)=>e&&"number"===typeof t?e.transform(t):t,xo={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ao=m.length;function To(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const t=e[l];if(g.has(l))o=!0;else if($(l))i[l]=t;else{const e=wo(t,ne[l]);l.startsWith("origin")?(a=!0,s[l]=e):r[l]=e}}if(e.transform||(o||n?r.transform=function(t,e,n){let r="",i=!0;for(let s=0;s<Ao;s++){const o=m[s],a=t[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const t=wo(a,ne[o]);l||(i=!1,r+="".concat(xo[o]||o,"(").concat(t,") ")),n&&(e[o]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;r.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}function So(t,e,n){return"string"===typeof t?t:ct.transform(e+n*t)}const Eo={offset:"stroke-dashoffset",array:"stroke-dasharray"},Co={offset:"strokeDashoffset",array:"strokeDasharray"};const Mo=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function ko(t,e,n,r){let{attrX:i,attrY:s,attrScale:a,originX:l,originY:u,pathLength:c,pathSpacing:h=1,pathOffset:d=0}=e;if(To(t,(0,o.A)(e,Mo),r),n)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:p,style:f,dimensions:m}=t;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==l||void 0!==u||f.transform)&&(f.transformOrigin=function(t,e,n){const r=So(e,t.x,t.width),i=So(n,t.y,t.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==u?u:.5)),void 0!==i&&(p.x=i),void 0!==s&&(p.y=s),void 0!==a&&(p.scale=a),void 0!==c&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const s=i?Eo:Co;t[s.offset]=ct.transform(-r);const o=ct.transform(e),a=ct.transform(n);t[s.array]="".concat(o," ").concat(a)}(p,c,h,d,!1)}const Oo=t=>"string"===typeof t&&"svg"===t.toLowerCase(),Do={useVisualState:vo({scrapeMotionValuesFromProps:fo,createRenderState:bo,onMount:(t,e,n)=>{let{renderState:r,latestValues:i}=n;P.read((()=>{try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}})),P.render((()=>{ko(r,i,Oo(e.tagName),t.transformTemplate),co(e,r)}))}})},Po={useVisualState:vo({scrapeMotionValuesFromProps:po,createRenderState:_o})};function Ro(t,e,n){for(const r in e)Ln(e[r])||ho(r,n)||(t[r]=e[r])}function Fo(t,e){const n={};return Ro(n,t.style||{},t),Object.assign(n,function(t,e){let{transformTemplate:n}=t;return(0,ci.useMemo)((()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return To(t,e,n),Object.assign({},t.vars,t.style)}),[e])}(t,e)),n}function No(t,e){const n={},r=Fo(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Io=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vo(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Io.has(t)}let jo=t=>!Vo(t);try{(Lo=require("@emotion/is-prop-valid").default)&&(jo=t=>t.startsWith("on")?!Vo(t):Lo(t))}catch(ea){}var Lo;function Bo(t,e,n,r){const s=(0,ci.useMemo)((()=>{const n=bo();return ko(n,e,Oo(r),t.transformTemplate),(0,i.A)((0,i.A)({},n.attrs),{},{style:(0,i.A)({},n.style)})}),[e]);if(t.style){const e={};Ro(e,t.style,t),s.style=(0,i.A)((0,i.A)({},e),s.style)}return s}function Uo(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,r,s,o)=>{let{latestValues:a}=s;const l=(ao(e)?Bo:No)(n,a,o,e),u=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"===typeof t.values||(jo(i)||!0===n&&Vo(i)||!e&&!Vo(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),c=e!==ci.Fragment?(0,i.A)((0,i.A)((0,i.A)({},u),l),{},{ref:r}):{},{children:h}=n,d=(0,ci.useMemo)((()=>Ln(h)?h.get():h),[h]);return(0,ci.createElement)(e,(0,i.A)((0,i.A)({},c),{},{children:d}))}}function Wo(t,e){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};const s=ao(n)?Do:Po;return io((0,i.A)((0,i.A)({},s),{},{preloadedFeatures:t,useRender:Uo(r),createVisualElement:e,Component:n}))}}const Yo={current:null},qo={current:!1};const Go=new WeakMap,zo=[...xt,Lt,Xt],Ho=["willChange"],Xo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zo{scrapeMotionValuesFromProps(t,e,n){return{}}constructor(t){let{parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l}=t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=he.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,P.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=l;this.latestValues=c,this.baseTarget=(0,i.A)({},c),this.initialValues=n.initial?(0,i.A)({},c):{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Ks(n),this.isVariantNode=$s(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:p}=d,f=(0,o.A)(d,Ho);for(const i in f){const t=f[i];void 0!==c[i]&&Ln(t)&&t.set(c[i],!1)}}mount(t){this.current=t,Go.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),qo.current||function(){if(qo.current=!0,no.B)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yo.current=t.matches;t.addListener(e),e()}else Yo.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Yo.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Go.delete(this.current),this.projection&&this.projection.unmount(),R(this.notifyUpdate),R(this.render),this.valueSubscriptions.forEach((t=>t())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=g.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&P.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,(()=>{r(),i(),s&&s(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in eo){const e=eo[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Xo.length;n++){const e=Xo[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ln(i))t.addValue(r,i);else if(Ln(s))t.addValue(r,Rn(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,Rn(void 0!==e?e:i,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=Rn(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(Z(r)||H(r))?r=parseFloat(r):(i=r,!zo.find(wt(i))&&Xt.test(e)&&(r=se(t,e))),this.setBaseTarget(t,Ln(r)?r.get():r)),Ln(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=h(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);i&&(r=i[t])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||Ln(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new On),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t].notify(...n)}}}class Ko extends Zo{constructor(){super(...arguments),this.KeyframeResolver=ae}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ln(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent="".concat(t))})))}}class $o extends Ko{constructor(){super(...arguments),this.type="html",this.renderInstance=lo}readValueFromInstance(t,e){if(g.has(e)){const t=ie(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=($(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return ri(t,n)}build(t,e,n){To(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return po(t,e,n)}}class Qo extends Ko{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Br}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(g.has(e)){const t=ie(e);return t&&t.default||0}return e=uo.has(e)?e:In(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return fo(t,e,n)}build(t,e,n){ko(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){co(t,e,0,r)}mount(t){this.isSVGTag=Oo(t.tagName),super.mount(t)}}const Jo=(t,e)=>ao(t)?new Qo(e):new $o(e,{allowProjection:t!==ci.Fragment}),ta=r(Wo((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},ir),Us),Ds),Ws),Jo))},4735:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});const r="undefined"!==typeof window},4930:(t,e,n)=>{"use strict";n.d(e,{M:()=>i});var r=n(5043);function i(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}},293:(t,e,n)=>{"use strict";n.d(e,{E:()=>i});var r=n(5043);const i=n(4735).B?r.useLayoutEffect:r.useEffect},4327:(t,e,n)=>{"use strict";n.d(e,{$:()=>i,V:()=>s});var r=n(4760);let i=r.l,s=r.l},4760:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});const r=t=>t},1957:(t,e,n)=>{"use strict";n.d(e,{i7:()=>X,Q1:()=>at,V2:()=>y,e:()=>Q,BP:()=>w,O0:()=>rt,A4:()=>M,lM:()=>ft,ZY:()=>pt});function r(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function s(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function l(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function u(t,e){let n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function h(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2];return t[0]=i*l-s*a,t[1]=s*o-r*l,t[2]=r*a-i*o,t}const d=function(){const t=[0,0,0],e=[0,0,0];return function(n,r){i(t,n),i(e,r),u(t,t),u(e,e);let s=c(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();class p extends Array{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t.length?this.copy(t):(function(t,e,n,r){t[0]=e,t[1]=n,t[2]=r}(this,t,e,n),this)}copy(t){return i(this,t),this}add(t,e){return e?s(this,t,e):s(this,this,t),this}sub(t,e){return e?o(this,t,e):o(this,this,t),this}multiply(t){var e,n,r;return t.length?(n=this,r=t,(e=this)[0]=n[0]*r[0],e[1]=n[1]*r[1],e[2]=n[2]*r[2]):a(this,this,t),this}divide(t){var e,n,r;return t.length?(n=this,r=t,(e=this)[0]=n[0]/r[0],e[1]=n[1]/r[1],e[2]=n[2]/r[2]):a(this,this,1/t),this}inverse(){var t,e;return e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(t=this)[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],this}len(){return r(this)}distance(t){return t?function(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}(this,t):r(this)}squaredLen(){return l(this)}squaredDistance(t){return t?function(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}(this,t):l(this)}negate(){var t,e;return e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],this}cross(t,e){return e?h(this,t,e):h(this,this,t),this}scale(t){return a(this,this,t),this}normalize(){return u(this,this),this}dot(t){return c(this,t)}equals(t){return n=t,(e=this)[0]===n[0]&&e[1]===n[1]&&e[2]===n[2];var e,n}applyMatrix3(t){return function(t,e,n){let r=e[0],i=e[1],s=e[2];t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8]}(this,this,t),this}applyMatrix4(t){return function(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o}(this,this,t),this}scaleRotateMatrix4(t){return function(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s)/o,t[1]=(n[1]*r+n[5]*i+n[9]*s)/o,t[2]=(n[2]*r+n[6]*i+n[10]*s)/o}(this,this,t),this}applyQuaternion(t){return function(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2],u=a*s-l*i,c=l*r-o*s,h=o*i-a*r,d=a*h-l*c,p=l*u-o*h,f=o*c-a*u,m=2*n[3];u*=m,c*=m,h*=m,d*=2,p*=2,f*=2,t[0]=r+u+d,t[1]=i+c+p,t[2]=s+h+f}(this,this,t),this}angle(t){return d(this,t)}lerp(t,e){return function(t,e,n,r){let i=e[0],s=e[1],o=e[2];t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o)}(this,this,t,e),this}smoothLerp(t,e,n){return function(t,e,n,r,i){const s=Math.exp(-r*i);let o=e[0],a=e[1],l=e[2];t[0]=n[0]+(o-n[0])*s,t[1]=n[1]+(a-n[1])*s,t[2]=n[2]+(l-n[2])*s}(this,this,t,e,n),this}clone(){return new p(this[0],this[1],this[2])}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],n=this[1],r=this[2];return this[0]=t[0]*e+t[4]*n+t[8]*r,this[1]=t[1]*e+t[5]*n+t[9]*r,this[2]=t[2]*e+t[6]*n+t[10]*r,this.normalize()}}const f=new p;let m=1,g=1,v=!1;class y{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=m++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in e)this.addAttribute(n,e[n])}addAttribute(t,e){if(this.attributes[t]=e,e.id=g++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){const e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach(((t,e)=>{let{name:n,type:r}=e;if(!this.attributes[n])return void console.warn("active attribute ".concat(n," not being supplied"));const i=this.attributes[n];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let s=1;35674===r&&(s=2),35675===r&&(s=3),35676===r&&(s=4);const o=i.size/s,a=1===s?0:s*s*4,l=1===s?0:4*s;for(let u=0;u<s;u++)this.gl.vertexAttribPointer(t+u,o,i.type,i.normalized,i.stride+a,i.offset+u*l),this.gl.enableVertexAttribArray(t+u),this.gl.renderer.vertexAttribDivisor(t+u,i.divisor)})),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw(t){var e;let{program:n,mode:r=this.gl.TRIANGLES}=t;this.gl.renderer.currentGeometry!=="".concat(this.id,"_").concat(n.attributeOrder)&&(this.VAOs[n.attributeOrder]||this.createVAO(n),this.gl.renderer.bindVertexArray(this.VAOs[n.attributeOrder]),this.gl.renderer.currentGeometry="".concat(this.id,"_").concat(n.attributeOrder)),n.attributeLocations.forEach(((t,e)=>{let{name:n}=e;const r=this.attributes[n];r.needsUpdate&&this.updateAttribute(r)}));let i=2;(null===(e=this.attributes.index)||void 0===e?void 0:e.type)===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;return t.data?t:v?void 0:(console.warn("No position buffer data found to compute bounds"),v=!0)}computeBoundingBox(t){t||(t=this.getPosition());const e=t.data,n=t.size;this.bounds||(this.bounds={min:new p,max:new p,center:new p,scale:new p,radius:1/0});const r=this.bounds.min,i=this.bounds.max,s=this.bounds.center,o=this.bounds.scale;r.set(1/0),i.set(-1/0);for(let a=0,l=e.length;a<l;a+=n){const t=e[a],n=e[a+1],s=e[a+2];r.x=Math.min(t,r.x),r.y=Math.min(n,r.y),r.z=Math.min(s,r.z),i.x=Math.max(t,i.x),i.y=Math.max(n,i.y),i.z=Math.max(s,i.z)}o.sub(i,r),s.add(r,i).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const e=t.data,n=t.size;this.bounds||this.computeBoundingBox(t);let r=0;for(let i=0,s=e.length;i<s;i+=n)f.fromArray(e,i),r=Math.max(r,this.bounds.center.squaredDistance(f));this.bounds.radius=Math.sqrt(r)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let _=1;const b={};class w{constructor(t){let{vertex:e,fragment:n,uniforms:r={},transparent:i=!1,cullFace:s=t.BACK,frontFace:o=t.CCW,depthTest:a=!0,depthWrite:l=!0,depthFunc:u=t.LEQUAL}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=r,this.id=_++,e||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=i,this.cullFace=s,this.frontFace=o,this.depthTest=a,this.depthWrite=l,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:n})}setShaders(t){let{vertex:e,fragment:n}=t;if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),""!==this.gl.getShaderInfoLog(this.vertexShader)&&console.warn("".concat(this.gl.getShaderInfoLog(this.vertexShader),"\nVertex Shader\n").concat(A(e)))),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),""!==this.gl.getShaderInfoLog(this.fragmentShader)&&console.warn("".concat(this.gl.getShaderInfoLog(this.fragmentShader),"\nFragment Shader\n").concat(A(n)))),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let t=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(t,this.gl.getUniformLocation(this.program,t.name));const e=t.name.match(/(\w+)/g);t.uniformName=e[0],t.nameComponents=e.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const t=this.gl.getActiveAttrib(this.program,o),e=this.gl.getAttribLocation(this.program,t.name);-1!==e&&(i[e]=t.name,this.attributeLocations.set(t,e))}this.attributeOrder=i.join("")}setBlendFunc(t,e,n,r){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=r,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use(){let{flipFaces:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach(((t,n)=>{let r=this.uniforms[n.uniformName];for(const e of n.nameComponents){if(!r)break;if(!(e in r)){if(Array.isArray(r.value))break;r=void 0;break}r=r[e]}if(!r)return S("Active uniform ".concat(n.name," has not been supplied"));if(r&&void 0===r.value)return S("".concat(n.name," uniform is missing a value parameter"));if(r.value.texture)return e+=1,r.value.update(e),x(this.gl,n.type,t,e);if(r.value.length&&r.value[0].texture){const i=[];return r.value.forEach((t=>{e+=1,t.update(e),i.push(e)})),x(this.gl,n.type,t,i)}x(this.gl,n.type,t,r.value)})),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function x(t,e,n,r){r=r.length?function(t){const e=t.length,n=t[0].length;if(void 0===n)return t;const r=e*n;let i=b[r];i||(b[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(t[s],s*n);return i}(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(void 0===i||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}(i,r))return;i.set?i.set(r):function(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function A(t){let e=t.split("\n");for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}let T=0;function S(t){T>100||(console.warn(t),T++,T>100&&console.warn("More than 100 program warnings - stopping logs."))}const E=new p;let C=1;class M{constructor(){let{canvas:t=document.createElement("canvas"),width:e=300,height:n=150,dpr:r=1,alpha:i=!1,depth:s=!0,stencil:o=!1,antialias:a=!1,premultipliedAlpha:l=!1,preserveDrawingBuffer:u=!1,powerPreference:c="default",autoClear:h=!0,webgl:d=2}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p={alpha:i,depth:s,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c};this.dpr=r,this.alpha=i,this.color=!0,this.depth=s,this.stencil=o,this.premultipliedAlpha=l,this.autoClear=h,this.id=C++,2===d&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=n,this.state.viewport.y=r,this.gl.viewport(n,r,t,e))}setScissor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.gl.scissor(n,r,t,e)}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,n,r){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=r,void 0!==n?this.gl.blendFuncSeparate(t,e,n,r):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e||(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer(){let{target:t=this.gl.FRAMEBUFFER,buffer:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,n){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][n].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList(t){let{scene:e,camera:n,frustumCull:r,sort:i}=t,s=[];if(n&&r&&n.updateFrustum(),e.traverse((t=>{if(!t.visible)return!0;t.draw&&(r&&t.frustumCulled&&n&&!n.frustumIntersectsMesh(t)||s.push(t))})),i){const t=[],e=[],r=[];s.forEach((i=>{i.program.transparent?i.program.depthTest?e.push(i):r.push(i):t.push(i),i.zDepth=0,0===i.renderOrder&&i.program.depthTest&&n&&(i.worldMatrix.getTranslation(E),E.applyMatrix4(n.projectionViewMatrix),i.zDepth=E.z)})),t.sort(this.sortOpaque),e.sort(this.sortTransparent),r.sort(this.sortUI),s=t.concat(e,r)}return s}render(t){let{scene:e,camera:n,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:a}=t;null===r?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(a||this.autoClear&&!1!==a)&&(!this.depth||r&&!r.depth||(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld();this.getRenderList({scene:e,camera:n,frustumCull:o,sort:s}).forEach((t=>{t.draw({camera:n})}))}}function k(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+o*a+i*u-s*l,t[1]=i*c+o*l+s*a-r*u,t[2]=s*c+o*u+r*l-i*a,t[3]=o*c-r*a-i*l-s*u,t}const O=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},D=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},P=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},R=function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=s*o,t};class F extends Array{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),this.onChange=()=>{},this._target=this;const t=["0","1","2","3"];return new Proxy(this,{set(e,n){const r=Reflect.set(...arguments);return r&&t.includes(n)&&e.onChange(),r}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){var t;return(t=this._target)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}set(t,e,n,r){return t.length?this.copy(t):(D(this._target,t,e,n,r),this.onChange(),this)}rotateX(t){return function(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=r*l+o*a,t[1]=i*l+s*a,t[2]=s*l-i*a,t[3]=o*l-r*a}(this._target,this._target,t),this.onChange(),this}rotateY(t){return function(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=r*l-s*a,t[1]=i*l+o*a,t[2]=s*l+r*a,t[3]=o*l-i*a}(this._target,this._target,t),this.onChange(),this}rotateZ(t){return function(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=s*l+o*a,t[3]=o*l-s*a}(this._target,this._target,t),this.onChange(),this}inverse(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s,a=o?1/o:0;t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=s*a}(this._target,t),this.onChange(),this}conjugate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;var e,n;return e=this._target,n=t,e[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],this.onChange(),this}copy(t){return O(this._target,t),this.onChange(),this}normalize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._target;return R(this._target,t),this.onChange(),this}multiply(t,e){return e?k(this._target,t,e):k(this._target,this._target,t),this.onChange(),this}dot(t){return P(this._target,t)}fromMatrix3(t){return function(t,e){let n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);let i=(r+1)%3,s=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*i+i]-e[3*s+s]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*i+s]-e[3*s+i])*n,t[i]=(e[3*i+r]+e[3*r+i])*n,t[s]=(e[3*s+r]+e[3*r+s])*n}}(this._target,t),this.onChange(),this}fromEuler(t,e){return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ",r=Math.sin(.5*e[0]),i=Math.cos(.5*e[0]),s=Math.sin(.5*e[1]),o=Math.cos(.5*e[1]),a=Math.sin(.5*e[2]),l=Math.cos(.5*e[2]);"XYZ"===n?(t[0]=r*o*l+i*s*a,t[1]=i*s*l-r*o*a,t[2]=i*o*a+r*s*l,t[3]=i*o*l-r*s*a):"YXZ"===n?(t[0]=r*o*l+i*s*a,t[1]=i*s*l-r*o*a,t[2]=i*o*a-r*s*l,t[3]=i*o*l+r*s*a):"ZXY"===n?(t[0]=r*o*l-i*s*a,t[1]=i*s*l+r*o*a,t[2]=i*o*a+r*s*l,t[3]=i*o*l-r*s*a):"ZYX"===n?(t[0]=r*o*l-i*s*a,t[1]=i*s*l+r*o*a,t[2]=i*o*a-r*s*l,t[3]=i*o*l+r*s*a):"YZX"===n?(t[0]=r*o*l+i*s*a,t[1]=i*s*l+r*o*a,t[2]=i*o*a-r*s*l,t[3]=i*o*l-r*s*a):"XZY"===n&&(t[0]=r*o*l-i*s*a,t[1]=i*s*l-r*o*a,t[2]=i*o*a+r*s*l,t[3]=i*o*l+r*s*a)}(this._target,t,t.order),e||this.onChange(),this}fromAxisAngle(t,e){return function(t,e,n){n*=.5;let r=Math.sin(n);t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n)}(this._target,t,e),this.onChange(),this}slerp(t,e){return function(t,e,n,r){let i,s,o,a,l,u=e[0],c=e[1],h=e[2],d=e[3],p=n[0],f=n[1],m=n[2],g=n[3];s=u*p+c*f+h*m+d*g,s<0&&(s=-s,p=-p,f=-f,m=-m,g=-g),1-s>1e-6?(i=Math.acos(s),o=Math.sin(i),a=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(a=1-r,l=r),t[0]=a*u+l*p,t[1]=a*c+l*f,t[2]=a*h+l*m,t[3]=a*d+l*g}(this._target,this._target,t,e),this.onChange(),this}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this._target[3]=t[e+3],this.onChange(),this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}function N(t){let e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*o-n*s)*(h*g-d*m)-(e*a-r*s)*(c*g-d*f)+(e*l-i*s)*(c*m-h*f)+(n*a-r*o)*(u*g-d*p)-(n*l-i*o)*(u*m-h*p)+(r*l-i*a)*(u*f-c*p)}function I(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],v=e[14],y=e[15],_=n[0],b=n[1],w=n[2],x=n[3];return t[0]=_*r+b*a+w*h+x*m,t[1]=_*i+b*l+w*d+x*g,t[2]=_*s+b*u+w*p+x*v,t[3]=_*o+b*c+w*f+x*y,_=n[4],b=n[5],w=n[6],x=n[7],t[4]=_*r+b*a+w*h+x*m,t[5]=_*i+b*l+w*d+x*g,t[6]=_*s+b*u+w*p+x*v,t[7]=_*o+b*c+w*f+x*y,_=n[8],b=n[9],w=n[10],x=n[11],t[8]=_*r+b*a+w*h+x*m,t[9]=_*i+b*l+w*d+x*g,t[10]=_*s+b*u+w*p+x*v,t[11]=_*o+b*c+w*f+x*y,_=n[12],b=n[13],w=n[14],x=n[15],t[12]=_*r+b*a+w*h+x*m,t[13]=_*i+b*l+w*d+x*g,t[14]=_*s+b*u+w*p+x*v,t[15]=_*o+b*c+w*f+x*y,t}function V(t,e){let n=e[0],r=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(l,u,c),t}const j=function(){const t=[1,1,1];return function(e,n){let r=t;V(r,n);let i=1/r[0],s=1/r[1],o=1/r[2],a=n[0]*i,l=n[1]*s,u=n[2]*o,c=n[4]*i,h=n[5]*s,d=n[6]*o,p=n[8]*i,f=n[9]*s,m=n[10]*o,g=a+h+m,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-f)/v,e[1]=(p-u)/v,e[2]=(l-c)/v):a>h&&a>m?(v=2*Math.sqrt(1+a-h-m),e[3]=(d-f)/v,e[0]=.25*v,e[1]=(l+c)/v,e[2]=(p+u)/v):h>m?(v=2*Math.sqrt(1+h-a-m),e[3]=(p-u)/v,e[0]=(l+c)/v,e[1]=.25*v,e[2]=(d+f)/v):(v=2*Math.sqrt(1+m-a-h),e[3]=(l-c)/v,e[0]=(p+u)/v,e[1]=(d+f)/v,e[2]=.25*v),e}}();function L(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function B(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}class U extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,arguments.length>15&&void 0!==arguments[15]?arguments[15]:1),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,n,r,i,s,o,a,l,u,c,h,d,p,f,m){return t.length?this.copy(t):(function(t,e,n,r,i,s,o,a,l,u,c,h,d,p,f,m,g){t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=d,t[12]=p,t[13]=f,t[14]=m,t[15]=g}(this,t,e,n,r,i,s,o,a,l,u,c,h,d,p,f,m),this)}translate(t){return function(t,e,n){let r,i,s,o,a,l,u,c,h,d,p,f,m=n[0],g=n[1],v=n[2];e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=r*m+a*g+h*v+e[12],t[13]=i*m+l*g+d*v+e[13],t[14]=s*m+u*g+p*v+e[14],t[15]=o*m+c*g+f*v+e[15])}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}rotate(t,e){return function(t,e,n,r){let i,s,o,a,l,u,c,h,d,p,f,m,g,v,y,_,b,w,x,A,T,S,E,C,M=r[0],k=r[1],O=r[2],D=Math.hypot(M,k,O);Math.abs(D)<1e-6||(D=1/D,M*=D,k*=D,O*=D,i=Math.sin(n),s=Math.cos(n),o=1-s,a=e[0],l=e[1],u=e[2],c=e[3],h=e[4],d=e[5],p=e[6],f=e[7],m=e[8],g=e[9],v=e[10],y=e[11],_=M*M*o+s,b=k*M*o+O*i,w=O*M*o-k*i,x=M*k*o-O*i,A=k*k*o+s,T=O*k*o+M*i,S=M*O*o+k*i,E=k*O*o-M*i,C=O*O*o+s,t[0]=a*_+h*b+m*w,t[1]=l*_+d*b+g*w,t[2]=u*_+p*b+v*w,t[3]=c*_+f*b+y*w,t[4]=a*x+h*A+m*T,t[5]=l*x+d*A+g*T,t[6]=u*x+p*A+v*T,t[7]=c*x+f*A+y*T,t[8]=a*S+h*E+m*C,t[9]=l*S+d*E+g*C,t[10]=u*S+p*E+v*C,t[11]=c*S+f*E+y*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,t,e),this}scale(t){return function(t,e,n){let r=n[0],i=n[1],s=n[2];t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,"number"===typeof t?[t,t,t]:t),this}add(t,e){return e?L(this,t,e):L(this,this,t),this}sub(t,e){return e?B(this,t,e):B(this,this,t),this}multiply(t,e){var n,r,i;return t.length?e?I(this,t,e):I(this,this,t):(r=this,i=t,(n=this)[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=r[3]*i,n[4]=r[4]*i,n[5]=r[5]*i,n[6]=r[6]*i,n[7]=r[7]*i,n[8]=r[8]*i,n[9]=r[9]*i,n[10]=r[10]*i,n[11]=r[11]*i,n[12]=r[12]*i,n[13]=r[13]*i,n[14]=r[14]*i,n[15]=r[15]*i),this}identity(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}fromPerspective(){let{fov:t,aspect:e,near:n,far:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e,n,r,i){let s=1/Math.tan(e/2),o=1/(r-i);t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0}(this,t,e,n,r),this}fromOrthogonal(t){let{left:e,right:n,bottom:r,top:i,near:s,far:o}=t;return function(t,e,n,r,i,s,o){let a=1/(e-n),l=1/(r-i),u=1/(s-o);t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(o+s)*u,t[15]=1}(this,e,n,r,i,s,o),this}fromQuaternion(t){return function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,u=n*o,c=r*o,h=r*a,d=i*o,p=i*a,f=i*l,m=s*o,g=s*a,v=s*l;t[0]=1-h-f,t[1]=c+v,t[2]=d-g,t[3]=0,t[4]=c-v,t[5]=1-u-f,t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(){return function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=n*a-r*o,_=n*l-i*o,b=n*u-s*o,w=r*l-i*a,x=r*u-s*a,A=i*u-s*l,T=c*m-h*f,S=c*g-d*f,E=c*v-p*f,C=h*g-d*m,M=h*v-p*m,k=d*v-p*g,O=y*k-_*M+b*C+w*E-x*S+A*T;O&&(O=1/O,t[0]=(a*k-l*M+u*C)*O,t[1]=(i*M-r*k-s*C)*O,t[2]=(m*A-g*x+v*w)*O,t[3]=(d*x-h*A-p*w)*O,t[4]=(l*E-o*k-u*S)*O,t[5]=(n*k-i*E+s*S)*O,t[6]=(g*b-f*A-v*_)*O,t[7]=(c*A-d*b+p*_)*O,t[8]=(o*M-a*E+u*T)*O,t[9]=(r*E-n*M-s*T)*O,t[10]=(f*x-m*b+v*y)*O,t[11]=(h*b-c*x-p*y)*O,t[12]=(a*S-o*C-l*T)*O,t[13]=(n*C-r*S+i*T)*O,t[14]=(m*_-f*w-g*y)*O,t[15]=(c*w-h*_+d*y)*O)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}compose(t,e,n){return function(t,e,n,r){const i=t,s=e[0],o=e[1],a=e[2],l=e[3],u=s+s,c=o+o,h=a+a,d=s*u,p=s*c,f=s*h,m=o*c,g=o*h,v=a*h,y=l*u,_=l*c,b=l*h,w=r[0],x=r[1],A=r[2];i[0]=(1-(m+v))*w,i[1]=(p+b)*w,i[2]=(f-_)*w,i[3]=0,i[4]=(p-b)*x,i[5]=(1-(d+v))*x,i[6]=(g+y)*x,i[7]=0,i[8]=(f+_)*A,i[9]=(g-y)*A,i[10]=(1-(d+m))*A,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1}(this,t,e,n),this}decompose(t,e,n){return function(t,e,n,i){let s=r([t[0],t[1],t[2]]);const o=r([t[4],t[5],t[6]]),a=r([t[8],t[9],t[10]]);N(t)<0&&(s=-s),n[0]=t[12],n[1]=t[13],n[2]=t[14];const l=t.slice(),u=1/s,c=1/o,h=1/a;l[0]*=u,l[1]*=u,l[2]*=u,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=h,l[9]*=h,l[10]*=h,j(e,l),i[0]=s,i[1]=o,i[2]=a}(this,t,e,n),this}getRotation(t){return j(t,this),this}getTranslation(t){var e,n;return n=this,(e=t)[0]=n[12],e[1]=n[13],e[2]=n[14],this}getScaling(t){return V(t,this),this}getMaxScaleOnAxis(){return function(t){let e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],o=t[6],a=t[8],l=t[9],u=t[10];const c=e*e+n*n+r*r,h=i*i+s*s+o*o,d=a*a+l*l+u*u;return Math.sqrt(Math.max(c,h,d))}(this)}lookAt(t,e,n){return function(t,e,n,r){let i=e[0],s=e[1],o=e[2],a=r[0],l=r[1],u=r[2],c=i-n[0],h=s-n[1],d=o-n[2],p=c*c+h*h+d*d;0===p?d=1:(p=1/Math.sqrt(p),c*=p,h*=p,d*=p);let f=l*d-u*h,m=u*c-a*d,g=a*h-l*c;p=f*f+m*m+g*g,0===p&&(u?a+=1e-6:l?u+=1e-6:l+=1e-6,f=l*d-u*h,m=u*c-a*d,g=a*h-l*c,p=f*f+m*m+g*g),p=1/Math.sqrt(p),f*=p,m*=p,g*=p,t[0]=f,t[1]=m,t[2]=g,t[3]=0,t[4]=h*g-d*m,t[5]=d*f-c*g,t[6]=c*m-h*f,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1}(this,t,e,n),this}determinant(){return N(this)}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}const W=new U;class Y extends Array{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"YXZ";super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t),this.order=e,this.onChange=()=>{},this._target=this;const n=["0","1","2"];return new Proxy(this,{set(t,e){const r=Reflect.set(...arguments);return r&&n.includes(e)&&t.onChange(),r}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t.length?this.copy(t):(this._target[0]=t,this._target[1]=e,this._target[2]=n,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YXZ";"XYZ"===n?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===n?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===n?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===n?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===n?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===n&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this._target,t,e),this.onChange(),this}fromQuaternion(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.order,n=arguments.length>2?arguments[2]:void 0;return W.fromQuaternion(t),this._target.fromRotationMatrix(W,e),n||this.onChange(),this}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class q{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new U,this.worldMatrix=new U,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new p,this.quaternion=new F,this.scale=new p(1),this.rotation=new Y,this.up=new p(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,n=this.children.length;e<n;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,n=this.children.length;e<n;e++)this.children[e].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const G=new U,z=new p,H=new p;class X extends q{constructor(t){let{near:e=.1,far:n=100,fov:r=45,aspect:i=1,left:s,right:o,bottom:a,top:l,zoom:u=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,{near:e,far:n,fov:r,aspect:i,left:s,right:o,bottom:a,top:l,zoom:u}),this.projectionMatrix=new U,this.viewMatrix=new U,this.projectionViewMatrix=new U,this.worldPosition=new p,this.type=s||o?"orthographic":"perspective","orthographic"===this.type?this.orthographic():this.perspective()}perspective(){let{near:t=this.near,far:e=this.far,fov:n=this.fov,aspect:r=this.aspect}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this,{near:t,far:e,fov:n,aspect:r}),this.projectionMatrix.fromPerspective({fov:n*(Math.PI/180),aspect:r,near:t,far:e}),this.type="perspective",this}orthographic(){let{near:t=this.near,far:e=this.far,left:n=this.left||-1,right:r=this.right||1,bottom:i=this.bottom||-1,top:s=this.top||1,zoom:o=this.zoom}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this,{near:t,far:e,left:n,right:r,bottom:i,top:s,zoom:o}),n/=o,r/=o,i/=o,s/=o,this.projectionMatrix.fromOrthogonal({left:n,right:r,bottom:i,top:s,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return"perspective"===this.type?this.perspective():this.orthographic()}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(G.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new p,new p,new p,new p,new p,new p]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let e=0;e<6;e++){const t=1/this.frustum[e].distance();this.frustum[e].multiply(t),this.frustum[e].constant*=t}}frustumIntersectsMesh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.worldMatrix;if(!t.geometry.attributes.position)return!0;if(t.geometry.bounds&&t.geometry.bounds.radius!==1/0||t.geometry.computeBoundingSphere(),!t.geometry.bounds)return!0;const n=z;n.copy(t.geometry.bounds.center),n.applyMatrix4(e);const r=t.geometry.bounds.radius*e.getMaxScaleOnAxis();return this.frustumIntersectsSphere(n,r)}frustumIntersectsSphere(t,e){const n=H;for(let r=0;r<6;r++){const i=this.frustum[r];if(n.copy(i).dot(t)+i.constant<-e)return!1}return!0}}function Z(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],p=n[1],f=n[2],m=n[3],g=n[4],v=n[5],y=n[6],_=n[7],b=n[8];return t[0]=d*r+p*o+f*u,t[1]=d*i+p*a+f*c,t[2]=d*s+p*l+f*h,t[3]=m*r+g*o+v*u,t[4]=m*i+g*a+v*c,t[5]=m*s+g*l+v*h,t[6]=y*r+_*o+b*u,t[7]=y*i+_*a+b*c,t[8]=y*s+_*l+b*h,t}class K extends Array{constructor(){return super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:1),this}set(t,e,n,r,i,s,o,a,l){return t.length?this.copy(t):(function(t,e,n,r,i,s,o,a,l,u){t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u}(this,t,e,n,r,i,s,o,a,l),this)}translate(t){return function(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],p=n[1];t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=d*r+p*o+u,t[7]=d*i+p*a+c,t[8]=d*s+p*l+h}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}rotate(t){return function(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=Math.sin(n),p=Math.cos(n);t[0]=p*r+d*o,t[1]=p*i+d*a,t[2]=p*s+d*l,t[3]=p*o-d*r,t[4]=p*a-d*i,t[5]=p*l-d*s,t[6]=u,t[7]=c,t[8]=h}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}scale(t){return function(t,e,n){let r=n[0],i=n[1];t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]}(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t),this}multiply(t,e){return e?Z(this,t,e):Z(this,this,t),this}identity(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}fromMatrix4(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[4],e[4]=n[5],e[5]=n[6],e[6]=n[8],e[7]=n[9],e[8]=n[10],this}fromQuaternion(t){return function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,u=n*o,c=r*o,h=r*a,d=i*o,p=i*a,f=i*l,m=s*o,g=s*a,v=s*l;t[0]=1-h-f,t[3]=c-v,t[6]=d+g,t[1]=c+v,t[4]=1-u-f,t[7]=p-m,t[2]=d-g,t[5]=p+m,t[8]=1-u-h}(this,t),this}fromBasis(t,e,n){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2]),this}inverse(){return function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=c*o-a*u,d=-c*s+a*l,p=u*s-o*l,f=n*h+r*d+i*p;f&&(f=1/f,t[0]=h*f,t[1]=(-c*r+i*u)*f,t[2]=(a*r-i*o)*f,t[3]=d*f,t[4]=(c*n-i*l)*f,t[5]=(-a*n+i*s)*f,t[6]=p*f,t[7]=(-u*n+r*l)*f,t[8]=(o*n-r*s)*f)}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:this),this}getNormalMatrix(t){return function(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=n*a-r*o,_=n*l-i*o,b=n*u-s*o,w=r*l-i*a,x=r*u-s*a,A=i*u-s*l,T=c*m-h*f,S=c*g-d*f,E=c*v-p*f,C=h*g-d*m,M=h*v-p*m,k=d*v-p*g,O=y*k-_*M+b*C+w*E-x*S+A*T;O&&(O=1/O,t[0]=(a*k-l*M+u*C)*O,t[1]=(l*E-o*k-u*S)*O,t[2]=(o*M-a*E+u*T)*O,t[3]=(i*M-r*k-s*C)*O,t[4]=(n*k-i*E+s*S)*O,t[5]=(r*E-n*M-s*T)*O,t[6]=(m*A-g*x+v*w)*O,t[7]=(g*b-f*A-v*_)*O,t[8]=(f*x-m*b+v*y)*O)}(this,t),this}}let $=0;class Q extends q{constructor(t){let{geometry:e,program:n,mode:r=t.TRIANGLES,frustumCulled:i=!0,renderOrder:s=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=$++,this.geometry=e,this.program=n,this.mode=r,this.frustumCulled=i,this.renderOrder=s,this.modelViewMatrix=new U,this.normalMatrix=new K,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw(){let{camera:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach((e=>e&&e({mesh:this,camera:t})));let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach((e=>e&&e({mesh:this,camera:t})))}}const J=new Uint8Array(4);function tt(t){return 0===(t&t-1)}let et=1;class nt{constructor(t){let{image:e,target:n=t.TEXTURE_2D,type:r=t.UNSIGNED_BYTE,format:i=t.RGBA,internalFormat:s=i,wrapS:o=t.CLAMP_TO_EDGE,wrapT:a=t.CLAMP_TO_EDGE,wrapR:l=t.CLAMP_TO_EDGE,generateMipmaps:u=n===(t.TEXTURE_2D||t.TEXTURE_CUBE_MAP),minFilter:c=(u?t.NEAREST_MIPMAP_LINEAR:t.LINEAR),magFilter:h=t.LINEAR,premultiplyAlpha:d=!1,unpackAlignment:p=4,flipY:f=n==(t.TEXTURE_2D||t.TEXTURE_3D),anisotropy:m=0,level:g=0,width:v,height:y=v,length:_=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=et++,this.image=e,this.target=n,this.type=r,this.format=i,this.internalFormat=s,this.minFilter=c,this.magFilter=h,this.wrapS=o,this.wrapT=a,this.wrapR=l,this.generateMipmaps=u,this.premultiplyAlpha=d,this.unpackAlignment=p,this.flipY=f,this.anisotropy=Math.min(m,this.gl.renderer.parameters.maxAnisotropy),this.level=g,this.width=v,this.height=y,this.length=_,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):this.target!==this.gl.TEXTURE_2D_ARRAY&&this.target!==this.gl.TEXTURE_3D||this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let t=0;t<this.image.length;t++)this.gl.compressedTexImage2D(this.target,t,this.internalFormat,this.image[t].width,this.image[t].height,0,this.image[t].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||tt(this.image.width)&&tt(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,J);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,J);this.store.image=this.image}}}class rt{constructor(t){let{width:e=t.canvas.width,height:n=t.canvas.height,target:r=t.FRAMEBUFFER,color:i=1,depth:s=!0,stencil:o=!1,depthTexture:a=!1,wrapS:l=t.CLAMP_TO_EDGE,wrapT:u=t.CLAMP_TO_EDGE,minFilter:c=t.LINEAR,magFilter:h=c,type:d=t.UNSIGNED_BYTE,format:p=t.RGBA,internalFormat:f=p,unpackAlignment:m,premultiplyAlpha:g}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.width=e,this.height=n,this.depth=s,this.buffer=this.gl.createFramebuffer(),this.target=r,this.gl.renderer.bindFramebuffer(this),this.textures=[];const v=[];for(let y=0;y<i;y++)this.textures.push(new nt(t,{width:e,height:n,wrapS:l,wrapT:u,minFilter:c,magFilter:h,type:d,format:p,internalFormat:f,unpackAlignment:m,premultiplyAlpha:g,flipY:!1,generateMipmaps:!1})),this.textures[y].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+y,this.gl.TEXTURE_2D,this.textures[y].texture,0),v.push(this.gl.COLOR_ATTACHMENT0+y);v.length>1&&this.gl.renderer.drawBuffers(v),this.texture=this.textures[0],a&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new nt(t,{width:e,height:n,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.gl.DEPTH_COMPONENT,internalFormat:t.renderer.isWebgl2?this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(s&&!o&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,e,n),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),o&&!s&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,e,n),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),s&&o&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,e,n),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e,this.gl.renderer.bindFramebuffer(this);for(let n=0;n<this.textures.length;n++)this.textures[n].width=t,this.textures[n].height=e,this.textures[n].needsUpdate=!0,this.textures[n].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+n,this.gl.TEXTURE_2D,this.textures[n].texture,0);this.depthTexture?(this.depthTexture.width=t,this.depthTexture.height=e,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,t,e)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,t,e)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,t,e))),this.gl.renderer.bindFramebuffer({target:this.target})}}}const it={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function st(t){4===t.length&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn("Unable to convert hex string ".concat(t," to rgb values")),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function ot(t){return void 0===t?[0,0,0]:3===arguments.length?arguments:isNaN(t)?"#"===t[0]?st(t):it[t.toLowerCase()]?st(it[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):(e=t,[((e=parseInt(e))>>16&255)/255,(e>>8&255)/255,(255&e)/255]);var e}class at extends Array{constructor(t){return Array.isArray(t)?super(...t):super(...ot(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(ot(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}function lt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ut(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function ct(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ht(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function dt(t,e){return t[0]*e[1]-t[1]*e[0]}class pt extends Array{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t.length?this.copy(t):(function(t,e,n){t[0]=e,t[1]=n}(this,t,e),this)}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],this}add(t,e){return e?lt(this,t,e):lt(this,this,t),this}sub(t,e){return e?ut(this,t,e):ut(this,this,t),this}multiply(t){var e,n,r;return t.length?(n=this,r=t,(e=this)[0]=n[0]*r[0],e[1]=n[1]*r[1]):ct(this,this,t),this}divide(t){var e,n,r;return t.length?(n=this,r=t,(e=this)[0]=n[0]/r[0],e[1]=n[1]/r[1]):ct(this,this,1/t),this}inverse(){var t,e;return e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(t=this)[0]=1/e[0],t[1]=1/e[1],this}len(){return ht(this)}distance(t){return t?function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}(this,t):ht(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}(this,t):function(t){var e=t[0],n=t[1];return e*e+n*n}(this)}negate(){var t,e;return e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,(t=this)[0]=-e[0],t[1]=-e[1],this}cross(t,e){return e?dt(t,e):dt(this,t)}scale(t){return ct(this,this,t),this}normalize(){return function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i}(this,this),this}dot(t){return n=t,(e=this)[0]*n[0]+e[1]*n[1];var e,n}equals(t){return n=t,(e=this)[0]===n[0]&&e[1]===n[1];var e,n}applyMatrix3(t){return function(t,e,n){var r=e[0],i=e[1];t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7]}(this,this,t),this}applyMatrix4(t){return function(t,e,n){let r=e[0],i=e[1];t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13]}(this,this,t),this}lerp(t,e){return function(t,e,n,r){var i=e[0],s=e[1];t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s)}(this,this,t,e),this}smoothLerp(t,e,n){return function(t,e,n,r,i){const s=Math.exp(-r*i);let o=e[0],a=e[1];t[0]=n[0]+(o-n[0])*s,t[1]=n[1]+(a-n[1])*s}(this,this,t,e,n),this}clone(){return new pt(this[0],this[1])}fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=t[e],this[1]=t[e+1],this}toArray(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this[0],t[e+1]=this[1],t}}class ft extends y{constructor(t){let{attributes:e={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}},5843:(t,e,n)=>{"use strict";n.d(e,{Wx:()=>m});var r=n(2555),i=n(3986),s=n(5043);const o=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];var a=Object.defineProperty,l=(t,e,n)=>((t,e,n)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!==typeof e?e+"":e,n),u=new Map,c=new WeakMap,h=0,d=void 0;function p(t){return Object.keys(t).sort().filter((e=>void 0!==t[e])).map((e=>{return"".concat(e,"_").concat("root"===e?(n=t.root)?(c.has(n)||(h+=1,c.set(n,h.toString())),c.get(n)):"0":t[e]);var n})).toString()}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const i=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:s,elements:o}=function(t){const e=p(t);let n=u.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver((e=>{e.forEach((e=>{var n;const s=e.isIntersecting&&i.some((t=>e.intersectionRatio>=t));t.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=s),null==(n=r.get(e.target))||n.forEach((t=>{t(s,e)}))}))}),t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},u.set(e,n)}return n}(n),a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),0===a.length&&(o.delete(t),s.unobserve(t)),0===o.size&&(s.disconnect(),u.delete(i))}}s.Component;function m(){let{threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:a,initialInView:l,fallbackInView:u,onChange:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[d,p]=s.useState(null),m=s.useRef(c),[g,v]=s.useState({inView:!!l,entry:void 0});m.current=c,s.useEffect((()=>{if(a||!d)return;let s;return s=f(d,((t,e)=>{v({inView:t,entry:e}),m.current&&m.current(t,e),e.isIntersecting&&o&&s&&(s(),s=void 0)}),{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},u),()=>{s&&s()}}),[Array.isArray(t)?t.toString():t,d,i,r,o,a,n,u,e]);const y=null==(h=g.entry)?void 0:h.target,_=s.useRef(void 0);d||!y||o||a||_.current===y||(_.current=y,v({inView:!!l,entry:void 0}));const b=[p,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}},2134:(t,e,n)=>{"use strict";n.d(e,{BV:()=>St,C5:()=>xt,Kd:()=>se,Zp:()=>at,qh:()=>At,zy:()=>it});var r=n(3986),i=n(2555),s=n(5043);n(4358);const o=["page"],a=["page","matches"],l=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],c=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var h="popstate";function d(){return _((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return g("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:v(e)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function f(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function m(t,e){return{usr:t.state,key:t.key,idx:e}}function g(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,i.A)((0,i.A)({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?y(e):e),{},{state:n,key:e&&e.key||r||Math.random().toString(36).substring(2,10)})}function v(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function y(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l="POP",u=null,c=d();function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let t=d(),e=null==t?null:t-c;c=t,u&&u({action:l,location:_.location,delta:e})}function y(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:v(t);return n=n.replace(/ $/,"%20"),p(e,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,e)}null==c&&(c=0,a.replaceState((0,i.A)((0,i.A)({},a.state),{},{idx:c}),""));let _={get action(){return l},get location(){return t(s,a)},listen(t){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(h,f),u=t,()=>{s.removeEventListener(h,f),u=null}},createHref:t=>e(s,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l="PUSH";let r=g(_.location,t,e);n&&n(r,t),c=d()+1;let i=m(r,c),h=_.createHref(r);try{a.pushState(i,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}o&&u&&u({action:l,location:_.location,delta:1})},replace:function(t,e){l="REPLACE";let r=g(_.location,t,e);n&&n(r,t),c=d();let i=m(r,c),s=_.createHref(r);a.replaceState(i,"",s),o&&u&&u({action:l,location:_.location,delta:0})},go:t=>a.go(t)};return _}function b(t,e){return w(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function w(t,e,n,r){let i=N(("string"===typeof e?y(e):e).pathname||"/",n);if(null==i)return null;let s=x(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let t=F(i);o=P(s[a],t,r)}return o}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(t,i,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(p(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let a=B([r,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(p(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),x(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:D(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!==(n=t.path)&&void 0!==n&&n.includes("?"))for(let r of A(t.path))i(t,e,r);else i(t,e)})),e}function A(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=A(r.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),i&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}var T=/^:[\w-]+$/,S=3,E=2,C=1,M=10,k=-2,O=t=>"*"===t;function D(t,e){let n=t.split("/"),r=n.length;return n.some(O)&&(r+=k),e&&(r+=E),n.filter((t=>!O(t))).reduce(((t,e)=>t+(T.test(e)?S:""===e?C:M)),r)}function P(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let t=r[a],l=a===r.length-1,u="/"===s?e:e.slice(s.length)||"/",c=R({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},u),h=t.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=R({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:B([s,c.pathname]),pathnameBase:U(B([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=B([s,c.pathnameBase]))}return o}function R(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];f("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'.concat(t,'" will be treated as if it were "').concat(t.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(t.replace(/\*$/,"/*"),'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,e?void 0:"i");return[s,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{}),pathname:s,pathnameBase:o,pattern:t}}function F(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return f(!1,'The URL path "'.concat(t,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),t}}function N(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function I(t,e,n,r){return"Cannot include a '".concat(t,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function j(t){let e=V(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function L(t,e,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?r=y(t):(r=(0,i.A)({},t),p(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let o,a=""===t||""===r.pathname,l=a?"/":r.pathname;if(null==l)o=n;else{let t=e.length-1;if(!s&&l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}o=t>=0?e[t]:"/"}let u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof t?y(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:W(r),hash:Y(i)}}(r,o),c=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!h||(u.pathname+="/"),u}var B=t=>t.join("/").replace(/\/\/+/g,"/"),U=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",Y=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function q(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var G=["POST","PUT","PATCH","DELETE"],z=(new Set(G),["GET",...G]);new Set(z),Symbol("ResetLoaderData");var H=s.createContext(null);H.displayName="DataRouter";var X=s.createContext(null);X.displayName="DataRouterState";var Z=s.createContext({isTransitioning:!1});Z.displayName="ViewTransition";var K=s.createContext(new Map);K.displayName="Fetchers";var $=s.createContext(null);$.displayName="Await";var Q=s.createContext(null);Q.displayName="Navigation";var J=s.createContext(null);J.displayName="Location";var tt=s.createContext({outlet:null,matches:[],isDataRoute:!1});tt.displayName="Route";var et=s.createContext(null);et.displayName="RouteError";var nt=!0;function rt(){return null!=s.useContext(J)}function it(){return p(rt(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(J).location}var st="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ot(t){s.useContext(Q).static||s.useLayoutEffect(t)}function at(){let{isDataRoute:t}=s.useContext(tt);return t?function(){let{router:t}=gt("useNavigate"),e=yt("useNavigate"),n=s.useRef(!1);ot((()=>{n.current=!0}));let r=s.useCallback((async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(n.current,st),n.current&&("number"===typeof r?t.navigate(r):await t.navigate(r,(0,i.A)({fromRouteId:e},s)))}),[t,e]);return r}():function(){p(rt(),"useNavigate() may be used only in the context of a <Router> component.");let t=s.useContext(H),{basename:e,navigator:n}=s.useContext(Q),{matches:r}=s.useContext(tt),{pathname:i}=it(),o=JSON.stringify(j(r)),a=s.useRef(!1);ot((()=>{a.current=!0}));let l=s.useCallback((function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f(a.current,st),!a.current)return;if("number"===typeof r)return void n.go(r);let l=L(r,JSON.parse(o),i,"path"===s.relative);null==t&&"/"!==e&&(l.pathname="/"===l.pathname?e:B([e,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)}),[e,n,o,i,t]);return l}()}s.createContext(null);function lt(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=s.useContext(tt),{pathname:r}=it(),i=JSON.stringify(j(n));return s.useMemo((()=>L(t,JSON.parse(i),r,"path"===e)),[t,i,r,e])}function ut(t,e,n,r){p(rt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=s.useContext(Q),{matches:a}=s.useContext(tt),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",d=l&&l.route;if(nt){let t=d&&d.path||"";wt(c,!d||t.endsWith("*")||t.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(t,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(t,'"> to <Route path="').concat("/"===t?"*":"".concat(t,"/*"),'">.'))}let m,g=it();if(e){var v;let t="string"===typeof e?y(e):e;p("/"===h||(null===(v=t.pathname)||void 0===v?void 0:v.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(t.pathname,'" was given in the `location` prop.')),m=t}else m=g;let _=m.pathname||"/",w=_;if("/"!==h){let t=h.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(t.length).join("/")}let x=b(t,{pathname:w});nt&&(f(d||null!=x,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),f(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.')));let A=ft(x&&x.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:B([h,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:B([h,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,n,r);return e&&A?s.createElement(J.Provider,{value:{location:(0,i.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},A):A}function ct(){let t=_t(),e=q(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return nt&&(console.error("Error handled by React Router default ErrorBoundary:",t),a=s.createElement(s.Fragment,null,s.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:o},"ErrorBoundary")," or"," ",s.createElement("code",{style:o},"errorElement")," prop on your route."))),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},e),n?s.createElement("pre",{style:i},n):null,a)}var ht=s.createElement(ct,null),dt=class extends s.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?s.createElement(tt.Provider,{value:this.props.routeContext},s.createElement(et.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pt(t){let{routeContext:e,match:n,children:r}=t,i=s.useContext(H);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(tt.Provider,{value:e},r)}function ft(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==e.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let r=t,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let t=r.findIndex((t=>t.route.id&&void 0!==(null===i||void 0===i?void 0:i[t.route.id])));p(t>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,t+1))}let o=!1,a=-1;if(n)for(let s=0;s<r.length;s++){let t=r[s];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(a=s),t.route.id){let{loaderData:e,errors:i}=n,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!i||void 0===i[t.route.id]);if(t.route.lazy||s){o=!0,r=a>=0?r.slice(0,a+1):[r[0]];break}}}return r.reduceRight(((t,l,u)=>{let c,h=!1,d=null,p=null;n&&(c=i&&l.route.id?i[l.route.id]:void 0,d=l.route.errorElement||ht,o&&(a<0&&0===u?(wt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===u&&(h=!0,p=l.route.hydrateFallbackElement||null)));let f=e.concat(r.slice(0,u+1)),m=()=>{let e;return e=c?d:h?p:l.route.Component?s.createElement(l.route.Component,null):l.route.element?l.route.element:t,s.createElement(pt,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=n},children:e})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===u)?s.createElement(dt,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function mt(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(t){let e=s.useContext(H);return p(e,mt(t)),e}function vt(t){let e=s.useContext(X);return p(e,mt(t)),e}function yt(t){let e=function(t){let e=s.useContext(tt);return p(e,mt(t)),e}(t),n=e.matches[e.matches.length-1];return p(n.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),n.route.id}function _t(){var t;let e=s.useContext(et),n=vt("useRouteError"),r=yt("useRouteError");return void 0!==e?e:null===(t=n.errors)||void 0===t?void 0:t[r]}var bt={};function wt(t,e,n){e||bt[t]||(bt[t]=!0,f(!1,n))}s.memo((function(t){let{routes:e,future:n,state:r}=t;return ut(e,void 0,r,n)}));function xt(t){let{to:e,replace:n,state:r,relative:i}=t;p(rt(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=s.useContext(Q);f(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=s.useContext(tt),{pathname:l}=it(),u=at(),c=L(e,j(a),l,"path"===i),h=JSON.stringify(c);return s.useEffect((()=>{u(JSON.parse(h),{replace:n,state:r,relative:i})}),[u,h,i,n,r]),null}function At(t){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tt(t){let{basename:e="/",children:n=null,location:r,navigationType:i="POP",navigator:o,static:a=!1}=t;p(!rt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=s.useMemo((()=>({basename:l,navigator:o,static:a,future:{}})),[l,o,a]);"string"===typeof r&&(r=y(r));let{pathname:c="/",search:h="",hash:d="",state:m=null,key:g="default"}=r,v=s.useMemo((()=>{let t=N(c,l);return null==t?null:{location:{pathname:t,search:h,hash:d,state:m,key:g},navigationType:i}}),[l,c,h,d,m,g,i]);return f(null!=v,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:s.createElement(Q.Provider,{value:u},s.createElement(J.Provider,{children:n,value:v}))}function St(t){let{children:e,location:n}=t;return ut(Et(e),n)}s.Component;function Et(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return s.Children.forEach(t,((t,r)=>{if(!s.isValidElement(t))return;let i=[...e,r];if(t.type===s.Fragment)return void n.push.apply(n,Et(t.props.children,i));p(t.type===At,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Et(t.props.children,i)),n.push(o)})),n}var Ct="get",Mt="application/x-www-form-urlencoded";function kt(t){return null!=t&&"string"===typeof t.tagName}var Ot=null;var Dt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pt(t){return null==t||Dt.has(t)?t:(f(!1,'"'.concat(t,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Mt,'"')),null)}function Rt(t,e){let n,r,i,s,o;if(kt(a=t)&&"form"===a.tagName.toLowerCase()){let o=t.getAttribute("action");r=o?N(o,e):null,n=t.getAttribute("method")||Ct,i=Pt(t.getAttribute("enctype"))||Mt,s=new FormData(t)}else if(function(t){return kt(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return kt(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let o=t.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(r=a?N(a,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Ct,i=Pt(t.getAttribute("formenctype"))||Pt(o.getAttribute("enctype"))||Mt,s=new FormData(o,t),!function(){if(null===Ot)try{new FormData(document.createElement("form"),0),Ot=!1}catch(t){Ot=!0}return Ot}()){let{name:e,type:n,value:r}=t;if("image"===n){let t=e?"".concat(e,"."):"";s.append("".concat(t,"x"),"0"),s.append("".concat(t,"y"),"0")}else e&&s.append(e,r)}}else{if(kt(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ct,r=null,i=Mt,o=t}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Ft(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function Nt(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error("Error loading route module `".concat(t.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function It(t){return null!=t&&"string"===typeof t.page}function Vt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function jt(t,e,n,r,i,s){let o=(t,e)=>!n[e]||t.route.id!==n[e].route.id,a=(t,e)=>{var r;return n[e].pathname!==t.pathname||(null===(r=n[e].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[e].params["*"]!==t.params["*"]};return"assets"===s?e.filter(((t,e)=>o(t,e)||a(t,e))):"data"===s?e.filter(((e,s)=>{let l=r.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(o(e,s)||a(e,s))return!0;if(e.route.shouldRevalidate){var u;let r=e.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Lt(t){return[...new Set(t)]}function Bt(t,e){let n=new Set,r=new Set(e);return t.reduce(((t,i)=>{if(e&&!It(i)&&"script"===i.as&&i.href&&r.has(i.href))return t;let s=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}(i));return n.has(s)||(n.add(s),t.push({key:s,link:i})),t}),[])}function Ut(t){return{__html:t}}Symbol("SingleFetchRedirect");function Wt(t){let e="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===e.pathname?e.pathname="_root.data":e.pathname="".concat(e.pathname.replace(/\/$/,""),".data"),e}s.Component;function Yt(t){let{error:e,isOutsideRemixApp:n}=t;console.error(e);let r,i=s.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(q(e))return s.createElement(qt,{title:"Unhandled Thrown Response!"},s.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),i);if(e instanceof Error)r=e;else{let t=null==e?"Unknown Error":"object"===typeof e&&"toString"in e?e.toString():JSON.stringify(e);r=new Error(t)}return s.createElement(qt,{title:"Application Error!",isOutsideRemixApp:n},s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function qt(t){var e;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:o}=t,{routeModules:a}=Zt();return null!==(e=a.root)&&void 0!==e&&e.Layout&&!i?o:s.createElement("html",{lang:"en"},s.createElement("head",null,s.createElement("meta",{charSet:"utf-8"}),s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),s.createElement("title",null,n)),s.createElement("body",null,s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?s.createElement(ne,null):null)))}function Gt(t){return!t}function zt(){let t=s.useContext(H);return Ft(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ht(){let t=s.useContext(X);return Ft(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xt=s.createContext(void 0);function Zt(){let t=s.useContext(Xt);return Ft(t,"You must render this element inside a <HydratedRouter> element"),t}function Kt(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $t(t,e,n){if(n&&!ee)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function Qt(t){let{page:e}=t,n=(0,r.A)(t,o),{router:a}=zt(),l=s.useMemo((()=>b(a.routes,e,a.basename)),[a.routes,e,a.basename]);return l?s.createElement(te,(0,i.A)({page:e,matches:l},n)):(console.warn("Tried to prefetch ".concat(e," but no routes matched.")),null)}function Jt(t){let{manifest:e,routeModules:n}=Zt(),[r,o]=s.useState([]);return s.useEffect((()=>{let r=!1;return async function(t,e,n){return Bt((await Promise.all(t.map((async t=>{let r=e.routes[t.route.id];if(r){let t=await Nt(r,n);return t.links?t.links():[]}return[]})))).flat(1).filter(Vt).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?(0,i.A)((0,i.A)({},t),{},{rel:"prefetch",as:"style"}):(0,i.A)((0,i.A)({},t),{},{rel:"prefetch"}))))}(t,e,n).then((t=>{r||o(t)})),()=>{r=!0}}),[t,e,n]),r}function te(t){let{page:e,matches:n}=t,o=(0,r.A)(t,a),l=it(),{manifest:u,routeModules:c}=Zt(),{loaderData:h,matches:d}=Ht(),p=s.useMemo((()=>jt(e,n,d,u,l,"data")),[e,n,d,u,l]),f=s.useMemo((()=>jt(e,n,d,u,l,"assets")),[e,n,d,u,l]),m=s.useMemo((()=>{if(e===l.pathname+l.search+l.hash)return[];let t=new Set,r=!1;if(n.forEach((e=>{var n;let i=u.routes[e.route.id];i&&i.hasLoader&&(!p.some((t=>t.route.id===e.route.id))&&e.route.id in h&&null!==(n=c[e.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:t.add(e.route.id))})),0===t.size)return[];let i=Wt(e);return r&&t.size>0&&i.searchParams.set("_routes",n.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[i.pathname+i.search]}),[h,l,u,p,n,e,c]),g=s.useMemo((()=>function(t,e){return Lt(t.map((t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(f,u)),[f,u]),v=Jt(f);return s.createElement(s.Fragment,null,m.map((t=>s.createElement("link",(0,i.A)({key:t,rel:"prefetch",as:"fetch",href:t},o)))),g.map((t=>s.createElement("link",(0,i.A)({key:t,rel:"modulepreload",href:t},o)))),v.map((t=>{let{key:e,link:n}=t;return s.createElement("link",(0,i.A)({key:e},n))})))}Xt.displayName="FrameworkContext";var ee=!1;function ne(t){let{manifest:e,serverHandoffString:n,isSpaMode:r,renderMeta:o}=Zt(),{router:a,static:l,staticContext:u}=zt(),{matches:c}=Ht(),h=Gt(r);o&&(o.didRenderScripts=!0);let d=$t(c,null,r);s.useEffect((()=>{ee=!0}),[]);let p=s.useMemo((()=>{var r;let o=u?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=l?"".concat(null!==(r=e.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(e.hmr.runtime),";"):"").concat(h?"":"import ".concat(JSON.stringify(e.url)),";\n").concat(d.map(((t,n)=>"import * as route".concat(n," from ").concat(JSON.stringify(e.routes[t.route.id].module),";"))).join("\n"),"\n  ").concat(h?"window.__reactRouterManifest = ".concat(JSON.stringify(function(t,e){let n=new Set(e.state.matches.map((t=>t.route.id))),r=e.state.location.pathname.split("/").filter(Boolean),s=["/"];for(r.pop();r.length>0;)s.push("/".concat(r.join("/"))),r.pop();s.forEach((t=>{let r=b(e.routes,t,e.basename);r&&r.forEach((t=>n.add(t.route.id)))}));let o=[...n].reduce(((e,n)=>Object.assign(e,{[n]:t.routes[n]})),{});return(0,i.A)((0,i.A)({},t),{},{routes:o})}(e,a),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(d.map(((t,e)=>"".concat(JSON.stringify(t.route.id),":route").concat(e))).join(","),"};\n\nimport(").concat(JSON.stringify(e.entry.module),");"):" ";return s.createElement(s.Fragment,null,s.createElement("script",(0,i.A)((0,i.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ut(o),type:void 0})),s.createElement("script",(0,i.A)((0,i.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ut(c),type:"module",async:!0})))}),[]),f=d.map((t=>{let n=e.routes[t.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),m=ee?[]:e.entry.imports.concat(f);return ee?null:s.createElement(s.Fragment,null,h?null:s.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin}),s.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin}),(g=m,[...new Set(g)]).map((e=>s.createElement("link",{key:e,rel:"modulepreload",href:e,crossOrigin:t.crossOrigin}))),p);var g}function re(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ie&&(window.__reactRouterVersion="7.0.2")}catch(fe){}function se(t){let{basename:e,children:n,window:r}=t,i=s.useRef();null==i.current&&(i.current=d({window:r,v5Compat:!0}));let o=i.current,[a,l]=s.useState({action:o.action,location:o.location}),u=s.useCallback((t=>{s.startTransition((()=>l(t)))}),[l]);return s.useLayoutEffect((()=>o.listen(u)),[o,u]),s.createElement(Tt,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}var oe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=s.forwardRef((function(t,e){let n,{onClick:o,discover:a="render",prefetch:u="none",relative:c,reloadDocument:h,replace:d,state:m,target:g,to:y,preventScrollReset:_,viewTransition:b}=t,w=(0,r.A)(t,l),{basename:x}=s.useContext(Q),A="string"===typeof y&&oe.test(y),T=!1;if("string"===typeof y&&A&&(n=y,ie))try{let t=new URL(window.location.href),e=y.startsWith("//")?new URL(t.protocol+y):new URL(y),n=N(e.pathname,x);e.origin===t.origin&&null!=n?y=n+e.search+e.hash:T=!0}catch(fe){f(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(rt(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=s.useContext(Q),{hash:i,pathname:o,search:a}=lt(t,{relative:e}),l=o;return"/"!==n&&(l="/"===o?n:B([n,o])),r.createHref({pathname:l,search:a,hash:i})}(y,{relative:c}),[E,C,M]=function(t,e){let n=s.useContext(Xt),[r,i]=s.useState(!1),[o,a]=s.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,p=s.useRef(null);s.useEffect((()=>{if("render"===t&&a(!0),"viewport"===t){let t=new IntersectionObserver((t=>{t.forEach((t=>{a(t.isIntersecting)}))}),{threshold:.5});return p.current&&t.observe(p.current),()=>{t.disconnect()}}}),[t]),s.useEffect((()=>{if(r){let t=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(t)}}}),[r]);let f=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?"intent"!==t?[o,p,{}]:[o,p,{onFocus:Kt(l,f),onBlur:Kt(u,m),onMouseEnter:Kt(c,f),onMouseLeave:Kt(h,m),onTouchStart:Kt(d,f)}]:[!1,p,{}]}(u,w),k=function(t){let{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=at(),u=it(),c=lt(t,{relative:o});return s.useCallback((s=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(s,e)){s.preventDefault();let e=void 0!==n?n:v(u)===v(c);l(t,{replace:e,state:r,preventScrollReset:i,relative:o,viewTransition:a})}}),[u,l,c,n,r,e,t,i,o,a])}(y,{replace:d,state:m,target:g,preventScrollReset:_,relative:c,viewTransition:b});let O=s.createElement("a",(0,i.A)((0,i.A)((0,i.A)({},w),M),{},{href:n||S,onClick:T||h?o:function(t){o&&o(t),t.defaultPrevented||k(t)},ref:re(e,C),target:g,"data-discover":A||"render"!==a?void 0:"true"}));return E&&!A?s.createElement(s.Fragment,null,O,s.createElement(Qt,{page:S})):O}));ae.displayName="Link",s.forwardRef((function(t,e){let{"aria-current":n="page",caseSensitive:o=!1,className:a="",end:l=!1,style:c,to:h,viewTransition:d,children:f}=t,m=(0,r.A)(t,u),g=lt(h,{relative:m.relative}),v=it(),y=s.useContext(X),{navigator:_,basename:b}=s.useContext(Q),w=null!=y&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.useContext(Z);p(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ce("useViewTransitionState"),i=lt(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=N(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=N(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=R(i.pathname,a)||null!=R(i.pathname,o)}(g)&&!0===d,x=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,A=v.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(A=A.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&b&&(T=N(T,b)||T);const S="/"!==x&&x.endsWith("/")?x.length-1:x.length;let E,C=A===x||!l&&A.startsWith(x)&&"/"===A.charAt(S),M=null!=T&&(T===x||!l&&T.startsWith(x)&&"/"===T.charAt(x.length)),k={isActive:C,isPending:M,isTransitioning:w},O=C?n:void 0;E="function"===typeof a?a(k):[a,C?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof c?c(k):c;return s.createElement(ae,(0,i.A)((0,i.A)({},m),{},{"aria-current":O,className:E,ref:e,style:D,to:h,viewTransition:d}),"function"===typeof f?f(k):f)})).displayName="NavLink";var le=s.forwardRef(((t,e)=>{let{discover:n="render",fetcherKey:o,navigate:a,reloadDocument:l,replace:u,state:h,method:d=Ct,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_}=t,b=(0,r.A)(t,c),w=pe(),x=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=s.useContext(Q),r=s.useContext(tt);p(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a=(0,i.A)({},lt(t||".",{relative:e})),l=it();if(null==t){a.search=l.search;let t=new URLSearchParams(a.search),e=t.getAll("index");if(e.some((t=>""===t))){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();a.search=n?"?".concat(n):""}}t&&"."!==t||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:B([n,a.pathname]));return v(a)}(f,{relative:g}),A="get"===d.toLowerCase()?"get":"post",T="string"===typeof f&&oe.test(f);return s.createElement("form",(0,i.A)((0,i.A)({ref:e,method:A,action:x,onSubmit:l?m:t=>{if(m&&m(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=(null===e||void 0===e?void 0:e.getAttribute("formmethod"))||d;w(e||t.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:u,state:h,relative:g,preventScrollReset:y,viewTransition:_})}},b),{},{"data-discover":T||"render"!==n?void 0:"true"}))}));function ue(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ce(t){let e=s.useContext(H);return p(e,ue(t)),e}le.displayName="Form";var he=0,de=()=>"__".concat(String(++he),"__");function pe(){let{router:t}=ce("useSubmit"),{basename:e}=s.useContext(Q),n=yt("useRouteId");return s.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:u}=Rt(r,e);if(!1===i.navigate){let e=i.fetcherKey||de();await t.fetch(e,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,e,n])}new TextEncoder},9352:(t,e,n)=>{"use strict";n.d(e,{F:()=>mo,Bh:()=>ao,RG:()=>eo,_O:()=>bo,tB:()=>_o,ni:()=>Li});const r="15.0.4";var i=n(3998);const s=new WeakSet,o=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m={construct:()=>m},g=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,v=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(g);for(;null!==i;){const t=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(g)}return[n.join(";"),r]},y=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},_=t=>{if(!(t=>{try{new new Proxy(t,m)}catch(e){return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!==typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},b=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},w=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},x=(t,e,n,r)=>{const i=b(t,e),s=w(i,(t=>t[0]===n&&t[1]===r));return 0===i.size&&t.delete(e),s},A=t=>b(h,t),T=t=>{if(s.has(t))throw new Error("The AudioNode is already stored.");s.add(t),A(t).forEach((t=>t(!0)))},S=t=>"port"in t,E=t=>{if(!s.has(t))throw new Error("The AudioNode is not stored.");s.delete(t),A(t).forEach((t=>t(!1)))},C=(t,e)=>{!S(t)&&e.every((t=>0===t.size))&&E(t)};var M=n(2555);const k={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},O=(t,e)=>t.context===e,D=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch(e){return!1}return!0},P=()=>new DOMException("","IndexSizeError"),R=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(r){if(12===r.code)throw P();throw r}})},F={numberOfChannels:1},N=-34028234663852886e22,I=-N,V=t=>s.has(t),j={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L=t=>b(o,t),B=t=>b(l,t),U=(t,e)=>{const{activeInputs:n}=L(t);n.forEach((n=>n.forEach((n=>{let[r]=n;e.includes(t)||U(r,[...e,t])}))));const r=(t=>"playbackRate"in t)(t)?[t.playbackRate]:S(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t&&!("gain"in t))(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const i of r){const t=B(i);void 0!==t&&t.activeInputs.forEach((t=>{let[n]=t;return U(n,e)}))}V(t)&&E(t)},W=t=>{U(t.destination,[])},Y=t=>void 0===t||"number"===typeof t||"string"===typeof t&&("balanced"===t||"interactive"===t||"playback"===t),q=t=>"context"in t,G=t=>q(t[0]),z=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},H=(t,e,n,r)=>{let[i,s]=n;z(t,[e,i,s],(t=>t[0]===e&&t[1]===i),r)},X=(t,e,n)=>{let[r,i,s]=e;const o=t.get(r);void 0===o?t.set(r,new Set([[i,s]])):z(o,[i,s],(t=>t[0]===i),n)},Z=t=>"inputs"in t,K=(t,e,n,r)=>{if(Z(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},$=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Q=(t,e)=>{if(!A(t).delete(e))throw new Error("Missing the expected event listener.")},J=(t,e,n)=>{const r=b(t,e),i=w(r,(t=>t[0]===n));return 0===r.size&&t.delete(e),i},tt=(t,e,n,r)=>{Z(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},et=t=>b(a,t),nt=t=>b(u,t),rt=t=>d.has(t),it=t=>!s.has(t),st=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(e).connect(t.destination),o.connect(r),o.disconnect(r),e.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?n(!0):n(!1),o.stop(),e.onaudioprocess=null,o.disconnect(e),e.disconnect(t.destination)},o.start()}})),ot=(t,e)=>{const n=new Map;for(const r of t)for(const t of r){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},at=t=>"context"in t,lt=t=>{const e=new Map;t.connect=(t=>function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=at(n)?t(n,r,i):t(n,r),o=e.get(n);return void 0===o?e.set(n,[{input:i,output:r}]):o.every((t=>t.input!==i||t.output!==r))&&o.push({input:i,output:r}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),void 0===r)e.clear();else if("number"===typeof r)for(const[t,n]of e){const i=n.filter((t=>t.output!==r));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(r))if(void 0===i)e.delete(r);else{const t=e.get(r);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==s||void 0===s)));0===n.length?e.delete(r):e.set(r,n)}}for(const[n,o]of e)o.forEach((e=>{at(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},ut=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=B(e),{outputs:o}=L(t),a=A(t),l=o=>{const a=et(t),l=nt(e);if(o){const e=J(s,t,n);H(i,t,e,!1),r||rt(t)||a.connect(l,n)}else{const e=((t,e,n)=>w(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);X(s,e,!1),r||rt(t)||a.disconnect(l,n)}};return!!z(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),V(t)?H(i,t,[n,l],!0):X(s,[t,n,l],!0),!0)},ct=(t,e,n,r,i)=>{const[s,o]=((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=L(e),o=$(i[r],t,n);if(null===o)return[x(s,t,n,r)[2],!1];return[o[2],!0]})(t,n,r,i);if(null!==s&&(Q(t,s),!o||e||rt(t)||tt(et(t),et(n),r,i)),V(n)){const{activeInputs:t}=L(n);C(n,t)}},ht=(t,e,n,r)=>{const[i,s]=((t,e,n)=>{const{activeInputs:r,passiveInputs:i}=B(e),s=$(r,t,n);if(null===s)return[J(i,t,n)[1],!1];return[s[2],!0]})(t,n,r);null!==i&&(Q(t,i),!s||e||rt(t)||et(t).disconnect(nt(n),r))};class dt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._map.forEach(((n,r)=>t.call(e,n,r,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const pt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ft(t,e,n,r,i){if("function"===typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(0===e[n].byteLength)e[n]=s.slice(i,i+128);else{const t=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const mt=(t,e,n,r,i)=>{"function"===typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,i):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],i)},gt=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const t=[],i="number"===typeof e?e:e[r];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},vt=async(t,e,n,r,i,s,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=r.channelCount*r.numberOfInputs,u=i.reduce(((t,e)=>t+e),0),c=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=L(t),d=await((t,e)=>{const n=b(f,t),r=et(e);return b(n,r)})(n,t),p=gt(r.numberOfInputs,r.channelCount),m=gt(r.numberOfOutputs,i),g=Array.from(t.parameters.keys()).reduce(((t,e)=>(0,M.A)((0,M.A)({},t),{},{[e]:new Float32Array(128)})),{});for(let f=0;f<a;f+=128){if(r.numberOfInputs>0&&null!==e)for(let t=0;t<r.numberOfInputs;t+=1)for(let n=0;n<r.channelCount;n+=1)ft(e,p[t],n,n,f);void 0!==s.parameterDescriptors&&null!==e&&s.parameterDescriptors.forEach(((t,n)=>{let{name:r}=t;ft(e,g,r,l+n,f)}));for(let t=0;t<r.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===m[t][e].byteLength&&(m[t][e]=new Float32Array(128));try{const t=p.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(f/n.sampleRate,n.sampleRate,(()=>d.process(t,m,g)));if(null!==c)for(let n=0,s=0;n<r.numberOfOutputs;n+=1){for(let t=0;t<i[n];t+=1)mt(c,m[n],t,s+t,f);s+=i[n]}if(!e)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return c},yt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},_t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},bt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},wt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},xt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},At=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((r=>{const i=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch(s){}finally{i()}}))},Tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},St=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},Et={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ct={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Mt=()=>new DOMException("","InvalidStateError"),kt=()=>new DOMException("","InvalidAccessError"),Ot={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Dt=(t,e,n,r,i,s,o,a,l,u,c)=>{const h=u.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*u[p];for(let e=1;e<i;e+=1){const r=d-e&l-1;a+=n[e]*s[r],a-=t[e]*o[r]}for(let t=i;t<r;t+=1)a+=n[t]*s[d-t&l-1];for(let n=i;n<e;n+=1)a-=t[n]*o[d-n&l-1];s[d]=u[p],o[d]=a,d=d+1&l-1,c[p]=a}return d},Pt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Rt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch(n){}return!1},Ft={numberOfChannels:1},Nt=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},It=(t,e)=>{Nt(t,e,"channelCount"),Nt(t,e,"channelCountMode"),Nt(t,e,"channelInterpretation")},Vt=t=>"function"===typeof t.getFloatTimeDomainData,jt=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},Lt=t=>{t.start=(e=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if("number"===typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},Bt=t=>{var e;t.stop=(e=t.stop,function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},Ut=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Wt=async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=t=>{let{data:n}=t;r.close(),i.close(),e(n)},r.onmessageerror=t=>{let{data:e}=t;r.close(),i.close(),n(e)},i.postMessage(t)})))(e);return new t(n)},Yt=(t,e)=>{const n=t.createBiquadFilter();return It(n,e),jt(n,e,"Q"),jt(n,e,"detune"),jt(n,e,"frequency"),jt(n,e,"gain"),Nt(n,e,"type"),n},qt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return It(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Mt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Mt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Mt()}})})(n),n};var Gt=n(3986);const zt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ht=["offset"],Xt=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return It(n,e),jt(n,e,"delayTime"),n},Zt=(t,e)=>{const n=t.createGain();return It(n,e),jt(n,e,"gain"),n};function Kt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function $t(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)i=e,n=[(r=n)[0]*i[0]-r[1]*i[1],r[0]*i[1]+r[1]*i[0]],n[0]+=t[s];var r,i;return n}const Qt=["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"],Jt=(t,e,n,r)=>t.createScriptProcessor(e,n,r),te=["channelCount","channelCountMode","pan"],ee=["curve","oversample"],ne=()=>new DOMException("","NotSupportedError"),re={numberOfChannels:1},ie={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},se={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},oe={disableNormalization:!1},ae={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},le=()=>new DOMException("","UnknownError"),ue={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ce=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),he=t=>{if(null===t)return!1;const e=t.length;return e%2!==0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},de=(t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},pe=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;pe(t,e,n+1e-7)}},fe=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},me=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},ge=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},ve=(t,e)=>{const n=e.createGain();t.connect(n);const r=(e=>()=>{e.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),zt(t,n),t.stop=(e=>{let r=!1;return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(r)try{e.call(t,i)}catch(s){n.gain.setValueAtTime(0,i)}else e.call(t,i),r=!0}})(t.stop)},ye=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"===typeof e?e.call(t,n):e.handleEvent.call(t,n)},_e=(t=>(e,n,r,i)=>{let[s,o,a]=r;t(e[o],[n,s,a],(t=>t[0]===n&&t[1]===s),i)})(z),be=(t=>(e,n,r,i)=>{let[s,o,a]=r;const l=e.get(s);void 0===l?e.set(s,new Set([[o,n,a]])):t(l,[o,n,a],(t=>t[0]===o&&t[1]===n),i)})(z),we=(t=>(e,n,r,i)=>t(e[i],(t=>t[0]===n&&t[1]===r)))(w),xe=new WeakMap,Ae=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(xe),Te=(Se=new Map,Ee=new WeakMap,(t,e)=>{const n=Ee.get(t);if(void 0!==n)return n;const r=Se.get(t);if(void 0!==r)return r;try{const n=e();return n instanceof Promise?(Se.set(t,n),n.catch((()=>!1)).then((e=>(Se.delete(t),Ee.set(t,e),e)))):(Ee.set(t,n),n)}catch(i){return Ee.set(t,!1),!1}});var Se,Ee;const Ce="undefined"===typeof window?null:window,Me=((t,e)=>(n,r)=>{const i=n.createAnalyser();if(It(i,r),!(r.maxDecibels>r.minDecibels))throw e();return Nt(i,r,"fftSize"),Nt(i,r,"maxDecibels"),Nt(i,r,"minDecibels"),Nt(i,r,"smoothingTimeConstant"),t(Vt,(()=>Vt(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let t=0;t<r;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(Te,P),ke=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(L),Oe=((t,e,n)=>async(r,i,s)=>{const o=t(r);await Promise.all(o.activeInputs.map(((t,o)=>Array.from(t).map((async t=>{let[a,l]=t;const u=e(a),c=await u.render(a,i),h=r.context.destination;n(a)||r===h&&n(r)||c.connect(s,l,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(L,ke,rt),De=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=e(i);if(!O(o,s)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(s,e)}return r.set(s,o),await n(i,s,o),o})(i,s)}}})(Me,et,Oe),Pe=(Re=c,t=>{const e=Re.get(t);if(void 0===e)throw Mt();return e});var Re;const Fe=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(Ce),Ne=(t=>e=>null!==t&&e instanceof t)(Fe),Ie=new WeakMap,Ve=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"===typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const r=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,n)}})(ye),je=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(Ce),Le=(t=>e=>null!==t&&e instanceof t)(je),Be=(t=>e=>null!==t&&"function"===typeof t.AudioNode&&e instanceof t.AudioNode)(Ce),Ue=(t=>e=>null!==t&&"function"===typeof t.AudioParam&&e instanceof t.AudioParam)(Ce),We=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(Ce),Ye=((t,e,n,r,i,s,o,l,u,c,d,p,f,m,g,v)=>class extends c{constructor(e,r,i,s){super(i),this._context=e,this._nativeAudioNode=i;const o=d(e);p(o)&&!0!==n(st,(()=>st(o,v)))&&lt(i),a.set(this,i),h.set(this,new Set),"closed"!==e.state&&r&&T(this),t(this,s,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const l=d(this._context),c=g(l);if(f(t)||m(t))throw s();if(q(t)){const i=et(t);try{const e=K(this._nativeAudioNode,i,n,a),r=it(this);(c||r)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!r&&it(t)&&T(t)}catch(p){if(12===p.code)throw s();throw p}if(e(this,t,n,a,c)){const e=u([this],t);ot(e,r(c))}return t}const h=nt(t);if("playbackRate"===h.name&&1024===h.maxValue)throw o();try{this._nativeAudioNode.connect(h,n),(c||it(this))&&this._nativeAudioNode.disconnect(h,n)}catch(p){if(12===p.code)throw s();throw p}if(ut(this,t,n,c)){const e=u([this],t);ot(e,r(c))}}disconnect(t,e,n){let r;const o=d(this._context),a=g(o);if(void 0===t)r=((t,e)=>{const n=L(t),r=[];for(const i of n.outputs)G(i)?ct(t,e,...i):ht(t,e,...i),r.push(i[0]);return n.outputs.clear(),r})(this,a);else if("number"===typeof t){if(t<0||t>=this.numberOfOutputs)throw i();r=((t,e,n)=>{const r=L(t),i=[];for(const s of r.outputs)s[1]===n&&(G(s)?ct(t,e,...s):ht(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i})(this,a,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(q(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(r=((t,e,n,r,i)=>{const s=L(t);return Array.from(s.outputs).filter((t=>t[0]===n&&(void 0===r||t[1]===r)&&(void 0===i||t[2]===i))).map((n=>(G(n)?ct(t,e,...n):ht(t,e,...n),s.outputs.delete(n),n[0])))})(this,a,t,e,n),0===r.length)throw s()}for(const i of r){const t=u([this],i);ot(t,l)}}})((qe=o,(t,e,n)=>{const r=[];for(let i=0;i<n.numberOfInputs;i+=1)r.push(new Set);qe.set(t,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,r,i,s,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:b}=s(m),{outputs:w}=s(f),A=a(f),S=s=>{const a=l(m),u=l(f);if(s){const e=x(b,f,g,v);t(_,f,e,!1),y||h(f)||n(u,a,g,v),d(m)&&T(m)}else{const t=r(_,f,g,v);e(b,v,t,!1),y||h(f)||i(u,a,g,v);const n=o(m);if(0===n)c(m)&&C(m,_);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout((()=>{c(m)&&C(m,_)}),1e3*n))}}};return!!u(w,[m,g,v],(t=>t[0]===m&&t[1]===g&&t[2]===v),!0)&&(A.add(S),c(f)?t(_,f,[g,v,S],!0):e(b,v,[f,g,S],!0),!0)}})(_e,be,K,we,tt,L,Ae,A,et,z,V,rt,it),Te,((t,e,n,r,i,s)=>o=>(a,l)=>{const u=t.get(a);if(void 0===u){if(!o&&s(a)){const t=r(a),{outputs:s}=n(a);for(const n of s)if(G(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,u+l)})(d,tt,L,et,nt,V),P,kt,ne,((t,e,n,r,i,s,o,a)=>(l,u)=>{const c=e.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=s(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const e=r(l),{outputs:s}=n(l);for(const n of s)if(G(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(l,c-u)})(K,d,L,et,nt,Pe,V,Ne),((t,e,n)=>function r(i,s){const o=q(s)?s:n(t,s);if((t=>"delayTime"in t)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>r([...i,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Ie,L,b),Ve,Pe,Le,Be,Ue,Ne,We);var qe;const Ge=((t,e,n,r,i,s)=>class extends t{constructor(t,n){const o=i(t),a=(0,M.A)((0,M.A)({},k),n),l=r(o,a);super(t,!1,l,s(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Ye,De,P,Me,Pe,Ne),ze=new WeakSet,He=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(Ce),Xe=(Ze=new Uint32Array(1),t=>(Ze[0]=t,Ze[0]));var Ze;const Ke=((t,e)=>n=>{n.copyFromChannel=function(r,i){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(i);if(o>=n.numberOfChannels)throw e();const a=n.length,l=n.getChannelData(o),u=r.length;for(let t=s<0?-s:0;t+s<a&&t<u;t+=1)r[t]=l[t+s]},n.copyToChannel=function(r,i){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(i);if(o>=n.numberOfChannels)throw e();const a=n.length,l=n.getChannelData(o),u=r.length;for(let t=s<0?-s:0;t+s<a&&t<u;t+=1)l[t+s]=r[t]}})(Xe,P),$e=(t=>e=>{e.copyFromChannel=(n=>function(r,i){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(i);if(s<e.length)return n.call(e,r,o,s)})(e.copyFromChannel),e.copyToChannel=(n=>function(r,i){const s=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=t(i);if(s<e.length)return n.call(e,r,o,s)})(e.copyToChannel)})(Xe),Qe=((t,e,n,r,i,s,o,a)=>{let l=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}=(0,M.A)((0,M.A)({},F),u);null===l&&(l=new i(1,1,44100));const p=null!==r&&e(s,s)?new r({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!==typeof p.copyFromChannel?(o(p),R(p)):e(D,(()=>D(p)))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}})(ze,Te,ne,He,Fe,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch(e){return!1}return!0})(He),Ke,$e),Je=(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)})(Zt),tn=((t,e,n)=>async(r,i,s)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map((async e=>{let[r,o]=e;const a=t(r),l=await a.render(r,i);n(r)||l.connect(s,o)})))})(ke,B,rt),en=(t=>(e,n,r)=>t(n,e,r))(tn),nn=((t,e,n,r,i,s,o,a,l,u,c)=>(h,d)=>{const p=h.createBufferSource();return It(p,d),jt(p,d,"playbackRate"),Nt(p,d,"buffer"),Nt(p,d,"loop"),Nt(p,d,"loopEnd"),Nt(p,d,"loopStart"),e(n,(()=>n(h)))||(t=>{t.start=(e=>{let n=!1;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;if(n)throw Mt();e.call(t,r,i,s),n=!0}})(t.start)})(p),e(r,(()=>r(h)))||l(p),e(i,(()=>i(h)))||u(p,h),e(s,(()=>s(h)))||Lt(p),e(o,(()=>o(h)))||c(p,h),e(a,(()=>a(h)))||Bt(p),t(h,p),p})(Je,Te,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch(n){return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch(r){return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch(n){return!1}return!0}),fe,me,ge,(t=>{t.start=(e=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const s=t.buffer,o=null===s?r:Math.min(s.duration,r);null!==s&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)}),(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===r?null:n}),(t=>n=>t.call(e,null===n?r:n)))})(de),ve),rn=((t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(B),tn),sn=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u){const c=s.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=O(c,u);if(!h){const t={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,loop:c.loop,loopEnd:c.loopEnd,loopStart:c.loopStart,playbackRate:c.playbackRate.value};c=e(u,t),null!==o&&c.start(...o),null!==a&&c.stop(a)}return s.set(u,c),h?await t(u,l.playbackRate,c.playbackRate):await r(u,l.playbackRate,c.playbackRate),await i(l,u,c),c})(l,u)}}})(en,nn,et,rn,Oe),on=((t,e,n,r,s,o,a,l,u,c,h,d,p)=>function(f,m,g){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const _=g.value,b=new i.AutomationEventList(_),w=m?r(b):null,x={get defaultValue(){return _},get maxValue(){return null===v?g.maxValue:v},get minValue(){return null===y?g.minValue:y},get value(){return g.value},set value(t){g.value=t,x.setValueAtTime(t,f.context.currentTime)},cancelAndHoldAtTime(t){if("function"===typeof g.cancelAndHoldAtTime)null===w&&b.flush(f.context.currentTime),b.add(s(t)),g.cancelAndHoldAtTime(t);else{const e=Array.from(b).pop();null===w&&b.flush(f.context.currentTime),b.add(s(t));const n=Array.from(b).pop();g.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?g.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?g.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?g.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&g.setValueCurveAtTime(n.values,n.startTime,n.duration))}return x},cancelScheduledValues:t=>(null===w&&b.flush(f.context.currentTime),b.add(o(t)),g.cancelScheduledValues(t),x),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=f.context.currentTime;return null===w&&b.flush(n),0===Array.from(b).length&&(b.add(c(_,n)),g.setValueAtTime(_,n)),b.add(a(t,e)),g.exponentialRampToValueAtTime(t,e),x},linearRampToValueAtTime(t,e){const n=f.context.currentTime;return null===w&&b.flush(n),0===Array.from(b).length&&(b.add(c(_,n)),g.setValueAtTime(_,n)),b.add(l(t,e)),g.linearRampToValueAtTime(t,e),x},setTargetAtTime:(t,e,n)=>(null===w&&b.flush(f.context.currentTime),b.add(u(t,e,n)),g.setTargetAtTime(t,e,n),x),setValueAtTime:(t,e)=>(null===w&&b.flush(f.context.currentTime),b.add(c(t,e)),g.setValueAtTime(t,e),x),setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,i=f.context.sampleRate,s=Math.ceil(e*i),o=Math.floor(t*i),a=o-s,l=new Float32Array(a);for(let c=0;c<a;c+=1){const t=(r.length-1)/n*((s+c)/i-e),o=Math.floor(t),a=Math.ceil(t);l[c]=o===a?r[o]:(1-(t-o))*r[o]+(1-(a-t))*r[a]}null===w&&b.flush(f.context.currentTime),b.add(h(l,e,n)),g.setValueCurveAtTime(l,e,n);const u=o/i;u<t&&p(x,l[l.length-1],u),p(x,r[r.length-1],t)}else null===w&&b.flush(f.context.currentTime),b.add(h(r,e,n)),g.setValueCurveAtTime(r,e,n);return x}};return n.set(x,g),e.set(x,f),t(x,w),x})((an=l,(t,e)=>{an.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Ie,u,(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:r}=n;e.exponentialRampToValueAtTime(r,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:r}=n;e.linearRampToValueAtTime(r,t)}else if("setTarget"===n.type){const{startTime:t,target:r,timeConstant:i}=n;e.setTargetAtTime(r,t,i)}else if("setValue"===n.type){const{startTime:t,value:r}=n;e.setValueAtTime(r,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,t)}}}})),i.createCancelAndHoldAutomationEvent,i.createCancelScheduledValuesAutomationEvent,i.createExponentialRampToValueAutomationEvent,i.createLinearRampToValueAutomationEvent,i.createSetTargetAutomationEvent,i.createSetValueAutomationEvent,i.createSetValueCurveAutomationEvent,je,pe);var an;const ln=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const a=s(t),l=(0,M.A)((0,M.A)({},j),r),u=i(a,l),c=o(a),h=c?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,I,N)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"===typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){T(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),V(this)&&E(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Ye,sn,on,Mt,nn,Pe,Ne,ye),un=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,n){const r=s(t),l=o(r),u=i(r,n,l);super(t,!1,u,l?e(a):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ye,(t=>{const e=new WeakMap;return{render(n,r){const i=e.get(r);return void 0!==i?Promise.resolve(i):(async(n,r)=>{const i=r.destination;return e.set(r,i),await t(n,r,i),i})(n,r)}}}),P,Mt,((t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch(a){}i&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{s.channelCount=e}catch(n){if(e>s.maxChannelCount)throw n}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(Zt,de),Pe,Ne,Oe),cn=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=O(l,a);if(!u){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return s.set(a,l),u?(await t(a,o.Q,l.Q),await t(a,o.detune,l.detune),await t(a,o.frequency,l.frequency),await t(a,o.gain,l.gain)):(await r(a,o.Q,l.Q),await r(a,o.detune,l.detune),await r(a,o.frequency,l.frequency),await r(a,o.gain,l.gain)),await i(o,a,l),l})(o,a)}}})(en,Yt,et,rn,Oe),hn=(t=>(e,n)=>t.set(e,n))(xe),dn=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const l=s(t),u=(0,M.A)((0,M.A)({},yt),r),c=i(l,u),h=o(l);super(t,!1,c,h?n():null),this._Q=e(this,h,c.Q,I,N),this._detune=e(this,h,c.detune,1200*Math.log2(I),-1200*Math.log2(I)),this._frequency=e(this,h,c.frequency,t.sampleRate/2,0),this._gain=e(this,h,c.gain,40*Math.log10(I),N),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(i){if(11===i.code)throw r();throw i}if(t.length!==e.length||e.length!==n.length)throw r()}})(Ye,on,cn,kt,Yt,Pe,Ne,hn),pn=((t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(i=>function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=0===s.size;if(e(o))return i.call(n,o,a,l),t(s,[o,a,l],(t=>t[0]===o&&t[1]===a&&t[2]===l),!0),u&&r(),o;i.call(n,o,a),t(s,[o,a],(t=>t[0]===o&&t[1]===a),!0),u&&r()})(n.connect),n.disconnect=(t=>(r,o,a)=>{const l=s.size>0;if(void 0===r)t.apply(n),s.clear();else if("number"===typeof r){t.call(n,r);for(const t of s)t[1]===r&&s.delete(t)}else{e(r)?t.call(n,r,o,a):t.call(n,r,o);for(const t of s)t[0]!==r||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||s.delete(t)}const u=0===s.size;l&&u&&i()})(n.disconnect),n})(z,Be),fn=((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,(()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(r,0,e)}),(()=>i.disconnect(r)))})(Mt,pn),mn=((t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),It(i,r),i})(je,fn),gn=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=e(i);if(!O(o,s)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(s,e)}return r.set(s,o),await n(i,s,o),o})(i,s)}}})(mn,et,Oe),vn=((t,e,n,r,i)=>class extends t{constructor(t,s){const o=r(t),a=(0,M.A)((0,M.A)({},_t),s);super(t,!1,n(o,a),i(o)?e():null)}})(Ye,gn,mn,Pe,Ne),yn=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=e(i);if(!O(o,s)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(s,e)}return r.set(s,o),await n(i,s,o),o})(i,s)}}})(qt,et,Oe),_n=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),l=s((0,M.A)((0,M.A)({},bt),o));super(t,!1,n(a,l),i(a)?e():null)}})(Ye,yn,qt,Pe,Ne,(t=>(0,M.A)((0,M.A)({},t),{},{channelCount:t.numberOfOutputs}))),bn=((t,e,n,r)=>(i,s)=>{let{offset:o}=s,a=(0,Gt.A)(s,Ht);const l=i.createBuffer(1,2,44100),u=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,(0,M.A)((0,M.A)({},a),{},{gain:o})),h=l.getChannelData(0);h[0]=1,h[1]=1,u.buffer=l,u.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(t){u.onended=t},addEventListener(){return u.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return u.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return u.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u.start.call(u,t)},stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u.stop.call(u,t)}};return t(i,u),r(zt(d,c),(()=>u.connect(c)),(()=>u.disconnect(c)))})(Je,nn,Zt,pn),wn=((t,e,n,r,i)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return It(a,o),jt(a,o,"offset"),e(r,(()=>r(s)))||Lt(a),e(i,(()=>i(s)))||Bt(a),t(s,a),a})(Je,Te,bn,fe,ge),xn=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u){const c=s.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=O(c,u);if(!h){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,offset:c.offset.value};c=e(u,t),null!==o&&c.start(o),null!==a&&c.stop(a)}return s.set(u,c),h?await t(u,l.offset,c.offset):await r(u,l.offset,c.offset),await i(l,u,c),c})(l,u)}}})(en,wn,et,rn,Oe),An=((t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),l=(0,M.A)((0,M.A)({},wt),o),u=r(a,l),c=s(a),h=c?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,c,u.offset,I,N),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){T(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),V(this)&&E(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Ye,on,xn,wn,Pe,Ne,ye),Tn=((t,e)=>(n,r)=>{const i=n.createConvolver();if(It(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Nt(i,r,"buffer"),r.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===r.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(ne,de),Sn=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=e(i);if(!O(o,s)){const e={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(s,e)}return r.set(s,o),Z(o)?await n(i,s,o.inputs[0]):await n(i,s,o),o})(i,s)}}})(Tn,et,Oe),En=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),l=(0,M.A)((0,M.A)({},xt),o),u=n(a,l);super(t,!1,u,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Ye,Sn,Tn,Pe,Ne,hn),Cn=((t,e,n,r,i)=>s=>{const o=new WeakMap;return{render(a,l){const u=o.get(l);return void 0!==u?Promise.resolve(u):(async(a,l)=>{let u=n(a);const c=O(u,l);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:s};u=e(l,t)}return o.set(l,u),c?await t(l,a.delayTime,u.delayTime):await r(l,a.delayTime,u.delayTime),await i(a,l,u),u})(a,l)}}})(en,Xt,et,rn,Oe),Mn=((t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const l=i(t),u=(0,M.A)((0,M.A)({},Tt),a),c=r(l,u),h=s(l);super(t,!1,c,h?n(u.maxDelayTime):null),this._delayTime=e(this,h,c.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Ye,on,Cn,Xt,Pe,Ne,hn),kn=(t=>(e,n)=>{const r=e.createDynamicsCompressor();if(It(r,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return jt(r,n,"attack"),jt(r,n,"knee"),jt(r,n,"ratio"),jt(r,n,"release"),jt(r,n,"threshold"),r})(ne),On=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=O(l,a);if(!u){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return s.set(a,l),u?(await t(a,o.attack,l.attack),await t(a,o.knee,l.knee),await t(a,o.ratio,l.ratio),await t(a,o.release,l.release),await t(a,o.threshold,l.threshold)):(await r(a,o.attack,l.attack),await r(a,o.knee,l.knee),await r(a,o.ratio,l.ratio),await r(a,o.release,l.release),await r(a,o.threshold,l.threshold)),await i(o,a,l),l})(o,a)}}})(en,kn,et,rn,Oe),Dn=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,i){const l=s(t),u=(0,M.A)((0,M.A)({},Et),i),c=r(l,u),h=o(l);super(t,!1,c,h?n():null),this._attack=e(this,h,c.attack),this._knee=e(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=e(this,h,c.ratio),this._release=e(this,h,c.release),this._threshold=e(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ye,on,On,kn,ne,Pe,Ne,hn),Pn=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=O(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return s.set(a,l),u?await t(a,o.gain,l.gain):await r(a,o.gain,l.gain),await i(o,a,l),l})(o,a)}}})(en,Zt,et,rn,Oe),Rn=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),l=(0,M.A)((0,M.A)({},Ct),o),u=r(a,l),c=s(a);super(t,!1,u,c?n():null),this._gain=e(this,c,u.gain,I,N)}get gain(){return this._gain}})(Ye,on,Pn,Zt,Pe,Ne),Fn=((t,e,n,r)=>(i,s,o)=>{let{channelCount:a,channelCountMode:l,channelInterpretation:u,feedback:c,feedforward:h}=o;const d=Ut(s,i.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),f=h instanceof Float64Array?h:new Float64Array(h),m=p.length,g=f.length,v=Math.min(m,g);if(0===m||m>20)throw r();if(0===p[0])throw e();if(0===g||g>20)throw r();if(0===f[0])throw e();if(1!==p[0]){for(let t=0;t<g;t+=1)f[t]/=p[0];for(let t=1;t<m;t+=1)p[t]/=p[0]}const y=n(i,d,a,a);y.channelCount=a,y.channelCountMode=l,y.channelInterpretation=u;const _=[],b=[],w=[];for(let t=0;t<a;t+=1){_.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),b.push(t),w.push(e)}y.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,r=e.numberOfChannels;for(let i=0;i<r;i+=1){const t=e.getChannelData(i),r=n.getChannelData(i);_[i]=Dt(p,m,f,g,v,b[i],w[i],_[i],32,t,r)}};const x=i.sampleRate/2;return zt({get bufferSize(){return d},get channelCount(){return y.channelCount},set channelCount(t){y.channelCount=t},get channelCountMode(){return y.channelCountMode},set channelCountMode(t){y.channelCountMode=t},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(t){y.channelInterpretation=t},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(){return y.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return y.dispatchEvent(arguments.length<=0?void 0:arguments[0])},getFrequencyResponse(e,n,r){if(e.length!==n.length||n.length!==r.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/x),s=[Math.cos(i),Math.sin(i)],o=Kt($t(f,s),$t(p,s));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r[t]=Math.atan2(o[1],o[0])}},removeEventListener(){return y.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},y)})(kt,Mt,Jt,ne),Nn=((t,e,n,r)=>i=>t(Rt,(()=>Rt(i)))?Promise.resolve(t(r,r)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Te,Zt,Jt,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{r.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(Zt,Fe)),In=((t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let l=null;const u=async(u,c)=>{let h=null,d=e(u);const p=O(d,c);if(void 0===c.createIIRFilter?h=t(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=c.createIIRFilter(o,s)),a.set(c,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>{await r(u,t,t.destination);return((t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,l=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)s[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const u=new Float32Array(32),c=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let p=0;p<d;p+=1){const e=t.getChannelData(p),n=h.getChannelData(p);u.fill(0),c.fill(0),Dt(i,o,s,a,l,u,c,0,32,e,n)}return h})(await i(t),c,s,o)})()}const t=await l;return h.buffer=t,h.start(0),h}return await r(u,c,d),d};return{render(t,e){const n=a.get(e);return void 0!==n?Promise.resolve(n):u(t,e)}}})(nn,et,Fe,Oe,Nn),Vn=(t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return It(i,r),i})(Fn),jn=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),l=i(a),u=(0,M.A)((0,M.A)({},Ot),o),c=e(a,l?null:t.baseLatency,u);super(t,!1,c,l?n(u.feedback,u.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw kt();return e.call(t,n,r,i)})})(c),this._nativeIIRFilterNode=c,s(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Ye,Vn,In,Pe,Ne,hn),Ln=((t,e,n,r,i,s,o,a)=>(l,u)=>{const c=u.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===c.forwardX?(()=>{const h=new Float32Array(1),d=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=o(u);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const t=r(u,256,9,0);t.onaudioprocess=t=>{let{inputBuffer:e}=t;const n=[s(e,h,0),s(e,h,1),s(e,h,2),s(e,h,3),s(e,h,4),s(e,h,5)];n.some(((t,e)=>t!==m[e]))&&(c.setOrientation(...n),m=n);const r=[s(e,h,6),s(e,h,7),s(e,h,8)];r.some(((t,e)=>t!==g[e]))&&(c.setPosition(...r),g=r)},d.connect(t)},y=t=>e=>{e!==m[t]&&(m[t]=e,c.setOrientation(...m))},_=t=>e=>{e!==g[t]&&(g[t]=e,c.setPosition(...g))},b=(e,r,s)=>{const o=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});o.connect(d,0,e),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>r});const c=t({context:l},p,o.offset,I,N);var h,f,m,g,y,_,b;return a(c,"value",(t=>()=>t.call(c)),(t=>e=>{try{t.call(c,e)}catch(n){if(9!==n.code)throw n}v(),p&&s(e)})),c.cancelAndHoldAtTime=(h=c.cancelAndHoldAtTime,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=h.apply(c,e);return v(),r}),c.cancelScheduledValues=(f=c.cancelScheduledValues,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=f.apply(c,e);return v(),r}),c.exponentialRampToValueAtTime=(m=c.exponentialRampToValueAtTime,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=m.apply(c,e);return v(),r}),c.linearRampToValueAtTime=(g=c.linearRampToValueAtTime,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=g.apply(c,e);return v(),r}),c.setTargetAtTime=(y=c.setTargetAtTime,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=y.apply(c,e);return v(),r}),c.setValueAtTime=(_=c.setValueAtTime,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=_.apply(c,e);return v(),r}),c.setValueCurveAtTime=(b=c.setValueCurveAtTime,p?()=>{throw i()}:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=b.apply(c,e);return v(),r}),c};return{forwardX:b(0,0,y(0)),forwardY:b(1,0,y(1)),forwardZ:b(2,-1,y(2)),positionX:b(6,0,_(0)),positionY:b(7,0,_(1)),positionZ:b(8,0,_(2)),upX:b(3,0,y(3)),upY:b(4,1,y(4)),upZ:b(5,0,y(5))}})():c;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(on,mn,wn,Jt,ne,ce,Ne,de),Bn=new WeakMap,Un=((t,e,n,r,i,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,c.set(this,n),r(n)&&i.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"===typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(un,Ln,Ve,Ne,Bn,ye),Wn=((t,e,n,r,i,s)=>(o,a)=>{const l=o.createOscillator();return It(l,a),jt(l,a,"detune"),jt(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Nt(l,a,"type"),e(n,(()=>n(o)))||Lt(l),e(r,(()=>r(o)))||s(l,o),e(i,(()=>i(o)))||Bt(l),t(o,l),l})(Je,Te,fe,me,ge,ve),Yn=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(u,c){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=n(u);const d=O(h,c);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=e(c,t),null!==a&&h.start(a),null!==l&&h.stop(l)}return s.set(c,h),d?(await t(c,u.detune,h.detune),await t(c,u.frequency,h.frequency)):(await r(c,u.detune,h.detune),await r(c,u.frequency,h.frequency)),await i(u,c,h),h})(u,c)}}})(en,Wn,et,rn,Oe),qn=((t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),l=(0,M.A)((0,M.A)({},ie),o),u=n(a,l),c=s(a),h=c?r():null,d=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,c,u.detune,153600,-153600),this._frequency=e(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"===typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){T(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),V(this)&&E(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Ye,on,Wn,Yn,Pe,Ne,ye),Gn=(t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(nn),zn=((t,e,n,r,i)=>(s,o)=>{let{curve:a,oversample:l}=o,u=(0,Gt.A)(o,ee);const c=s.createWaveShaper(),h=s.createWaveShaper();It(c,u),It(h,u);const d=n(s,(0,M.A)((0,M.A)({},u),{},{gain:1})),p=n(s,(0,M.A)((0,M.A)({},u),{},{gain:-1})),f=n(s,(0,M.A)((0,M.A)({},u),{},{gain:1})),m=n(s,(0,M.A)((0,M.A)({},u),{},{gain:-1}));let g=null,v=!1,y=null;const _={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){d.channelCount=t,p.channelCount=t,c.channelCount=t,f.channelCount=t,h.channelCount=t,m.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){d.channelCountMode=t,p.channelCountMode=t,c.channelCountMode=t,f.channelCountMode=t,h.channelCountMode=t,m.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){d.channelInterpretation=t,p.channelInterpretation=t,c.channelInterpretation=t,f.channelInterpretation=t,h.channelInterpretation=t,m.channelInterpretation=t},get context(){return c.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,h.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),r=new Float32Array(t+2-t%2);e[0]=n[0],r[0]=-n[t-1];const i=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*s,l=Math.floor(a),u=Math.ceil(a);e[o]=l===u?n[l]:(1-(a-l))*n[l]+(1-(u-a))*n[u],r[o]=l===u?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(u-a))*n[t-1-u]}e[i]=t%2===1?n[i-1]:(n[i-2]+n[i-1])/2,c.curve=e,h.curve=r}y=n,v&&(r(y)&&null===g?g=t(s,d):null!==g&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,h.oversample=t},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};null!==a&&(_.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==_.oversample&&(_.oversample=l);return i(zt(_,f),(()=>{d.connect(c).connect(f),d.connect(p).connect(h).connect(m).connect(f),v=!0,r(y)&&(g=t(s,d))}),(()=>{d.disconnect(c),c.disconnect(f),d.disconnect(p),p.disconnect(h),h.disconnect(m),m.disconnect(f),v=!1,null!==g&&(g(),g=null)}))})(Gn,Mt,Zt,he,pn),Hn=((t,e,n,r,i,s,o)=>(a,l)=>{const u=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,l);It(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw e();Nt(u,{curve:c},"curve"),Nt(u,l,"oversample");let h=null,d=!1;o(u,"curve",(t=>()=>t.call(u)),(e=>n=>(e.call(u,n),d&&(r(n)&&null===h?h=t(a,u):r(n)||null===h||(h(),h=null)),n)));return i(u,(()=>{d=!0,r(u.curve)&&(h=t(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Gn,Mt,zn,he,pn,je,de),Xn=((t,e,n,r,i,s,o,a,l,u)=>(c,h)=>{let{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:f,distanceModel:m,maxDistance:g,orientationX:v,orientationY:y,orientationZ:_,panningModel:b,positionX:w,positionY:x,positionZ:A,refDistance:T,rolloffFactor:S}=h,E=(0,Gt.A)(h,Qt);const C=c.createPanner();if(E.channelCount>2)throw o();if("max"===E.channelCountMode)throw o();It(C,E);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(c,(0,M.A)((0,M.A)({},k),{},{channelInterpretation:"speakers",numberOfInputs:6})),D=r(c,(0,M.A)((0,M.A)({},E),{},{gain:1})),P=r(c,(0,M.A)((0,M.A)({},k),{},{gain:1})),R=r(c,(0,M.A)((0,M.A)({},k),{},{gain:0})),F=r(c,(0,M.A)((0,M.A)({},k),{},{gain:0})),N=r(c,(0,M.A)((0,M.A)({},k),{},{gain:0})),I=r(c,(0,M.A)((0,M.A)({},k),{},{gain:0})),V=r(c,(0,M.A)((0,M.A)({},k),{},{gain:0})),j=i(c,256,6,1),L=s(c,(0,M.A)((0,M.A)({},k),{},{curve:new Float32Array([1,1]),oversample:"none"}));let B=[v,y,_],U=[w,x,A];const W=new Float32Array(1);j.onaudioprocess=t=>{let{inputBuffer:e}=t;const n=[l(e,W,0),l(e,W,1),l(e,W,2)];n.some(((t,e)=>t!==B[e]))&&(C.setOrientation(...n),B=n);const r=[l(e,W,3),l(e,W,4),l(e,W,5)];r.some(((t,e)=>t!==U[e]))&&(C.setPosition(...r),U=r)},Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0});const Y={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(t){if(t>2)throw o();D.channelCount=t,C.channelCount=t},get channelCountMode(){return C.channelCountMode},set channelCountMode(t){if("max"===t)throw o();D.channelCountMode=t,C.channelCountMode=t},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(t){D.channelInterpretation=t,C.channelInterpretation=t},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle(t){C.coneInnerAngle=t},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle(t){C.coneOuterAngle=t},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();C.coneOuterGain=t},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel(t){C.distanceModel=t},get inputs(){return[D]},get maxDistance(){return C.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;C.maxDistance=t},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return P.gain},get orientationY(){return R.gain},get orientationZ(){return F.gain},get panningModel(){return C.panningModel},set panningModel(t){C.panningModel=t},get positionX(){return N.gain},get positionY(){return I.gain},get positionZ(){return V.gain},get refDistance(){return C.refDistance},set refDistance(t){if(t<0)throw new RangeError;C.refDistance=t},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;C.rolloffFactor=t},addEventListener(){return D.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return D.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return D.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};d!==Y.coneInnerAngle&&(Y.coneInnerAngle=d),p!==Y.coneOuterAngle&&(Y.coneOuterAngle=p),f!==Y.coneOuterGain&&(Y.coneOuterGain=f),m!==Y.distanceModel&&(Y.distanceModel=m),g!==Y.maxDistance&&(Y.maxDistance=g),v!==Y.orientationX.value&&(Y.orientationX.value=v),y!==Y.orientationY.value&&(Y.orientationY.value=y),_!==Y.orientationZ.value&&(Y.orientationZ.value=_),b!==Y.panningModel&&(Y.panningModel=b),w!==Y.positionX.value&&(Y.positionX.value=w),x!==Y.positionY.value&&(Y.positionY.value=x),A!==Y.positionZ.value&&(Y.positionZ.value=A),T!==Y.refDistance&&(Y.refDistance=T),S!==Y.rolloffFactor&&(Y.rolloffFactor=S),1===B[0]&&0===B[1]&&0===B[2]||C.setOrientation(...B),0===U[0]&&0===U[1]&&0===U[2]||C.setPosition(...U);return u(zt(Y,C),(()=>{D.connect(C),t(D,L,0,0),L.connect(P).connect(O,0,0),L.connect(R).connect(O,0,1),L.connect(F).connect(O,0,2),L.connect(N).connect(O,0,3),L.connect(I).connect(O,0,4),L.connect(V).connect(O,0,5),O.connect(j).connect(c.destination)}),(()=>{D.disconnect(C),a(D,L,0,0),L.disconnect(P),P.disconnect(O),L.disconnect(R),R.disconnect(O),L.disconnect(F),F.disconnect(O),L.disconnect(N),N.disconnect(O),L.disconnect(I),I.disconnect(O),L.disconnect(V),V.disconnect(O),O.disconnect(j),j.disconnect(c.destination)}))})(K,Mt,mn,Zt,Jt,Hn,ne,tt,ce,pn),Zn=(t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(It(r,n),jt(r,n,"orientationX"),jt(r,n,"orientationY"),jt(r,n,"orientationZ"),jt(r,n,"positionX"),jt(r,n,"positionY"),jt(r,n,"positionZ"),Nt(r,n,"coneInnerAngle"),Nt(r,n,"coneOuterAngle"),Nt(r,n,"coneOuterGain"),Nt(r,n,"distanceModel"),Nt(r,n,"maxDistance"),Nt(r,n,"panningModel"),Nt(r,n,"refDistance"),Nt(r,n,"rolloffFactor"),r)})(Xn),Kn=((t,e,n,r,i,s,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p){const f=c.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=s(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v=(0,M.A)((0,M.A)({},g),{},{coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor}),y=O(m,p);if("bufferSize"in m)f=r(p,(0,M.A)((0,M.A)({},g),{},{gain:1}));else if(!y){const t=(0,M.A)((0,M.A)({},v),{},{orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value});m=i(p,t)}if(c.set(p,null===f?m:f),null!==f){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,r)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await a(t,e,i.offset),i})));for(let t=0;t<6;t+=1)e[t].connect(r,0,t),e[t].start(0);return u(t)})()}const t=await h,s=r(p,(0,M.A)((0,M.A)({},g),{},{gain:1}));await l(d,p,s);const c=[];for(let e=0;e<t.numberOfChannels;e+=1)c.push(t.getChannelData(e));let m=[c[0][0],c[1][0],c[2][0]],y=[c[3][0],c[4][0],c[5][0]],_=r(p,(0,M.A)((0,M.A)({},g),{},{gain:1})),b=i(p,(0,M.A)((0,M.A)({},v),{},{orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}));s.connect(_).connect(b.inputs[0]),b.connect(f);for(let e=128;e<t.length;e+=128){const t=[c[0][e],c[1][e],c[2][e]],n=[c[3][e],c[4][e],c[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==y[e]))){m=t,y=n;const o=e/p.sampleRate;_.gain.setValueAtTime(0,o),_=r(p,(0,M.A)((0,M.A)({},g),{},{gain:0})),b=i(p,(0,M.A)((0,M.A)({},v),{},{orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]})),_.gain.setValueAtTime(1,o),s.connect(_).connect(b.inputs[0]),b.connect(f)}}return f}return y?(await t(p,d.orientationX,m.orientationX),await t(p,d.orientationY,m.orientationY),await t(p,d.orientationZ,m.orientationZ),await t(p,d.positionX,m.positionX),await t(p,d.positionY,m.positionY),await t(p,d.positionZ,m.positionZ)):(await a(p,d.orientationX,m.orientationX),await a(p,d.orientationY,m.orientationY),await a(p,d.orientationZ,m.orientationZ),await a(p,d.positionX,m.positionX),await a(p,d.positionY,m.positionY),await a(p,d.positionZ,m.positionZ)),Z(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(en,mn,wn,Zt,Zn,et,Fe,rn,Oe,Nn),$n=((t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const l=i(t),u=(0,M.A)((0,M.A)({},se),a),c=n(l,u),h=s(l);super(t,!1,c,h?r():null),this._nativePannerNode=c,this._orientationX=e(this,h,c.orientationX,I,N),this._orientationY=e(this,h,c.orientationY,I,N),this._orientationZ=e(this,h,c.orientationZ,I,N),this._positionX=e(this,h,c.positionX,I,N),this._positionY=e(this,h,c.positionY,I,N),this._positionZ=e(this,h,c.positionZ,I,N),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Ye,on,Zn,Kn,Pe,Ne,hn),Qn=(t=>(e,n)=>{let{disableNormalization:r,imag:i,real:s}=n;const o=i instanceof Float32Array?i:new Float32Array(i),a=s instanceof Float32Array?s:new Float32Array(s),l=e.createPeriodicWave(a,o,{disableNormalization:r});if(Array.from(i).length<2)throw t();return l})(P),Jn=((t,e,n,r)=>class i{constructor(i,s){const o=e(i),a=r((0,M.A)((0,M.A)({},oe),s)),l=t(o,a);return n.add(l),l}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})(Qn,Pe,new WeakSet,(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?(0,M.A)((0,M.A)({},t),{},{imag:[0,0],real:[0,0]}):(0,M.A)((0,M.A)({},t),{},{imag:Array.from(n,(()=>0)),real:n}):void 0===n?(0,M.A)((0,M.A)({},t),{},{imag:e,real:Array.from(e,(()=>0))}):(0,M.A)((0,M.A)({},t),{},{imag:e,real:n})})),tr=((t,e,n,r,i,s)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c=(0,M.A)((0,M.A)({},u),{},{oversample:"none"}),h=(t,s,h,d,p)=>{if(1===s)return((t,e,i,s)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let n=0;n<o;n+=1){const t=n/16384*l;h[n]=Math.cos(t),d[n]=Math.sin(t)}const p=n(t,(0,M.A)((0,M.A)({},u),{},{gain:0})),f=r(t,(0,M.A)((0,M.A)({},c),{},{curve:h})),m=r(t,(0,M.A)((0,M.A)({},c),{},{curve:a})),g=n(t,(0,M.A)((0,M.A)({},u),{},{gain:0})),v=r(t,(0,M.A)((0,M.A)({},c),{},{curve:d}));return{connectGraph(){e.connect(p),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(s,0,0),g.disconnect(s,0,1)}}})(t,h,d,p);if(2===s)return((t,i,s,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let e=0;e<o;e+=1)if(e>g){const t=(e-g)/(16384-g)*l;d[e]=Math.cos(t),p[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(16384-g)*l;d[e]=1,p[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(t,(0,M.A)((0,M.A)({},u),{},{gain:0})),_=r(t,(0,M.A)((0,M.A)({},c),{},{curve:d})),b=n(t,(0,M.A)((0,M.A)({},u),{},{gain:0})),w=r(t,(0,M.A)((0,M.A)({},c),{},{curve:p})),x=r(t,(0,M.A)((0,M.A)({},c),{},{curve:a})),A=n(t,(0,M.A)((0,M.A)({},u),{},{gain:0})),T=r(t,(0,M.A)((0,M.A)({},c),{},{curve:f})),S=n(t,(0,M.A)((0,M.A)({},u),{},{gain:0})),E=r(t,(0,M.A)((0,M.A)({},c),{},{curve:m}));return{connectGraph(){i.connect(v),i.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(y,0),v.connect(b,0),v.connect(A,1),v.connect(S,1),x.connect(s),s.connect(void 0===_.inputs?_:_.inputs[0]),s.connect(void 0===w.inputs?w:w.inputs[0]),s.connect(void 0===T.inputs?T:T.inputs[0]),s.connect(void 0===E.inputs?E:E.inputs[0]),_.connect(y.gain),w.connect(b.gain),T.connect(A.gain),E.connect(S.gain),y.connect(h,0,0),A.connect(h,0,0),b.connect(h,0,1),S.connect(h,0,1)},disconnectGraph(){i.disconnect(v),i.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(y,0),v.disconnect(b,0),v.disconnect(A,1),v.disconnect(S,1),x.disconnect(s),s.disconnect(void 0===_.inputs?_:_.inputs[0]),s.disconnect(void 0===w.inputs?w:w.inputs[0]),s.disconnect(void 0===T.inputs?T:T.inputs[0]),s.disconnect(void 0===E.inputs?E:E.inputs[0]),_.disconnect(y.gain),w.disconnect(b.gain),T.disconnect(A.gain),E.disconnect(S.gain),y.disconnect(h,0,0),A.disconnect(h,0,0),b.disconnect(h,0,1),S.disconnect(h,0,1)}}})(t,h,d,p);throw i()};return(e,r)=>{let{channelCount:o,channelCountMode:a,pan:l}=r,u=(0,Gt.A)(r,te);if("max"===a)throw i();const c=t(e,(0,M.A)((0,M.A)({},u),{},{channelCount:1,channelCountMode:a,numberOfInputs:2})),d=n(e,(0,M.A)((0,M.A)({},u),{},{channelCount:o,channelCountMode:a,gain:1})),p=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:l});let{connectGraph:f,disconnectGraph:m}=h(e,o,d,p,c);Object.defineProperty(p.gain,"defaultValue",{get:()=>0}),Object.defineProperty(p.gain,"maxValue",{get:()=>1}),Object.defineProperty(p.gain,"minValue",{get:()=>-1});const g={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(t){d.channelCount!==t&&(v&&m(),({connectGraph:f,disconnectGraph:m}=h(e,t,d,p,c)),v&&f()),d.channelCount=t},get channelCountMode(){return d.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();d.channelCountMode=t},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(t){d.channelInterpretation=t},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get pan(){return p.gain},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};let v=!1;return s(zt(g,c),(()=>{f(),v=!0}),(()=>{m(),v=!1}))}})(mn,qt,Zt,Hn,ne,pn),er=((t,e)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,r);const s=n.createStereoPanner();return It(s,r),jt(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),s})(tr,ne),nr=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=O(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return s.set(a,l),u?await t(a,o.pan,l.pan):await r(a,o.pan,l.pan),Z(l)?await i(o,a,l.inputs[0]):await i(o,a,l),l})(o,a)}}})(en,er,et,rn,Oe),rr=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),l=(0,M.A)((0,M.A)({},ae),o),u=n(a,l),c=s(a);super(t,!1,u,c?r():null),this._pan=e(this,c,u.pan)}get pan(){return this._pan}})(Ye,on,er,nr,Pe,Ne),ir=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=e(i);if(!O(o,s)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(s,e)}return r.set(s,o),Z(o)?await n(i,s,o.inputs[0]):await n(i,s,o),o})(i,s)}}})(Hn,et,Oe),sr=((t,e,n,r,i,s,o)=>class extends t{constructor(t,e){const a=i(t),l=(0,M.A)((0,M.A)({},ue),e),u=n(a,l);super(t,!0,u,s(a)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Ye,Mt,Hn,ir,Pe,Ne,hn),or=(t=>null!==t&&t.isSecureContext)(Ce),ar=(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Ce),lr=new WeakMap,ur=((t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r})(lr,Fe),cr=or?((t,e,n,r,i,s,o,a,l,u,c,h,d)=>{let f=0;return function(m,g){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{credentials:"omit"};const w=c.get(m);if(void 0!==w&&w.has(g))return Promise.resolve();const x=u.get(m);if(void 0!==x){const t=x.get(g);if(void 0!==t)return t}const A=s(m),T=void 0===A.audioWorklet?i(g).then((t=>{let[e,r]=t;const[i,s]=v(e,r),o="".concat(i,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(s,"\n})})(window,'_AWGS')");return n(o)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;r(A.currentTime,A.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const r=p.get(A);if(void 0!==r){if(r.has(t))throw e();_(n),y(n.parameterDescriptors),r.set(t,n)}else _(n),y(n.parameterDescriptors),p.set(A,new Map([[t,n]]))}),A.sampleRate,void 0,void 0)))})):Promise.all([i(g),Promise.resolve(t(h,h))]).then((t=>{let[[e,n],r]=t;const i=f+1;f=i;const[s,u]=v(e,n),c=r?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",h=r?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));",d=r?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));",p="".concat(s,";((AudioWorkletProcessor,registerProcessor)=>{").concat(u,"\n})(").concat(c,",(n,p)=>registerProcessor(n,class extends p{").concat(h,"process(i,o,p){").concat(d,"return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(i,"',class extends AudioWorkletProcessor{process(){return !1}})"),m=new Blob([p],{type:"application/javascript; charset=utf-8"}),g=URL.createObjectURL(m);return A.audioWorklet.addModule(g,b).then((()=>{if(a(A))return A;const t=o(A);return t.audioWorklet.addModule(g,b).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,"__sac".concat(i))}catch(e){throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(g)))}));return void 0===x?u.set(m,new Map([[g,T]])):x.set(g,T),T.then((()=>{const t=c.get(m);void 0===t?c.set(m,new Set([g])):t.add(g)})).finally((()=>{const t=u.get(m);void 0!==t&&t.delete(g)})),T}})(Te,ne,(t=>e=>new Promise(((n,r)=>{if(null===t)return void r(new SyntaxError);const i=t.document.head;if(null===i)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,i,s,o)=>n===a||n===t.location.href&&1===i&&1===s?(u(),r(o),!1):null!==l?l(e,n,i,s,o):void 0,s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=a,s.type="module",i.appendChild(s)}})))(Ce),ar,(t=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch(n){}throw t()})((()=>new DOMException("","AbortError"))),Pe,ur,Ne,We,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();e.port.onmessage=()=>s=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await r.startRendering(),await new Promise((t=>setTimeout(t)))}catch(a){}finally{URL.revokeObjectURL(i)}return s&&!o})(We,Fe),Ce):void 0,hr=((t,e)=>n=>t(n)||e(n))(Le,Ne),dr=((t,e,n,r,i,s,o,a,l,u,c)=>(h,d)=>{const p=o(h)?h:s(h);if(i.has(d)){const t=n();return Promise.reject(t)}try{i.add(d)}catch(f){}return e(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(At(d).catch((()=>{})),e(a,(()=>a(n)))||c(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await At(d)}catch(t){}},s=t=>{n(t),i()};try{p.decodeAudioData(d,(n=>{"function"!==typeof n.copyFromChannel&&(u(n),R(n)),t.add(n),i().then((()=>e(n)))}),(t=>{s(null===t?r():t)}))}catch(o){s(o)}}))})(ze,Te,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,Pe,hr,D,Rt,Ke,$e),pr=((t,e,n,r,i,s,o,a,l,u,c,h,d,p,f,m,g,v,y,_)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,r){return new n({length:e,numberOfChannels:t,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(){return new s(this,{numberOfInputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createChannelSplitter(){return new o(this,{numberOfOutputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(){return new c(this,{maxDelayTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableNormalization:!1};return new v(this,(0,M.A)((0,M.A)({},n),{},{imag:e,real:t}))}createStereoPanner(){return new y(this)}createWaveShaper(){return new _(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then((t=>("function"===typeof e&&e(t),t)),(t=>{throw"function"===typeof n&&n(t),t}))}})(cr,Ge,Qe,ln,dn,vn,_n,An,En,dr,Mn,Dn,Rn,jn,Un,qn,$n,Jn,rr,sr),fr=((t,e,n,r)=>class extends t{constructor(t,i){const s=n(t),o=e(s,i);if(r(s))throw TypeError();super(t,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ye,((t,e)=>t.createMediaElementSource(e.mediaElement)),Pe,Ne),mr=((t,e,n,r)=>class extends t{constructor(t,i){const s=n(t);if(r(s))throw new TypeError;const o=(0,M.A)((0,M.A)({},Pt),i),a=e(s,o);super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ye,((t,e)=>{const n=t.createMediaStreamDestination();return It(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),Pe,Ne),gr=((t,e,n,r)=>class extends t{constructor(t,i){const s=n(t),o=e(s,i);if(r(s))throw new TypeError;super(t,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Ye,((t,e)=>{let{mediaStream:n}=e;const r=n.getAudioTracks();r.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const i=r.slice(0,1),s=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:n}),s}),Pe,Ne),vr=((t,e)=>(n,r)=>{let{mediaStreamTrack:i}=r;if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const s=new MediaStream([i]),o=n.createMediaStreamSource(s);if("audio"!==i.kind)throw t();if(e(n))throw new TypeError;return o})(Mt,Ne),yr=((t,e,n)=>class extends t{constructor(t,r){const i=n(t);super(t,!0,e(i,r),null)}})(Ye,vr,Pe),_r=((t,e,n,r,i,s,o,a,l)=>class extends t{constructor(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===l)throw new Error("Missing the native AudioContext constructor.");try{t=new l(e)}catch(o){if(12===o.code&&"sampleRate is not in range"===o.message)throw n();throw o}if(null===t)throw r();if(!Y(e.latencyHint))throw new TypeError("The provided value '".concat(e.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:i}=e,{sampleRate:s}=t;if(this._baseLatency="number"===typeof t.baseLatency?t.baseLatency:"balanced"===i?512/s:"interactive"===i||void 0===i?256/s:"playback"===i?1024/s:128*Math.max(2,Math.min(128,Math.round(i*s/128)))/s,this._nativeAudioContext=t,"webkitAudioContext"===l.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(pr,Mt,ne,le,fr,mr,gr,yr,je),br=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Bn),wr=(t=>(e,n)=>{t(e).add(n)})(br),xr=(t=>function(e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:0];if(void 0===i)throw t();return at(n)?i.connect(n,0,r):i.connect(n,0)})(P),Ar=(t=>(e,n)=>{t(e).delete(n)})(br),Tr=(t=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===n?e.forEach((t=>t.disconnect())):"number"===typeof n?St(t,e,n).disconnect():at(n)?void 0===r?e.forEach((t=>t.disconnect(n))):void 0===i?St(t,e,r).disconnect(n,0):St(t,e,r).disconnect(n,0,i):void 0===r?e.forEach((t=>t.disconnect(n))):St(t,e,r).disconnect(n,0)})(P),Sr=new WeakMap,Er=((t,e)=>n=>e(t,n))(Sr,b),Cr=((t,e,n,r,i,s,o,a,l,u,c,h,d)=>(p,m,g,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw l();const y=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(y.some((t=>t<1)))throw l();if(y.length!==v.numberOfOutputs)throw e();if("explicit"!==v.channelCountMode)throw l();const _=v.channelCount*v.numberOfInputs,b=y.reduce(((t,e)=>t+e),0),w=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(_+w>6||b>6)throw l();const x=new MessageChannel,A=[],T=[];for(let t=0;t<v.numberOfInputs;t+=1)A.push(o(p,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),T.push(i(p,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const S=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:r}of g.parameterDescriptors){const i=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[r]?v.parameterData[r]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?I:e},minValue:{get:()=>void 0===n?N:n}}),S.push(i)}const E=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+w)}),C=Ut(m,p.sampleRate),k=a(p,C,_+w,Math.max(1,b)),O=i(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),D=[];for(let t=0;t<v.numberOfOutputs;t+=1)D.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[t]}));for(let t=0;t<v.numberOfInputs;t+=1){A[t].connect(T[t]);for(let e=0;e<v.channelCount;e+=1)T[t].connect(E,e,t*v.channelCount+e)}const P=new dt(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map(((t,e)=>{let{name:n}=t;const r=S[e];return r.connect(E,0,_+e),r.start(0),[n,r.offset]})));E.connect(k);let R=v.channelInterpretation,F=null;const V=0===v.numberOfOutputs?[k]:D,j={get bufferSize(){return C},get channelCount(){return v.channelCount},set channelCount(t){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return R},set channelInterpretation(t){for(const e of A)e.channelInterpretation=t;R=t},get context(){return k.context},get inputs(){return A},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(t){"function"===typeof F&&j.removeEventListener("processorerror",F),F="function"===typeof t?t:null,"function"===typeof F&&j.addEventListener("processorerror",F)},get parameters(){return P},get port(){return x.port2},addEventListener(){return k.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},connect:t.bind(null,V),disconnect:u.bind(null,V),dispatchEvent(){return k.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return k.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},L=new Map;var B,U;x.port1.addEventListener=(B=x.port1.addEventListener,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("message"===e[0]){const t="function"===typeof e[1]?e[1]:"object"===typeof e[1]&&null!==e[1]&&"function"===typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=L.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{c(p.currentTime,p.sampleRate,(()=>t(e)))},L.set(t,e[1]))}}return B.call(x.port1,e[0],e[1],e[2])}),x.port1.removeEventListener=(U=x.port1.removeEventListener,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if("message"===e[0]){const t=L.get(e[1]);void 0!==t&&(L.delete(e[1]),e[1]=t)}return U.call(x.port1,e[0],e[1],e[2])});let W=null;Object.defineProperty(x.port1,"onmessage",{get:()=>W,set:t=>{"function"===typeof W&&x.port1.removeEventListener("message",W),W="function"===typeof t?t:null,"function"===typeof W&&(x.port1.addEventListener("message",W),x.port1.start())}}),g.prototype.port=x.port1;let Y=null;const q=((t,e,n,r)=>{let i=f.get(t);void 0===i&&(i=new WeakMap,f.set(t,i));const s=Wt(n,r);return i.set(e,s),s})(p,j,g,v);q.then((t=>Y=t));const G=gt(v.numberOfInputs,v.channelCount),z=gt(v.numberOfOutputs,y),H=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce(((t,e)=>{let{name:n}=e;return(0,M.A)((0,M.A)({},t),{},{[n]:new Float32Array(128)})}),{});let X=!0;const Z=()=>{v.numberOfOutputs>0&&k.disconnect(O);for(let t=0,e=0;t<v.numberOfOutputs;t+=1){const n=D[t];for(let r=0;r<y[t];r+=1)O.disconnect(n,e+r,r);e+=y[t]}},K=new Map;k.onaudioprocess=t=>{let{inputBuffer:e,outputBuffer:n}=t;if(null!==Y){const t=h(j);for(let i=0;i<C;i+=128){for(let t=0;t<v.numberOfInputs;t+=1)for(let n=0;n<v.channelCount;n+=1)ft(e,G[t],n,n,i);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach(((t,n)=>{let{name:r}=t;ft(e,H,r,_+n,i)}));for(let t=0;t<v.numberOfInputs;t+=1)for(let e=0;e<y[t];e+=1)0===z[t][e].byteLength&&(z[t][e]=new Float32Array(128));try{const e=G.map(((e,n)=>{if(t[n].size>0)return K.set(n,C/128),e;const r=K.get(n);return void 0===r?[]:(e.every((t=>t.every((t=>0===t))))&&(1===r?K.delete(n):K.set(n,r-1)),e)})),r=c(p.currentTime+i/p.sampleRate,p.sampleRate,(()=>Y.process(e,z,H)));X=r;for(let t=0,s=0;t<v.numberOfOutputs;t+=1){for(let e=0;e<y[t];e+=1)mt(n,z[t],e,s+e,i);s+=y[t]}}catch(r){X=!1,j.dispatchEvent(new ErrorEvent("processorerror",{colno:r.colno,filename:r.filename,lineno:r.lineno,message:r.message}))}if(!X){for(let t=0;t<v.numberOfInputs;t+=1){A[t].disconnect(T[t]);for(let e=0;e<v.channelCount;e+=1)T[i].disconnect(E,e,t*v.channelCount+e)}if(void 0!==g.parameterDescriptors){const t=g.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(E,0,_+e),t.stop()}}E.disconnect(k),k.onaudioprocess=null,$?Z():tt();break}}}};let $=!1;const Q=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),J=()=>k.connect(Q).connect(p.destination),tt=()=>{k.disconnect(Q),Q.disconnect()};return J(),d(j,(()=>{if(X){tt(),v.numberOfOutputs>0&&k.connect(O);for(let t=0,e=0;t<v.numberOfOutputs;t+=1){const n=D[t];for(let r=0;r<y[t];r+=1)O.connect(n,e+r,r);e+=y[t]}}$=!0}),(()=>{X&&(J(),Z()),$=!1}))})(xr,P,Mt,mn,qt,wn,Zt,Jt,ne,Tr,ar,Er,pn),Mr=((t,e,n,r,i)=>(s,o,a,l,u,c)=>{if(null!==a)try{const e=new a(s,l,c),r=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"===typeof o&&e.removeEventListener("processorerror",o),o="function"===typeof t?t:null,"function"===typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if("processorerror"===n[0]){const t="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==t){const e=r.get(n[1]);void 0!==e?n[1]=e:(n[1]=e=>{"error"===e.type?(Object.defineProperties(e,{type:{value:"processorerror"}}),t(e)):t(new ErrorEvent(n[0],(0,M.A)({},e)))},r.set(t,n[1]))}}return d.call(e,"error",n[1],n[2]),d.call(e,...n)}),e.removeEventListener=(h=e.removeEventListener,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if("processorerror"===n[0]){const t=r.get(n[1]);void 0!==t&&(r.delete(n[1]),n[1]=t)}return h.call(e,"error",n[1],n[2]),h.call(e,n[0],n[1],n[2])}),0!==c.numberOfOutputs){const t=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(t).connect(s.destination);return i(e,(()=>t.disconnect()),(()=>t.connect(s.destination)))}return e}catch(p){if(11===p.code)throw r();throw p}var h,d;if(void 0===u)throw r();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(c),e(s,o,u,c)})(Mt,Cr,Zt,ne,pn),kr=((t,e,n,r,i,s,o,a,l,u,c,h,d,p,f,m)=>(g,v,y)=>{const _=new WeakMap;let b=null;return{render(w,x){a(x,w);const A=_.get(x);return void 0!==A?Promise.resolve(A):(async(a,w)=>{let x=c(a),A=null;const T=O(x,w),S=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=S.reduce(((t,e)=>t+e),0),n=i(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let e=0;e<a.numberOfOutputs;e+=1)s.push(r(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[e]}));const u=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});u.connect=e.bind(null,s),u.disconnect=l.bind(null,s),A=[n,s,u]}else T||(x=new h(w,g));if(_.set(w,null===A?x:A[2]),null!==A){if(null===b){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),u=[],c=[];for(let t=0;t<v.numberOfInputs;t+=1)u.push(o(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),c.push(i(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset),e}))),g=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){u[t].connect(c[t]);for(let e=0;e<v.channelCount;e+=1)c[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(u.map((t=>f(a,l,t)))),m(l)};b=vt(a,0===n?null:await l(),w,v,S,y,u)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=A;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let n=0,r=0;n<a.numberOfOutputs;n+=1){const t=c[n];for(let e=0;e<S[n];e+=1)l.connect(t,r+e,e);r+=S[n]}return h}if(T)for(const[e,n]of a.parameters.entries())await t(w,n,x.parameters.get(e));else for(const[t,e]of a.parameters.entries())await p(w,e,x.parameters.get(t));return await f(a,w,x),x})(w,x)}}})(en,xr,nn,mn,qt,wn,Zt,Ar,Tr,ar,et,We,Fe,rn,Oe,Nn),Or=(t=>e=>t.get(e))(lr),Dr=(t=>(e,n)=>{t.set(e,n)})(Sr),Pr=or?((t,e,n,r,i,s,o,a,l,u,c,h,d,f)=>class extends e{constructor(e,f,m){var g;const v=a(e),y=l(v),_=c((0,M.A)((0,M.A)({},pt),m));d(_);const b=p.get(v),w=null===b||void 0===b?void 0:b.get(f),x=y||"closed"!==v.state?v:null!==(g=o(v))&&void 0!==g?g:v,A=i(x,y?null:e.baseLatency,u,f,w,_);super(e,!0,A,y?r(f,_,w):null);const T=[];A.parameters.forEach(((t,e)=>{const r=n(this,y,t);T.push([e,r])})),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new dt(T),y&&t(v,this);const{activeInputs:S}=s(this);h(A,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"===typeof t?f(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(wr,Ye,on,kr,Mr,L,Or,Pe,Ne,We,(t=>(0,M.A)((0,M.A)({},t),{},{outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))})),Dr,(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}}),ye):void 0,Rr=(((t,e,n,r,i)=>{})(Mt,ne,le,Un,je),((t,e)=>(n,r,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(s){if("SyntaxError"===s.name)throw t();throw s}})(ne,Fe)),Fr=((t,e,n,r,i,s,o,a)=>(l,u)=>n(l).render(l,u).then((()=>Promise.all(Array.from(r(u)).map((t=>n(t).render(t,u)))))).then((()=>i(u))).then((n=>("function"!==typeof n.copyFromChannel?(o(n),R(n)):e(s,(()=>s(n)))||a(n),t.add(n),n))))(ze,Te,ke,br,Nn,D,Ke,$e),Nr=(((t,e,n,r,i)=>{})(Te,Mt,Rr,Un,Fr),((t,e,n,r,i)=>class extends t{constructor(t,n,i){let s;if("number"===typeof t&&void 0!==n&&void 0!==i)s={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!==typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:o,numberOfChannels:a,sampleRate:l}=(0,M.A)((0,M.A)({},re),s),u=r(a,o,l);e(Rt,(()=>Rt(u)))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,W(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(pr,Te,Mt,Rr,Fr)),Ir=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(c,Le),Vr=((t,e)=>n=>t.has(n)||e(n))(a,Be),jr=((t,e)=>n=>t.has(n)||e(n))(u,Ue),Lr=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(c,Ne);function Br(t){return void 0===t}function Ur(t){return void 0!==t}function Wr(t){return"number"===typeof t}function Yr(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function qr(t){return"boolean"===typeof t}function Gr(t){return Array.isArray(t)}function zr(t){return"string"===typeof t}function Hr(t){return zr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Xr(t,e){if(!t)throw new Error(e)}function Zr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!(e<=t&&t<=n))throw new RangeError("Value must be within [".concat(e,", ").concat(n,"], got: ").concat(t))}function Kr(t){t.isOffline||"running"===t.state||ei('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let $r=!1,Qr=!1;function Jr(t){$r=t}let ti=console;function ei(){ti.warn(...arguments)}const ni="object"===typeof self?self:null,ri=ni&&(ni.hasOwnProperty("AudioContext")||ni.hasOwnProperty("webkitAudioContext"));function ii(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function si(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((r=r.apply(t,e||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class oi{constructor(t,e,n,r){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const t=new Blob(["\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ".concat((1e3*this._updateInterval).toFixed(1),";\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t")],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),"worker"===this._type&&(null===(e=this._worker)||void 0===e||e.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function ai(t){return jr(t)}function li(t){return Vr(t)}function ui(t){return Lr(t)}function ci(t){return Ir(t)}function hi(t,e){return"value"===t||ai(e)||li(e)||function(t){return t instanceof Qe}(e)}function di(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(!n.length)return t;const i=n.shift();if(Yr(t)&&Yr(i))for(const s in i)hi(s,i[s])?t[s]=i[s]:Yr(i[s])?(t[s]||Object.assign(t,{[s]:{}}),di(t[s],i[s])):Object.assign(t,{[s]:i[s]});return di(t,...n)}function pi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;const i={},s=Array.from(e);if(Yr(s[0])&&r&&!Reflect.has(s[0],r)){Object.keys(s[0]).some((e=>Reflect.has(t,e)))||(di(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())}if(1===s.length&&Yr(s[0]))di(i,s[0]);else for(let o=0;o<n.length;o++)Ur(s[o])&&(i[n[o]]=s[o]);return di(t,i)}function fi(t,e){return Br(t)?e:t}function mi(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class gi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(){if(this.debug||ni&&this.toString()===ni.TONE_DEBUG_CLASS){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];!function(){ti.log(...arguments)}(this,...e)}}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}gi.version=r;const vi=1e-6;function yi(t,e){return t>e+vi}function _i(t,e){return yi(t,e)||wi(t,e)}function bi(t,e){return t+vi<e}function wi(t,e){return Math.abs(t-e)<vi}function xi(t,e,n){return Math.max(Math.min(t,n),e)}class Ai extends gi{constructor(){super(),this.name="Timeline",this._timeline=[];const t=pi(Ai.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Xr(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Xr(_i(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(wi(this._timeline[e].time,t)){for(let n=e;n>=0&&wi(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&_i(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;for(;n<i;){let r=Math.floor(n+(i-n)/2);const s=this._timeline[r],o=this._timeline[r+1];if(wi(s[e],t)){for(let n=r;n<this._timeline.length;n++){if(!wi(this._timeline[n][e],t))break;r=n}return r}if(bi(s[e],t)&&yi(o[e],t))return r;yi(s[e],t)?i=r:n=r+1}return-1}_iterate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._timeline.length-1;this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let r=this._search(t),i=this._search(e);return-1!==r&&-1!==i?(this._timeline[r].time!==t&&(r+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&wi(this._timeline[n].time,t)){let r=n;for(let e=n;e>=0&&wi(this._timeline[e].time,t);e--)r=e;this._iterate((t=>{e(t)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ti=[];function Si(t){Ti.push(t)}const Ei=[];function Ci(t){Ei.push(t)}class Mi extends gi{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{Br(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){var n=this;const r=function(){e(...arguments),n.off(t,r)};return this.on(t,r),this}off(t,e){return t.split(/\W+/).forEach((t=>{if(Br(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Br(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(let t=0,e=i.length;t<e;t++)i[t].apply(this,n)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(Mi.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class ki extends Mi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Oi extends ki{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ai,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=pi(Oi.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=(null===(t=arguments[0])||void 0===t?void 0:t.latencyHint)||""):(this._context=function(t){return new _r(t)}({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new oi(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(e=arguments[0])||void 0===e?void 0:e.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Ti.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){Xr(ci(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(t)}createMediaElementSource(t){Xr(ci(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(t)}createMediaStreamDestination(){Xr(ci(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Xr(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Xr(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Xr(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Xr(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Xr(Ur(Pr),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(null===ni||void 0===ni?void 0:ni.BaseAudioContext)?null===ni||void 0===ni?void 0:ni.AudioWorkletNode:Pr)(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t){return si(this,void 0,void 0,(function*(){Xr(Ur(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise}))}workletsAreReady(){return si(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ci(this._context)?this._context.resume():Promise.resolve()}close(){return si(this,void 0,void 0,(function*(){var t;ci(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&(t=this,Ei.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=t;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants.set(t,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this.close(),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),r()},id:n,time:i+e})};return r(),n}}function Di(t,e){Gr(e)?e.forEach((e=>Di(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Pi(t,e){Gr(e)?e.forEach((e=>Pi(t,e))):Object.defineProperty(t,e,{writable:!0})}const Ri=()=>{};class Fi extends gi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ri;const t=pi(Fi.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,zr(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Ri,onload:Ri,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ji().sampleRate}set(t){return t instanceof Fi?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return si(this,void 0,void 0,(function*(){const e=Fi.load(t).then((t=>{this.set(t),this.onload(this)}));Fi.downloads.push(e);try{yield e}finally{const t=Fi.downloads.indexOf(e);Fi.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Gr(t)&&t[0].length>0,n=e?t.length:1,r=e?t[0].length:t.length,i=ji(),s=i.createBuffer(n,r,i.sampleRate),o=e||1!==n?t:[t];for(let a=0;a<n;a++)s.copyToChannel(o[a],a);return this._buffer=s,this}toMono(t){if(Wr(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Wr(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration;Xr(this.loaded,"Buffer is not loaded");const n=Math.floor(t*this.sampleRate),r=Math.floor(e*this.sampleRate);Xr(n<r,"The start time must be less than the end time");const i=r-n,s=ji().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)s.copyToChannel(this.getChannelData(o).subarray(n,r),o);return new Fi(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Fi).fromArray(t)}static fromUrl(t){return si(this,void 0,void 0,(function*(){const e=new Fi;return yield e.load(t)}))}static load(t){return si(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let r=n[0];for(const t of n)if(Fi.supportsType(t)){r=t;break}t=t.replace(e[0],r)}const n=""===Fi.baseUrl||Fi.baseUrl.endsWith("/")?Fi.baseUrl:Fi.baseUrl+"/",r=document.createElement("a");r.href=n+t,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error("could not load url: ".concat(t));const s=yield i.arrayBuffer();return yield ji().decodeAudioData(s)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return si(this,void 0,void 0,(function*(){for(yield Promise.resolve();Fi.downloads.length;)yield Fi.downloads[0]}))}}Fi.baseUrl="",Fi.downloads=[];class Ni extends Oi{constructor(){var t,e,n;super({clockSource:"offline",context:ui(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Nr(t,e,n)),lookAhead:0,updateInterval:ui(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ui(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return si(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n===0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(){return si(this,arguments,void 0,(function(){var t=this;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){yield t.workletsAreReady(),yield t._renderClock(e);const n=yield t._context.startRendering();return new Fi(n)}()}))}close(){return Promise.resolve()}}const Ii=new class extends ki{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return si(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Vi=Ii;function ji(){return Vi===Ii&&ri&&function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&Vi.dispose();Vi=ci(t)?new Oi(t):ui(t)?new Ni(t):t}(new Oi),Vi}function Li(){return Vi.resume()}if(ni&&!ni.TONE_SILENCE_LOGGING){let t="v";0;const e=" * Tone.js ".concat(t).concat(r," * ");console.log("%c".concat(e),"background: #000; color: #fff")}function Bi(t){return Math.pow(10,t/20)}function Ui(t){return Math.log(t)/Math.LN10*20}function Wi(t){return Math.pow(2,t/12)}let Yi=440;function qi(t){return Math.round(Gi(t))}function Gi(t){return 69+12*Math.log2(t/Yi)}function zi(t){return Yi*Math.pow(2,(t-69)/12)}class Hi extends gi{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),r="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Hi&&this.fromType(this._val),Br(this._val))return this._noArg();if(zr(this._val)&&Br(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Yr(this._val)){let t=0;for(const e in this._val)if(Ur(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Ur(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return zr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Xi extends Hi{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Xi(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new this.constructor(this.context,t).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let i=1;i<9;i++){const t=Math.pow(2,i);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],r=new Xi(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new Xi(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(r-t)&&(n=e,r=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let r=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=r.toString();i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3)));return[n,e,r].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return qi(this.toFrequency())}_now(){return this.context.now()}}class Zi extends Xi{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Yi}static set A4(t){!function(t){Yi=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Zi.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const n=Ki[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Zi.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(t){return new Zi(this.context,this.valueOf()*Wi(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return qi(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Zi.A4);let n=Math.round(12*e)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);return $i[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return zi(t)}static ftom(t){return qi(t)}}const Ki={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},$i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Qi extends Xi{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ji extends gi{constructor(){super();const t=pi(Ji.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ji()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return function(t){Br(t)&&$r&&!Qr&&(Qr=!0,ei("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}(t),new Xi(this.context,t).toSeconds()}toFrequency(t){return new Zi(this.context,t).toFrequency()}toTicks(t){return new Qi(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{Br(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];Ur(n)&&Ur(n.value)&&Ur(n.setValueAtTime)?t[e]=n.value:n instanceof Ji?t[e]=n._getPartialProperties(t[e]):Gr(n)||Wr(n)||zr(n)||qr(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&Ur(this[e])&&(this[e]&&Ur(this[e].value)&&Ur(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Ji?this[e].set(t[e]):this[e]=t[e])})),this}}class ts extends Ai{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stopped";super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Zr(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let r=n;r<this._timeline.length;r++){const e=this._timeline[r];if(e.state===t)return e}}}class es extends Ji{constructor(){const t=pi(es.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Xr(Ur(t.param)&&(ai(t.param)||t.param instanceof es),"param must be an AudioParam");!ai(t.param);)t.param=t.param._param;this._swappable=!!Ur(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Ai(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Ur(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ji.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Ur(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Ur(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Ur(this.maxValue)&&Ur(this.minValue)&&Zr(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Bi(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?Ui(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),r=this._fromType(t);return Xr(isFinite(r)&&isFinite(n),"Invalid argument(s) to setValueAtTime: ".concat(JSON.stringify(t),", ").concat(JSON.stringify(e))),this._assertRange(r),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),r=this._events.get(e);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=r.value;if("setTargetAtTime"===r.type){const e=this._events.getBefore(r.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,t,n.time,n.value,e):this._exponentialInterpolate(r.time,t,n.time,n.value,e)}else i=r.value;else{const t=this._events.getBefore(r.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),r=this.toSeconds(e);return Xr(isFinite(n)&&isFinite(r),"Invalid argument(s) to linearRampToValueAtTime: ".concat(JSON.stringify(t),", ").concat(JSON.stringify(e))),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=wi(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(e);return Xr(isFinite(n)&&isFinite(r),"Invalid argument(s) to exponentialRampToValueAtTime: ".concat(JSON.stringify(t),", ").concat(JSON.stringify(e))),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,r),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const r=this._fromType(t);Xr(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(r),Xr(isFinite(r)&&isFinite(i),"Invalid argument(s) to setTargetAtTime: ".concat(JSON.stringify(t),", ").concat(JSON.stringify(e))),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*r;this.setValueAtTime(this._toType(i),e);const s=n/(t.length-1);for(let o=1;o<t.length;o++){const n=this._fromType(t[o])*r;this.linearRampToValueAtTime(this._toType(n),e+o*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Xr(isFinite(e),"Invalid argument to cancelScheduledValues: ".concat(JSON.stringify(t))),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Xr(isFinite(e),"Invalid argument to cancelAndHoldAtTime: ".concat(JSON.stringify(t))),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const r=this._events.get(e),i=this._events.getAfter(e);return r&&wi(r.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2?arguments[2]:void 0;return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:e+2,s=(i-e)/10;for(let n=e;n<i;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Xr(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)}_linearInterpolate(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)}_exponentialInterpolate(t,e,n,r,i){return e*Math.pow(r/e,(i-t)/(n-t))}}class ns extends Ji{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ur(this.input)?ai(this.input)||this.input instanceof es?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ur(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Ur(t)&&(t instanceof ns||li(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Xr(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t){return is(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ei("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t){return ss(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}chain(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rs(this,...e),this}fan(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),Ur(this.input)&&(this.input instanceof ns?this.input.dispose():li(this.input)&&this.input.disconnect()),Ur(this.output)&&(this.output instanceof ns?this.output.dispose():li(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function rs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.shift();e.reduce(((t,e)=>(t instanceof ns?t.connect(e):li(t)&&is(t,e),e)),r)}function is(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(Xr(Ur(t),"Cannot connect from undefined node"),Xr(Ur(e),"Cannot connect to undefined node"),(e instanceof ns||li(e))&&Xr(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Xr(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ns||e instanceof es;)Ur(e.input)&&(e=e.input);for(;t instanceof ns;)Ur(t.output)&&(t=t.output);ai(e)?t.connect(e,n):t.connect(e,n,r)}function ss(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(Ur(e))for(;e instanceof ns;)e=e.input;for(;!li(t);)Ur(t.output)&&(t=t.output);ai(e)?t.disconnect(e,n):li(e)?t.disconnect(e,n,r):t.disconnect()}class os extends ns{constructor(){const t=pi(os.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new es({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Di(this,"gain")}static getDefaults(){return Object.assign(ns.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class as extends ns{constructor(t){super(t),this.onended=Ri,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new os({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(ns.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ri})}_startGain(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Xr(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Xr(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ri&&(this.onended(this),this.onended=Ri,!this.context.isOffline)){const t=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Xr(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ri,this}}class ls extends as{constructor(){const t=pi(ls.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),is(this._source,this._gainNode),this.offset=new es({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(as.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class us extends ns{constructor(){const t=pi(us.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new ls({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ns.getDefaults(),{convert:!0,units:"number",value:0})}connect(t){return cs(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,r){return this._param.setValueCurveAtTime(t,e,n,r),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function cs(t,e,n,r){(e instanceof es||ai(e)||e instanceof us&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof us&&(e.overridden=!0)),is(t,e,n,r)}class hs extends es{constructor(){const t=pi(hs.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new Ai(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(es.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const r=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let o=0;o<=s;o++){const t=n*o+e,s=this._exponentialApproach(i.time,i.value,r,n,t);this.linearRampToValueAtTime(this._toType(s),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(10*(e-r.time),1)),s=(e-r.time)/i;for(let o=0;o<=i;o++){const t=s*o+r.time,i=this._exponentialInterpolate(r.time,r.value,e,n,t);this.linearRampToValueAtTime(this._toType(i),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Br(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let r=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+r)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(e);return this.getTimeOfTick(r+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const r=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-e.time),s=Math.sqrt(Math.pow(r,2)-2*i*(e.ticks-t)),o=(-r+s)/i;return(o>0?o:(-r-s)/i)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),r=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class ds extends us{constructor(){const t=pi(ds.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new hs({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(us.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class ps extends Ji{constructor(){const t=pi(ps.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new ts,this._tickOffset=new Ai,this._ticksAtTime=new Ai,this._secondsAtTime=new Ai,this.frequency=new ds({context:this.context,units:t.units,value:t.frequency}),Di(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ji.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Ur(e)&&this.setTicksAtTime(e,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),r=this._ticksAtTime.get(e),i={state:"paused",time:e};this._state.add(i);let s=r||n,o=r?r.ticks:0,a=null;return this._state.forEachBetween(s.time,e+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(o=n.ticks,e=n.time),"started"===s.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e),t.time!==i.time&&(a={state:t.state,time:t.time,ticks:o})),s=t})),this._state.remove(i),a&&this._ticksAtTime.add(a),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);const r=this._secondsAtTime.get(t);let i=r||e,s=r?r.seconds:0,o=null;return this._state.forEachBetween(i.time,t+this.sampleTime,(t=>{let e=i.time;const r=this._tickOffset.get(t.time);r&&r.time>=i.time&&(s=r.seconds,e=r.time),"started"===i.state&&"started"!==t.state&&(s+=t.time-e,t.time!==n.time&&(o={state:t.state,time:t.time,seconds:s})),i=t})),this._state.remove(n),o&&this._secondsAtTime.add(o),s}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();const n=this._tickOffset.get(e),r=this._state.get(e),i=Math.max(n.time,r.time),s=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let r=this._state.get(t);this._state.forEachBetween(t,e,(e=>{r&&"started"===r.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,n),r=e}));let i=null;if(r&&"started"===r.state){const o=Math.max(r.time,t),a=this.frequency.getTicksAtTime(o),l=a-this.frequency.getTicksAtTime(r.time);let u=Math.ceil(l)-l;u=wi(u,1)?0:u;let c=this.frequency.getTimeOfTick(a+u);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(s){i=s;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class fs extends Ji{constructor(){const t=pi(fs.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=Ri,this._lastUpdate=0,this._state=new ts("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new ps({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Di(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ji.getDefaults(),{callback:Ri,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Kr(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Mi.mixin(fs);class ms extends ns{constructor(){const t=pi(ms.getDefaults(),arguments,["delayTime","maxDelay"]);super(t),this.name="Delay";const e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new es({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Di(this,"delayTime")}static getDefaults(){return Object.assign(ns.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class gs extends ns{constructor(){const t=pi(gs.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new os({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Di(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(ns.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class vs extends ns{constructor(){const t=pi(vs.getDefaults(),arguments);super(t),this.name="Destination",this.input=new gs({context:this.context}),this.output=new os({context:this.context}),this.volume=this.input.volume,rs(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ns.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(){this.input.disconnect();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift(this.input),e.push(this.output),rs(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Si((t=>{t.destination=new vs({context:t})})),Ci((t=>{t.destination.dispose()}));class ys extends ns{constructor(){super(...arguments),this.name="Listener",this.positionX=new es({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new es({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new es({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new es({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new es({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new es({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new es({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new es({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new es({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ns.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Si((t=>{t.listener=new ys({context:t})})),Ci((t=>{t.listener.dispose()}));class _s extends gi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=pi(_s.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Ri,onload:Ri,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Xr(this.has(t),"ToneAudioBuffers has no buffer named: ".concat(t)),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((t=>{let[e,n]=t;return n.loaded}))}add(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ri,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ri;return zr(e)?(this.baseUrl&&"data:audio/"===e.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(t.toString(),new Fi(this.baseUrl+e,n,r))):this._buffers.set(t.toString(),new Fi(e,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class bs extends Zi{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return qi(super._frequencyToUnits(t))}_ticksToUnits(t){return qi(super._ticksToUnits(t))}_beatsToUnits(t){return qi(super._beatsToUnits(t))}_secondsToUnits(t){return qi(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return zi(this.toMidi())}transpose(t){return new bs(this.context,this.toMidi()+t)}}class ws extends Qi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class xs extends Ji{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ai,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Si((t=>{t.draw=new xs({context:t})})),Ci((t=>{t.draw.dispose()}));class As extends gi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Xr(Ur(t.time),"Events must have a time property"),Xr(Ur(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Ts(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),r=t.right;r&&(t.right=r.left,r.left=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),r=t.left;r&&(t.left=r.right,r.right=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class Ts{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ss extends gi{constructor(t){super(),this.name="TimelineValue",this._timeline=new Ai({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Es extends ns{constructor(){super(pi(Es.getDefaults(),arguments,["context"]))}connect(t){return cs(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}}class Cs extends Es{constructor(){const t=pi(Cs.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Gr(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"===typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(us.getDefaults(),{length:1024})}setMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=new Float32Array(e);for(let r=0,i=e;r<i;r++){const e=r/(i-1)*2-1;n[r]=t(e,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Xr(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ms extends Es{constructor(){const t=pi(Ms.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new Cs({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Es.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ks{constructor(t,e){this.id=ks._eventId++,this._remainderTime=0;const n=Object.assign(ks.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:Ri,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ks._eventId=0;class Os extends ks{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Os.getDefaults(),e);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ks.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return bi(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ws(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){bi(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ws(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);yi(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ds extends Ji{constructor(){const t=pi(Ds.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new Ss(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ai,this._repeatedEvents=new As,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new fs({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Di(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Ji.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(2*this._swingTicks)!==0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;t+=new ws(this.context,2*this._swingTicks/3).toSeconds()*r}Jr(!0),this._timeline.forEachAtTime(e,(e=>e.invoke(t))),Jr(!1)}schedule(t,e){const n=new ks(this,{callback:t,time:new Qi(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const i=new Os(this,{callback:t,duration:new Xi(this.context,r).toTicks(),interval:new Xi(this.context,e).toTicks(),time:new Qi(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new ks(this,{callback:t,once:!0,time:new Qi(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new ws(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return this.context.resume(),Ur(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Gr(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Xi(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Xi(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new ws(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new ws(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),r=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",r),this._clock.setTicksAtTime(t,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){const n=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(n)/this.PPQ),s=[];if("time"===t.units){const t=1/64/i,e=new os(t),n=new Ms(-1),o=new os(t);r.chain(e,n,o),r=o,i=1/i,s=[e,n,o]}e||(e=0!==t.getValueAtTime(n)?t.getValueAtTime(n)/i:0);const o=new os(e);return r.connect(o),o.connect(t._param),s.push(o),this._syncedSignals.push({initial:t.value,nodes:s,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.nodes.forEach((t=>t.dispose())),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Pi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Mi.mixin(Ds),Si((t=>{t.transport=new Ds({context:t})})),Ci((t=>{t.transport.dispose()}));class Ps extends ns{constructor(t){super(t),this.input=void 0,this._state=new ts("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ri,this._syncedStop=Ri,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new gs({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Di(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(ns.getDefaults(),{mute:!1,onstop:Ri,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let r=Br(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const t=this._state.get(r);t&&(t.offset=this.toSeconds(fi(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Kr(this.context),this._start(r,e,n);else Xr(yi(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,e,n);return this}stop(t){let e=Br(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Ur(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(yi(e,0)){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const r=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(t,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ri,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Rs extends as{constructor(){const t=pi(Rs.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,is(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new es({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Fi(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(as.getDefaults(),{url:new Fi,loop:!1,loopEnd:0,loopStart:0,onload:Ri,onerror:Ri,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Xr(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,r),e=this.loop?fi(e,this.loopStart):fi(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;_i(s,t)&&(s=(s-e)%n+e),wi(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,bi(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),Ur(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Fs(t,e){return si(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,r=new Ni(1,n,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}class Ns extends as{constructor(){const t=pi(Ns.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],is(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new es({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new es({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Di(this,["frequency","detune"])}static getDefaults(){return Object.assign(as.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Is extends Ps{constructor(){const t=pi(Is.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new us({context:this.context,units:"frequency",value:t.frequency}),Di(this,"frequency"),this.detune=new us({context:this.context,units:"cents",value:t.detune}),Di(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Ps.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Ns({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return Is._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}))}{const t=Is._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Ur(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Is._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Is._periodicWaveCache.length>100&&Is._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Zr(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const r=new Float32Array(n),i=new Float32Array(n);let s=1;if("custom"===t){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[r,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(s=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(r[o]=-a*Math.sin(e*o),i[o]=a*Math.cos(e*o)):(r[o]=0,i[o]=0)}return[r,i]}_inverseFFT(t,e,n){let r=0;const i=t.length;for(let s=0;s<i;s++)r+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return r}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*r),n);return xi(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Is._periodicWaveCache=[];class Vs extends Es{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Cs({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class js extends us{constructor(){const t=pi(js.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new os({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(us.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ls extends Ps{constructor(){const t=pi(Ls.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new Vs({context:this.context}),this._modulationNode=new os({context:this.context}),this._carrier=new Is({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Is({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new js({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Di(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Is.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Bs extends Ps{constructor(){const t=pi(Bs.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new os({context:this.context,gain:0}),this._carrier=new Is({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new us({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Is({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new js({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new js({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Di(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Is.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Us extends Ps{constructor(){const t=pi(Us.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new os({context:this.context,gain:0}),this._thresh=new Cs({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new us({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Is({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Di(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ps.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ws extends Ps{constructor(){const t=pi(Ws.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new us({context:this.context,units:"frequency",value:t.frequency}),this.detune=new us({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Di(this,["frequency","detune"])}static getDefaults(){return Object.assign(Is.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,r)=>t.detune.value=e+n*r))}}get count(){return this._oscillators.length}set count(t){if(Zr(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new Is({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Ri});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Ys extends Ps{constructor(){const t=pi(Ys.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new js({context:this.context,value:2}),this._pulse=new Us({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Is({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Di(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ps.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const qs={am:Ls,fat:Ws,fm:Bs,oscillator:Is,pulse:Us,pwm:Ys};class Gs extends Ps{constructor(){const t=pi(Gs.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new us({context:this.context,units:"frequency",value:t.frequency}),this.detune=new us({context:this.context,units:"cents",value:t.detune}),Di(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Is.getDefaults(),Bs.getDefaults(),Ls.getDefaults(),Ws.getDefaults(),Us.getDefaults(),Ys.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=qs[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof qs[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Wr(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Wr(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&zr(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Fs(t,e)}()}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function zs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Zr(r,t,e),n.set(this,r)}})}}function Hs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){Zr(this.toSeconds(r),t,e),n.set(this,r)}})}}class Xs extends Ps{constructor(){const t=pi(Xs.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new Fi({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Ps.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ri,onerror:Ri,playbackRate:1,reverse:!1})}load(t){return si(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri)(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?fi(e,this._loopStart):fi(e,0);const r=this.toSeconds(e),i=n;n=fi(n,Math.max(this._buffer.duration-r,0));let s=this.toSeconds(n);s/=this._playbackRate,t=this.toSeconds(t);const o=new Rs({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+s),this._state.setStateAtTime("stopped",t+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Br(i)?o.start(t,r):o.start(t,r,s-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){var r;null===(r=[...this._activeSources].pop())||void 0===r||r.stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Zr(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Zr(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}ii([Hs(0)],Xs.prototype,"fadeIn",void 0),ii([Hs(0)],Xs.prototype,"fadeOut",void 0);class Zs extends Es{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Cs({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ks extends ns{constructor(){const t=pi(Ks.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new us({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(ns.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(zr(t))return t;{let n;for(n in $s)if($s[n][e]===t)return n;return t}}_setCurve(t,e,n){if(zr(n)&&Reflect.has($s,n)){const r=$s[n];Yr(r)?"_decayCurve"!==t&&(this[t]=r[e]):this[t]=r}else{if(!Gr(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0){n=(1-i)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let r=this._attackCurve;for(let t=1;t<r.length;t++)if(r[t-1]<=i&&i<=r[t]){r=this._attackCurve.slice(t),r[0]=i;break}this._sig.setValueCurveAtTime(r,t,n,e)}if(r&&this.sustain<1){const i=e*this.sustain,s=t+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,r+s):this._sig.exponentialApproachValueAtTime(i,s,r)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Xr(Gr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t){return cs(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}asArray(){return si(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){const n=e/t.context.sampleRate,r=new Ni(1,n,t.context.sampleRate),i=t.toSeconds(t.attack)+t.toSeconds(t.decay),s=i+t.toSeconds(t.release),o=.1*s,a=s+o,l=new t.constructor(Object.assign(t.get(),{attack:n*t.toSeconds(t.attack)/a,decay:n*t.toSeconds(t.decay)/a,release:n*t.toSeconds(t.release)/a,context:r}));l._sig.toDestination(),l.triggerAttackRelease(n*(i+o)/a,0);return(yield r.render()).getChannelData(0)}()}))}dispose(){return super.dispose(),this._sig.dispose(),this}}ii([Hs(0)],Ks.prototype,"attack",void 0),ii([Hs(0)],Ks.prototype,"decay",void 0),ii([zs(0,1)],Ks.prototype,"sustain",void 0),ii([Hs(0)],Ks.prototype,"release",void 0);const $s=(()=>{const t=128;let e,n;const r=[];for(e=0;e<t;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const s=[];for(e=0;e<t;e++)s[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,r=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(r*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:r,Out:(u=r,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:o,Out:l(o)},step:{In:s,Out:l(s)}};var u})();class Qs extends ns{constructor(){const t=pi(Qs.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new gs({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Di(this,"volume")}static getDefaults(){return Object.assign(ns.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){var n=this;const r=this["_original_"+t]=this[t];this[t]=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const o=i[e],a=n.context.transport.schedule((t=>{i[e]=t,r.apply(n,i)}),o);n._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,i,r),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Js extends Qs{constructor(){const t=pi(Js.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Qs.getDefaults(),{detune:0,onsilence:Ri,portamento:0})}triggerAttack(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.log("triggerAttack",t,e,n);const r=this.toSeconds(e);return this._triggerEnvelopeAttack(r,n),this.setNote(t,r),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),r=t instanceof Zi?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,t,n)}else this.frequency.setValueAtTime(r,n);return this}}ii([Hs(0)],Js.prototype,"portamento",void 0);class to extends Ks{constructor(){super(pi(to.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new os({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class eo extends Js{constructor(){const t=pi(eo.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new Gs(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new to(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Di(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Js.getDefaults(),{envelope:Object.assign(mi(Ks.getDefaults(),Object.keys(ns.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(mi(Gs.getDefaults(),[...Object.keys(Ps.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class no extends eo{constructor(){const t=pi(no.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Di(this,["oscillator","envelope"])}static getDefaults(){return di(Js.getDefaults(),eo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),r=this.toFrequency(t instanceof Zi?t.toFrequency():t),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ii([zs(0)],no.prototype,"octaves",void 0),ii([Hs(0)],no.prototype,"pitchDecay",void 0);const ro=new Set;function io(t){ro.add(t)}function so(t,e){const n='registerProcessor("'.concat(t,'", ').concat(e,")");ro.add(n)}io('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');io("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");io("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const oo="feedback-comb-filter";so(oo,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class ao extends Qs{constructor(){const t=pi(ao.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=t=>this.releaseAll(t),Xr(!Wr(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Qs.getDefaults(),{maxPolyphony:32,options:{},voice:eo})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Xr(t instanceof Js,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}ei("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const r=new bs(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,n),this._activeVoices.push({midi:r,voice:i,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new bs(this.context,t).toMidi(),r=this._activeVoices.find((t=>{let{midi:e,released:r}=t;return e===n&&!r}));r&&(r.voice.triggerRelease(e),r.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,r){Xr(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,r):this._triggerRelease(e,n):this.context.setTimeout((()=>{this.disposed||this._scheduleEvent(t,e,n,r)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const r=this.toSeconds(e);return this._scheduleEvent("attack",t,r,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n);if(this.triggerAttack(t,i,r),Gr(e)){Xr(Gr(t),"If the duration is an array, the notes must also be an array");for(let n=0;n<t.length;n++){const r=e[Math.min(n,e.length-1)],s=this.toSeconds(r);Xr(s>0,"The duration must be greater than 0"),this.triggerRelease(t[n],i+s)}}else{const n=this.toSeconds(e);Xr(n>0,"The duration must be greater than 0"),this.triggerRelease(t,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const e=mi(t,["onsilence","context"]);return this.options=di(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((t=>{let{voice:n}=t;n.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class lo extends Qs{constructor(){const t=pi(lo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const e={};Object.keys(t.urls).forEach((n=>{const r=parseInt(n,10);if(Xr(Hr(n)||Wr(r)&&isFinite(r),"url key is neither a note or midi pitch: ".concat(n)),Hr(n)){const r=new Zi(this.context,n).toMidi();e[r]=t.urls[n]}else Wr(r)&&isFinite(r)&&(e[r]=t.urls[r])})),this._buffers=new _s({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Qs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ri,onerror:Ri,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: ".concat(t))}triggerAttack(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const r=Gi(new Zi(this.context,t).toFrequency()),i=Math.round(r),s=r-i,o=this._findClosest(i),a=i-o,l=this._buffers.get(a),u=Wi(o+s),c=new Rs({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(e,0,l.duration/u,n),Gr(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Zi(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;){t.shift().stop(e)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=this.toSeconds(n);return this.triggerAttack(t,i,r),Gr(e)?(Xr(Gr(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const r=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(r))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(Xr(Hr(t)||isFinite(t),"note must be a pitch or midi: ".concat(t)),Hr(t)){const r=new Zi(this.context,t).toMidi();this._buffers.add(r,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}ii([Hs(0)],lo.prototype,"attack",void 0),ii([Hs(0)],lo.prototype,"release",void 0);class uo extends ns{constructor(){const t=pi(uo.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Zs({context:this.context}),this.a=new os({context:this.context,gain:0}),this.b=new os({context:this.context,gain:0}),this.output=new os({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new us({context:this.context,units:"normalRange",value:t.fade}),Di(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",is(this._split,this.a.gain,0),is(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ns.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class co extends ns{constructor(t){super(t),this.name="Effect",this._dryWet=new uo({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new os({context:this.context}),this.effectReturn=new os({context:this.context}),this.input=new os({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Di(this,"wet")}static getDefaults(){return Object.assign(ns.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class ho extends ns{constructor(){const t=pi(ho.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new es({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Di(this,"pan")}static getDefaults(){return Object.assign(ns.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const po="bit-crusher";so(po,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class fo extends co{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new os({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Di(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(co.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class mo extends fo{constructor(){const t=pi(mo.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="FeedbackDelay",this._delayNode=new ms({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Di(this,"delayTime")}static getDefaults(){return Object.assign(fo.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class go extends ns{constructor(){const t=pi(go.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new os({context:this.context}),go._allSolos.has(this.context)||go._allSolos.set(this.context,new Set),go._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(ns.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),go._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){go._soloed.has(this.context)||go._soloed.set(this.context,new Set),go._soloed.get(this.context).add(this)}_removeSolo(){go._soloed.has(this.context)&&go._soloed.get(this.context).delete(this)}_isSoloed(){return go._soloed.has(this.context)&&go._soloed.get(this.context).has(this)}_noSolos(){return!go._soloed.has(this.context)||go._soloed.has(this.context)&&0===go._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),go._allSolos.get(this.context).delete(this),this._removeSolo(),this}}go._allSolos=new Map,go._soloed=new Map;class vo extends ns{constructor(){const t=pi(vo.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new ho({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new gs({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Di(this,["pan","volume"])}static getDefaults(){return Object.assign(ns.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class yo extends ns{constructor(){const t=pi(yo.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new go({solo:t.solo,context:this.context}),this._panVol=this.output=new vo({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Di(this,["pan","volume"])}static getDefaults(){return Object.assign(ns.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return yo.buses.has(t)||yo.buses.set(t,new os({context:this.context})),yo.buses.get(t)}send(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._getBus(t),r=new os({context:this.context,units:"decibels",gain:e});return this.connect(r),r.connect(n),r}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}yo.buses=new Map;function _o(){return ji().now()}ji().transport;ji().destination,ji().destination;ji().listener;ji().draw;const bo=ji()}}]);
//# sourceMappingURL=288.be0fdd2a.chunk.js.map